<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Veeam Agent for MAC单机版使用全攻略 | Backup next cloud</title><meta name=keywords content="backup"><meta name=description content="Veeam Agent for MAC随着Veeam v11版本推出，原本这个产品是集成在VBR之中，我也一直以为这个只能是被VBR统一管理才能使用，然而当我仔细阅读官网的UserGuide之后，发现在Veeam Agent for MAC竟然可以工作在Standalone模式下。惊喜之下，赶紧动手来玩了一把。
Veeam Agent for MAC的安装包可以通过VBR中Create Protection Group向导获得，当然如果觉得太麻烦，可以直接到下面这个链接下载我已经提取出来的pkg安装包。
https://cloud.189.cn/t/eEZVvifyqIrm
Veeam Agent for MAC的pkg包安装相当简单，双击运行即可，和普通的其他pkg软件包完全一致，一路下一步即可。大约3~5分钟之内，备份软件就按照好了。在安装完毕后，需要进行初始化设置，因为属于第三方软件，按照Apple惯例，需要在系统偏好设置->安全性和隐私->隐私设置中为Veeam Agent for MAC启用完全磁盘访问功能，如图：

Veeam Agent for MAC遵循了极简的软件设计原则，整个软件由两部分组成，第一部分为Command-line，命令行软件交互，用户备份作业设定以及所有软件功能的配置；第二部分为Control Panel，图形化软件界面，主要用于数据还原和管理工作。在日常使用中，通常第一次配置完备份计划任务后，就不需要再使用命令行做任何操作了，需要恢复数据时只需要通过Control Panel中的Restore来进行数据还原即可。
Command Line 命令行的Veeam Agent for MAC操作命令为：
user@macOS-BigSur ~ % veeamconfig 第一步：设置Repository Standalone模式下，配置备份系统都在MAC上进行，因此需要为备份作业首先设置一个备份存放位置，一般来说可以是以下几种：
 本地磁盘上某一个目录 外接移动硬盘 SMB共享文件夹，远程的某个NAS目录  以SMB共享为例，可以使用以下命令创建一个备份存储库，在Veeam中通常都叫Repository：
user@macOS-BigSur ~ % veeamconfig repository create --name macbackup --type smb --location //<ip address or dns>/sharefoldername/ --username adminuser --password 这里有几个关键参数：
 &ndash;name：后面跟着一个Repository的名称，可以随意设置自己希望的名称，但是需要注意的是这个名称在后面备份任务设定中会用到，不要忘记记下来。 &ndash;type：如果是共享文件夹，需要加这个参数，如果不是，就不需要了。但是这个参数如果使用的话，他后面的类型必须加上smb，不能是其他的。 &ndash;location：远程smb路径，或者是本地某个目录。 &ndash;username和&ndash;password：smb访问专属  整个命令的意思是：创建一个备份存储库（veeamconfig repository create）,存储库名称（&ndash;name）叫 “macbackup”，类型（&ndash;type）为“smb”共享文件夹，共享路径（&ndash;location）是“//IP地址/共享文件夹名” ，访问这个共享需要使用用户名（&ndash;username）“adminuser”，访问这个共享需要输入密码（&ndash;password）。"><meta name=author content="Lei Wei"><link rel=canonical href=https://newblog.backupnext.cloud/post/2021-04-04-mac-agent/><link crossorigin=anonymous href=/assets/css/stylesheet.min.2d6dbfc6e0f8a1db1c9d082a76dc11d094328cf63f247bbc2421dfaa7f2bb170.css integrity="sha256-LW2/xuD4odscnQgqdtwR0JQyjPY/JHu8JCHfqn8rsXA=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.min.7680afc38aa6b15ddf158a4f3780b7b1f7dde7e91d26f073e6229bb7a0793c92.js integrity="sha256-doCvw4qmsV3fFYpPN4C3sffd5+kdJvBz5iKbt6B5PJI=" onload=hljs.initHighlightingOnLoad()></script><link rel=icon href=https://newblog.backupnext.cloud/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://newblog.backupnext.cloud/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://newblog.backupnext.cloud/favicon-32x32.png><link rel=apple-touch-icon href=https://newblog.backupnext.cloud/apple-touch-icon.png><link rel=mask-icon href=https://newblog.backupnext.cloud/favicon.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><meta name=generator content="Hugo 0.83.1"><meta property="og:title" content="Veeam Agent for MAC单机版使用全攻略"><meta property="og:description" content="Veeam Agent for MAC随着Veeam v11版本推出，原本这个产品是集成在VBR之中，我也一直以为这个只能是被VBR统一管理才能使用，然而当我仔细阅读官网的UserGuide之后，发现在Veeam Agent for MAC竟然可以工作在Standalone模式下。惊喜之下，赶紧动手来玩了一把。
Veeam Agent for MAC的安装包可以通过VBR中Create Protection Group向导获得，当然如果觉得太麻烦，可以直接到下面这个链接下载我已经提取出来的pkg安装包。
https://cloud.189.cn/t/eEZVvifyqIrm
Veeam Agent for MAC的pkg包安装相当简单，双击运行即可，和普通的其他pkg软件包完全一致，一路下一步即可。大约3~5分钟之内，备份软件就按照好了。在安装完毕后，需要进行初始化设置，因为属于第三方软件，按照Apple惯例，需要在系统偏好设置->安全性和隐私->隐私设置中为Veeam Agent for MAC启用完全磁盘访问功能，如图：

Veeam Agent for MAC遵循了极简的软件设计原则，整个软件由两部分组成，第一部分为Command-line，命令行软件交互，用户备份作业设定以及所有软件功能的配置；第二部分为Control Panel，图形化软件界面，主要用于数据还原和管理工作。在日常使用中，通常第一次配置完备份计划任务后，就不需要再使用命令行做任何操作了，需要恢复数据时只需要通过Control Panel中的Restore来进行数据还原即可。
Command Line 命令行的Veeam Agent for MAC操作命令为：
user@macOS-BigSur ~ % veeamconfig 第一步：设置Repository Standalone模式下，配置备份系统都在MAC上进行，因此需要为备份作业首先设置一个备份存放位置，一般来说可以是以下几种：
 本地磁盘上某一个目录 外接移动硬盘 SMB共享文件夹，远程的某个NAS目录  以SMB共享为例，可以使用以下命令创建一个备份存储库，在Veeam中通常都叫Repository：
user@macOS-BigSur ~ % veeamconfig repository create --name macbackup --type smb --location //<ip address or dns>/sharefoldername/ --username adminuser --password 这里有几个关键参数：
 &ndash;name：后面跟着一个Repository的名称，可以随意设置自己希望的名称，但是需要注意的是这个名称在后面备份任务设定中会用到，不要忘记记下来。 &ndash;type：如果是共享文件夹，需要加这个参数，如果不是，就不需要了。但是这个参数如果使用的话，他后面的类型必须加上smb，不能是其他的。 &ndash;location：远程smb路径，或者是本地某个目录。 &ndash;username和&ndash;password：smb访问专属  整个命令的意思是：创建一个备份存储库（veeamconfig repository create）,存储库名称（&ndash;name）叫 “macbackup”，类型（&ndash;type）为“smb”共享文件夹，共享路径（&ndash;location）是“//IP地址/共享文件夹名” ，访问这个共享需要使用用户名（&ndash;username）“adminuser”，访问这个共享需要输入密码（&ndash;password）。"><meta property="og:type" content="article"><meta property="og:url" content="https://newblog.backupnext.cloud/post/2021-04-04-mac-agent/"><meta property="article:section" content="post"><meta property="og:site_name" content="Backup next Cloud"><meta name=twitter:card content="summary"><meta name=twitter:title content="Veeam Agent for MAC单机版使用全攻略"><meta name=twitter:description content="Veeam Agent for MAC随着Veeam v11版本推出，原本这个产品是集成在VBR之中，我也一直以为这个只能是被VBR统一管理才能使用，然而当我仔细阅读官网的UserGuide之后，发现在Veeam Agent for MAC竟然可以工作在Standalone模式下。惊喜之下，赶紧动手来玩了一把。
Veeam Agent for MAC的安装包可以通过VBR中Create Protection Group向导获得，当然如果觉得太麻烦，可以直接到下面这个链接下载我已经提取出来的pkg安装包。
https://cloud.189.cn/t/eEZVvifyqIrm
Veeam Agent for MAC的pkg包安装相当简单，双击运行即可，和普通的其他pkg软件包完全一致，一路下一步即可。大约3~5分钟之内，备份软件就按照好了。在安装完毕后，需要进行初始化设置，因为属于第三方软件，按照Apple惯例，需要在系统偏好设置->安全性和隐私->隐私设置中为Veeam Agent for MAC启用完全磁盘访问功能，如图：

Veeam Agent for MAC遵循了极简的软件设计原则，整个软件由两部分组成，第一部分为Command-line，命令行软件交互，用户备份作业设定以及所有软件功能的配置；第二部分为Control Panel，图形化软件界面，主要用于数据还原和管理工作。在日常使用中，通常第一次配置完备份计划任务后，就不需要再使用命令行做任何操作了，需要恢复数据时只需要通过Control Panel中的Restore来进行数据还原即可。
Command Line 命令行的Veeam Agent for MAC操作命令为：
user@macOS-BigSur ~ % veeamconfig 第一步：设置Repository Standalone模式下，配置备份系统都在MAC上进行，因此需要为备份作业首先设置一个备份存放位置，一般来说可以是以下几种：
 本地磁盘上某一个目录 外接移动硬盘 SMB共享文件夹，远程的某个NAS目录  以SMB共享为例，可以使用以下命令创建一个备份存储库，在Veeam中通常都叫Repository：
user@macOS-BigSur ~ % veeamconfig repository create --name macbackup --type smb --location //<ip address or dns>/sharefoldername/ --username adminuser --password 这里有几个关键参数：
 &ndash;name：后面跟着一个Repository的名称，可以随意设置自己希望的名称，但是需要注意的是这个名称在后面备份任务设定中会用到，不要忘记记下来。 &ndash;type：如果是共享文件夹，需要加这个参数，如果不是，就不需要了。但是这个参数如果使用的话，他后面的类型必须加上smb，不能是其他的。 &ndash;location：远程smb路径，或者是本地某个目录。 &ndash;username和&ndash;password：smb访问专属  整个命令的意思是：创建一个备份存储库（veeamconfig repository create）,存储库名称（&ndash;name）叫 “macbackup”，类型（&ndash;type）为“smb”共享文件夹，共享路径（&ndash;location）是“//IP地址/共享文件夹名” ，访问这个共享需要使用用户名（&ndash;username）“adminuser”，访问这个共享需要输入密码（&ndash;password）。"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://newblog.backupnext.cloud/post/"},{"@type":"ListItem","position":2,"name":"Veeam Agent for MAC单机版使用全攻略","item":"https://newblog.backupnext.cloud/post/2021-04-04-mac-agent/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Veeam Agent for MAC单机版使用全攻略","name":"Veeam Agent for MAC单机版使用全攻略","description":"Veeam Agent for MAC随着Veeam v11版本推出，原本这个产品是集成在VBR之中，我也一直以为这个只能是被VBR统一管理才能使用，然而当我仔细阅读官网的UserGuide之后，发现在Veeam Agent for MAC竟然可以工作在Standalone模式下。惊喜之下，赶紧动手来玩了一把。\nVeeam Agent for MAC的安装包可以通过VBR中Create Protection Group向导获得，当然如果觉得太麻烦，可以直接到下面这个链接下载我已经提取出来的pkg安装包。\nhttps://cloud.189.cn/t/eEZVvifyqIrm\nVeeam Agent for MAC的pkg包安装相当简单，双击运行即可，和普通的其他pkg软件包完全一致，一路下一步即可。大约3~5分钟之内，备份软件就按照好了。在安装完毕后，需要进行初始化设置，因为属于第三方软件，按照Apple惯例，需要在系统偏好设置-\u0026gt;安全性和隐私-\u0026gt;隐私设置中为Veeam Agent for MAC启用完全磁盘访问功能，如图：\n\nVeeam Agent for MAC遵循了极简的软件设计原则，整个软件由两部分组成，第一部分为Command-line，命令行软件交互，用户备份作业设定以及所有软件功能的配置；第二部分为Control Panel，图形化软件界面，主要用于数据还原和管理工作。在日常使用中，通常第一次配置完备份计划任务后，就不需要再使用命令行做任何操作了，需要恢复数据时只需要通过Control Panel中的Restore来进行数据还原即可。\nCommand Line 命令行的Veeam Agent for MAC操作命令为：\nuser@macOS-BigSur ~ % veeamconfig 第一步：设置Repository Standalone模式下，配置备份系统都在MAC上进行，因此需要为备份作业首先设置一个备份存放位置，一般来说可以是以下几种：\n 本地磁盘上某一个目录 外接移动硬盘 SMB共享文件夹，远程的某个NAS目录  以SMB共享为例，可以使用以下命令创建一个备份存储库，在Veeam中通常都叫Repository：\nuser@macOS-BigSur ~ % veeamconfig repository create --name macbackup --type smb --location //\u0026lt;ip address or dns\u0026gt;/sharefoldername/ --username adminuser --password 这里有几个关键参数：\n \u0026ndash;name：后面跟着一个Repository的名称，可以随意设置自己希望的名称，但是需要注意的是这个名称在后面备份任务设定中会用到，不要忘记记下来。 \u0026ndash;type：如果是共享文件夹，需要加这个参数，如果不是，就不需要了。但是这个参数如果使用的话，他后面的类型必须加上smb，不能是其他的。 \u0026ndash;location：远程smb路径，或者是本地某个目录。 \u0026ndash;username和\u0026ndash;password：smb访问专属  整个命令的意思是：创建一个备份存储库（veeamconfig repository create）,存储库名称（\u0026ndash;name）叫 “macbackup”，类型（\u0026ndash;type）为“smb”共享文件夹，共享路径（\u0026ndash;location）是“//IP地址/共享文件夹名” ，访问这个共享需要使用用户名（\u0026ndash;username）“adminuser”，访问这个共享需要输入密码（\u0026ndash;password）。","keywords":["backup"],"articleBody":"Veeam Agent for MAC随着Veeam v11版本推出，原本这个产品是集成在VBR之中，我也一直以为这个只能是被VBR统一管理才能使用，然而当我仔细阅读官网的UserGuide之后，发现在Veeam Agent for MAC竟然可以工作在Standalone模式下。惊喜之下，赶紧动手来玩了一把。\nVeeam Agent for MAC的安装包可以通过VBR中Create Protection Group向导获得，当然如果觉得太麻烦，可以直接到下面这个链接下载我已经提取出来的pkg安装包。\nhttps://cloud.189.cn/t/eEZVvifyqIrm\nVeeam Agent for MAC的pkg包安装相当简单，双击运行即可，和普通的其他pkg软件包完全一致，一路下一步即可。大约3~5分钟之内，备份软件就按照好了。在安装完毕后，需要进行初始化设置，因为属于第三方软件，按照Apple惯例，需要在系统偏好设置-安全性和隐私-隐私设置中为Veeam Agent for MAC启用完全磁盘访问功能，如图：\n\nVeeam Agent for MAC遵循了极简的软件设计原则，整个软件由两部分组成，第一部分为Command-line，命令行软件交互，用户备份作业设定以及所有软件功能的配置；第二部分为Control Panel，图形化软件界面，主要用于数据还原和管理工作。在日常使用中，通常第一次配置完备份计划任务后，就不需要再使用命令行做任何操作了，需要恢复数据时只需要通过Control Panel中的Restore来进行数据还原即可。\nCommand Line 命令行的Veeam Agent for MAC操作命令为：\nuser@macOS-BigSur ~ % veeamconfig 第一步：设置Repository Standalone模式下，配置备份系统都在MAC上进行，因此需要为备份作业首先设置一个备份存放位置，一般来说可以是以下几种：\n 本地磁盘上某一个目录 外接移动硬盘 SMB共享文件夹，远程的某个NAS目录  以SMB共享为例，可以使用以下命令创建一个备份存储库，在Veeam中通常都叫Repository：\nuser@macOS-BigSur ~ % veeamconfig repository create --name macbackup --type smb --location ///sharefoldername/ --username adminuser --password 这里有几个关键参数：\n –name：后面跟着一个Repository的名称，可以随意设置自己希望的名称，但是需要注意的是这个名称在后面备份任务设定中会用到，不要忘记记下来。 –type：如果是共享文件夹，需要加这个参数，如果不是，就不需要了。但是这个参数如果使用的话，他后面的类型必须加上smb，不能是其他的。 –location：远程smb路径，或者是本地某个目录。 –username和–password：smb访问专属  整个命令的意思是：创建一个备份存储库（veeamconfig repository create）,存储库名称（–name）叫 “macbackup”，类型（–type）为“smb”共享文件夹，共享路径（–location）是“//IP地址/共享文件夹名” ，访问这个共享需要使用用户名（–username）“adminuser”，访问这个共享需要输入密码（–password）。\n第二步：创建并运行备份作业 因为参数太多，这里不一一详解，举个最简单的例子，供大家参考：\nuser@macOS-BigSur ~ % veeamconfig job create filelevel --name VeeamBigSur --reponame macbackup --includedirs /Users --daily --at 22:00 整句命令的意思是：创建一个文件级备份作业（veeamconfig job create filelevel），作业名称（–name）是“VeeamBigSur”，备份到（–reponame）“macbackup”这个存储库，备份所有“/Users”下面的目录和文件（–includedirs），每天（–daily）在（–at）晚上“22:00”执行备份。\n如上，备份作业就创建好了，这时候可以通过veeamconfig进行进一步的备份作业查询和管理，可以参考官网Veeam Agent for MAC的UserGuide，此处不再详述。\n通常按照上面设置后备份作业就会按计划任务每天进行了，当然有临时需求可以发起临时备份任务。\nControl Panel Veeam Agent for MAC在安装后，在MAC的应用程序中会有程序快捷方式，但是这个应用程序通常不需要运行，因为Veeam Service会在安装后自动运行在后台，而这个快捷方式的唯一作用是进行数据恢复，点击Restore后，就会出现如下图的文件级恢复界面，因为是Standalone模式运行，因此不支持Restore Users。\n\nLicense及工作模式 Veeam Agent for MAC一共有3种许可模式，Server版、Workstation版和Free版，Standalone模式属于free版，因此功能相对来说更简单一些，装上即可使用，无需导入任何许可，而当连接上VBR之后，则会由VBR分配许可变成Server版和Workstation版本来消耗许可发挥更强大的功能。\n当然，果粉们肯定会问，这和MAC自带的Time Machine有啥区别呢，这就留给大伙儿自行探索吧，其实在我本人使用了1周后，两者之间区别还是蛮明显的，但是好在两者并行运行并不冲突，大家有兴趣可以试试看。\n以上就是Standalone版本Veeam Agent for MAC的使用方法，更多内容欢迎阅读原文访问我的博客了解。\n","wordCount":"118","inLanguage":"en","datePublished":"0001-01-01T00:00:00Z","dateModified":"0001-01-01T00:00:00Z","author":{"@type":"Person","name":"Lei Wei"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://newblog.backupnext.cloud/post/2021-04-04-mac-agent/"},"publisher":{"@type":"Organization","name":"Backup next cloud","logo":{"@type":"ImageObject","url":"https://newblog.backupnext.cloud/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add('dark'):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove('dark'):window.matchMedia('(prefers-color-scheme: dark)').matches&&document.body.classList.add('dark')</script><noscript><style type=text/css>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:#1d1e20;--entry:#2e2e33;--primary:rgba(255, 255, 255, 0.84);--secondary:rgba(255, 255, 255, 0.56);--tertiary:rgba(255, 255, 255, 0.16);--content:rgba(255, 255, 255, 0.74);--hljs-bg:#2e2e33;--code-bg:#37383e;--border:#333}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><header class=header><nav class=nav><div class=logo><a href=https://newblog.backupnext.cloud/ accesskey=h title="Lei Wei's blog (Alt + H)">Lei Wei's blog</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></div><ul id=menu><li><a href=https://newblog.backupnext.cloud/archives/ title=Archive><span>Archive</span></a></li><li><a href=https://newblog.backupnext.cloud/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://newblog.backupnext.cloud/search/ title=Search><span>Search</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>Veeam Agent for MAC单机版使用全攻略</h1><div class=post-meta>Lei Wei&nbsp;|&nbsp;<a href=https://github.com/Coku2015/Coku2015.github.io/blob/master/content/post/2021-04-04-MAC%20Agent.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><div class=details>Table of Contents</div></summary><div class=inner><ul><li><a href=#command-line aria-label="Command Line">Command Line</a><ul><li><a href=#%e7%ac%ac%e4%b8%80%e6%ad%a5%e8%ae%be%e7%bd%aerepository aria-label=第一步：设置Repository>第一步：设置Repository</a></li><li><a href=#%e7%ac%ac%e4%ba%8c%e6%ad%a5%e5%88%9b%e5%bb%ba%e5%b9%b6%e8%bf%90%e8%a1%8c%e5%a4%87%e4%bb%bd%e4%bd%9c%e4%b8%9a aria-label=第二步：创建并运行备份作业>第二步：创建并运行备份作业</a></li></ul></li><li><a href=#control-panel aria-label="Control Panel">Control Panel</a></li><li><a href=#license%e5%8f%8a%e5%b7%a5%e4%bd%9c%e6%a8%a1%e5%bc%8f aria-label=License及工作模式>License及工作模式</a></li></ul></div></details></div><div class=post-content><p>Veeam Agent for MAC随着Veeam v11版本推出，原本这个产品是集成在VBR之中，我也一直以为这个只能是被VBR统一管理才能使用，然而当我仔细阅读官网的UserGuide之后，发现在Veeam Agent for MAC竟然可以工作在Standalone模式下。惊喜之下，赶紧动手来玩了一把。</p><p>Veeam Agent for MAC的安装包可以通过VBR中Create Protection Group向导获得，当然如果觉得太麻烦，可以直接到下面这个链接下载我已经提取出来的pkg安装包。</p><p><a href=https://cloud.189.cn/t/eEZVvifyqIrm>https://cloud.189.cn/t/eEZVvifyqIrm</a></p><p>Veeam Agent for MAC的pkg包安装相当简单，双击运行即可，和普通的其他pkg软件包完全一致，一路下一步即可。大约3~5分钟之内，备份软件就按照好了。在安装完毕后，需要进行初始化设置，因为属于第三方软件，按照Apple惯例，需要在系统偏好设置->安全性和隐私->隐私设置中为Veeam Agent for MAC启用完全磁盘访问功能，如图：</p><p><a href=https://imgtu.com/i/cKnnfg><img loading=lazy src=https://z3.ax1x.com/2021/04/04/cKnnfg.png alt=cKnnfg.png></a></p><p>Veeam Agent for MAC遵循了极简的软件设计原则，整个软件由两部分组成，第一部分为Command-line，命令行软件交互，用户备份作业设定以及所有软件功能的配置；第二部分为Control Panel，图形化软件界面，主要用于数据还原和管理工作。在日常使用中，通常第一次配置完备份计划任务后，就不需要再使用命令行做任何操作了，需要恢复数据时只需要通过Control Panel中的Restore来进行数据还原即可。</p><h2 id=command-line>Command Line<a hidden class=anchor aria-hidden=true href=#command-line>#</a></h2><p>命令行的Veeam Agent for MAC操作命令为：</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>user@macOS-BigSur ~ % veeamconfig
</code></pre></div><h3 id=第一步设置repository>第一步：设置Repository<a hidden class=anchor aria-hidden=true href=#第一步设置repository>#</a></h3><p>Standalone模式下，配置备份系统都在MAC上进行，因此需要为备份作业首先设置一个备份存放位置，一般来说可以是以下几种：</p><ul><li>本地磁盘上某一个目录</li><li>外接移动硬盘</li><li>SMB共享文件夹，远程的某个NAS目录</li></ul><p>以SMB共享为例，可以使用以下命令创建一个备份存储库，在Veeam中通常都叫Repository：</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>user@macOS-BigSur ~ % veeamconfig repository create --name macbackup --type smb --location //&lt;ip address or dns&gt;/sharefoldername/ --username adminuser --password
</code></pre></div><p>这里有几个关键参数：</p><ul><li>&ndash;name：后面跟着一个Repository的名称，可以随意设置自己希望的名称，但是需要注意的是这个名称在后面备份任务设定中会用到，不要忘记记下来。</li><li>&ndash;type：如果是共享文件夹，需要加这个参数，如果不是，就不需要了。但是这个参数如果使用的话，他后面的类型必须加上smb，不能是其他的。</li><li>&ndash;location：远程smb路径，或者是本地某个目录。</li><li>&ndash;username和&ndash;password：smb访问专属</li></ul><p>整个命令的意思是：创建一个备份存储库（veeamconfig repository create）,存储库名称（&ndash;name）叫 “macbackup”，类型（&ndash;type）为“smb”共享文件夹，共享路径（&ndash;location）是“//IP地址/共享文件夹名” ，访问这个共享需要使用用户名（&ndash;username）“adminuser”，访问这个共享需要输入密码（&ndash;password）。</p><h3 id=第二步创建并运行备份作业>第二步：创建并运行备份作业<a hidden class=anchor aria-hidden=true href=#第二步创建并运行备份作业>#</a></h3><p>因为参数太多，这里不一一详解，举个最简单的例子，供大家参考：</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>user@macOS-BigSur ~ % veeamconfig job create filelevel --name VeeamBigSur --reponame macbackup --includedirs /Users --daily --at 22:00
</code></pre></div><p>整句命令的意思是：创建一个文件级备份作业（veeamconfig job create filelevel），作业名称（&ndash;name）是“VeeamBigSur”，备份到（&ndash;reponame）“macbackup”这个存储库，备份所有“/Users”下面的目录和文件（&ndash;includedirs），每天（&ndash;daily）在（&ndash;at）晚上“22:00”执行备份。</p><p>如上，备份作业就创建好了，这时候可以通过veeamconfig进行进一步的备份作业查询和管理，可以参考官网Veeam Agent for MAC的UserGuide，此处不再详述。</p><p>通常按照上面设置后备份作业就会按计划任务每天进行了，当然有临时需求可以发起临时备份任务。</p><h2 id=control-panel>Control Panel<a hidden class=anchor aria-hidden=true href=#control-panel>#</a></h2><p>Veeam Agent for MAC在安装后，在MAC的应用程序中会有程序快捷方式，但是这个应用程序通常不需要运行，因为Veeam Service会在安装后自动运行在后台，而这个快捷方式的唯一作用是进行数据恢复，点击Restore后，就会出现如下图的文件级恢复界面，因为是Standalone模式运行，因此不支持Restore Users。</p><p><a href=https://imgtu.com/i/cKn7Af><img loading=lazy src=https://z3.ax1x.com/2021/04/04/cKn7Af.png alt=cKn7Af.png></a></p><h2 id=license及工作模式>License及工作模式<a hidden class=anchor aria-hidden=true href=#license及工作模式>#</a></h2><p>Veeam Agent for MAC一共有3种许可模式，Server版、Workstation版和Free版，Standalone模式属于free版，因此功能相对来说更简单一些，装上即可使用，无需导入任何许可，而当连接上VBR之后，则会由VBR分配许可变成Server版和Workstation版本来消耗许可发挥更强大的功能。</p><p>当然，果粉们肯定会问，这和MAC自带的Time Machine有啥区别呢，这就留给大伙儿自行探索吧，其实在我本人使用了1周后，两者之间区别还是蛮明显的，但是好在两者并行运行并不冲突，大家有兴趣可以试试看。</p><p>以上就是Standalone版本Veeam Agent for MAC的使用方法，更多内容欢迎阅读原文访问我的博客了解。</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://newblog.backupnext.cloud/tags/backup/>backup</a></li></ul><nav class=paginav><a class=prev href=https://newblog.backupnext.cloud/post/2020-09-22-veeam-linux-agent-101/><span class=title>« Prev Page</span><br><span>Veeam Agent for Linux基础知识</span></a>
<a class=next href=https://newblog.backupnext.cloud/post/2018-07-28-van-01/><span class=title>Next Page »</span><br><span>Veeam Availability for Nutanix AHV配置和使用系列（一）</span></a></nav></footer></article></main><footer class=footer><span>Copyright Lei Wei</span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)"><button class=top-link id=top-link type=button accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></button></a>
<script>let menu=document.getElementById('menu');menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)},document.querySelectorAll('a[href^="#"]').forEach(a=>{a.addEventListener("click",function(b){b.preventDefault();var a=this.getAttribute("href").substr(1);window.matchMedia('(prefers-reduced-motion: reduce)').matches?document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView({behavior:"smooth"}),a==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${a}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove('dark'),localStorage.setItem("pref-theme",'light')):(document.body.classList.add('dark'),localStorage.setItem("pref-theme",'dark'))})</script></body></html>