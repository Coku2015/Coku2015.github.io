<!DOCTYPE html>
<html lang="en-US">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="noodp" />
        <title>VAO Basics (Part 8) – Plan Steps · Part 2 - Cloud.Virt.AI.Sec</title><meta name="description" content="Series Index VAO Basics (1) – Introduction VAO Basics (2) – Installation &amp; Deployment VAO Basics (3) – Core Components · Part 1 VAO Basics (4) – Core Components …"><meta property="og:url" content="https://blog.backupnext.cloud/en/2020/02/vao-guide-08/">
  <meta property="og:site_name" content="Cloud.Virt.AI.Sec">
  <meta property="og:title" content="VAO Basics (Part 8) – Plan Steps · Part 2">
  <meta property="og:description" content="Series Index VAO Basics (1) – Introduction VAO Basics (2) – Installation &amp; Deployment VAO Basics (3) – Core Components · Part 1 VAO Basics (4) – Core Components · Part 2 VAO Basics (5) – Essential Configuration Notes VAO Basics (6) – The First Step to a Successful DR Plan VAO Basics (7) – Plan Steps · Part 1 VAO Basics (8) – Plan Steps · Part 2 VAO Basics (9) – Document Template Deep Dive Previously we looked at the Plan Step library. Today we’ll zoom in on custom scripts—how to create them, where to run them, and how to pass parameters. I’ll walk through a working example so you can follow along.">
  <meta property="og:locale" content="en_US">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2020-02-28T00:00:00+00:00">
    <meta property="article:modified_time" content="2020-02-28T00:00:00+00:00">
    <meta property="article:tag" content="VAO">
    <meta property="og:image" content="https://blog.backupnext.cloud/logo.png">

  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:image" content="https://blog.backupnext.cloud/logo.png">
  <meta name="twitter:title" content="VAO Basics (Part 8) – Plan Steps · Part 2">
  <meta name="twitter:description" content="Series Index VAO Basics (1) – Introduction VAO Basics (2) – Installation &amp; Deployment VAO Basics (3) – Core Components · Part 1 VAO Basics (4) – Core Components · Part 2 VAO Basics (5) – Essential Configuration Notes VAO Basics (6) – The First Step to a Successful DR Plan VAO Basics (7) – Plan Steps · Part 1 VAO Basics (8) – Plan Steps · Part 2 VAO Basics (9) – Document Template Deep Dive Previously we looked at the Plan Step library. Today we’ll zoom in on custom scripts—how to create them, where to run them, and how to pass parameters. I’ll walk through a working example so you can follow along.">
<meta name="application-name" content="Cloud.Virt.AI.Sec">
<meta name="apple-mobile-web-app-title" content="Cloud.Virt.AI.Sec">
<meta name="referrer" content="no-referrer" /><meta name="theme-color" content="#ffffff"><meta name="msapplication-TileColor" content="#da532c"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><link rel="manifest" href="/site.webmanifest"><link rel="canonical" href="https://blog.backupnext.cloud/en/2020/02/vao-guide-08/" /><link rel="prev" href="https://blog.backupnext.cloud/en/2020/02/vao-guide-07/" /><link rel="next" href="https://blog.backupnext.cloud/en/2020/03/vao-guide-09/" /><link rel="stylesheet" href="/css/style.min.css"><link rel="preload" href="/lib/fontawesome-free/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
        <noscript><link rel="stylesheet" href="/lib/fontawesome-free/css/all.min.css"></noscript><link rel="preload" href="/lib/animate/animate.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
        <noscript><link rel="stylesheet" href="/lib/animate/animate.min.css"></noscript><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "VAO Basics (Part 8) – Plan Steps · Part 2",
        "inLanguage": "en-US",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https:\/\/blog.backupnext.cloud\/en\/2020\/02\/vao-guide-08\/"
        },"image": ["https:\/\/blog.backupnext.cloud\/images\/Apple-Devices-Preview.png"],"genre": "posts","keywords": "VAO","wordcount":  539 ,
        "url": "https:\/\/blog.backupnext.cloud\/en\/2020\/02\/vao-guide-08\/","datePublished": "2020-02-28T00:00:00+00:00","dateModified": "2020-02-28T00:00:00+00:00","publisher": {
            "@type": "Organization",
            "name": "Cloud.Virt.AI.Sec","logo": "https:\/\/blog.backupnext.cloud\/images\/avatar.png"},"author": {
                "@type": "Person",
                "name": "Lei Wei"
            },"description": ""
    }
    </script></head>
    <body data-header-desktop="fixed" data-header-mobile="auto"><script>
          const query = window.matchMedia('(prefers-color-scheme: dark)');
          function applyTheme() {
            let theme = window.localStorage?.getItem('theme') || 'auto';
            let isDark = theme === 'dark' || (theme === 'auto' && query.matches);
            document.body.setAttribute('theme', isDark? 'dark' : 'light');
            document.body.setAttribute('cfg-theme', theme);
          }

          applyTheme();
          query.addEventListener('change', applyTheme);
        </script>

        <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/en/" title="Cloud.Virt.AI.Sec">Cloud.Virt.AI.Sec</a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a class="menu-item" href="/en/posts/"> Posts </a><a class="menu-item" href="/en/archive/"> Archive </a><a class="menu-item" href="/en/categories/"> Categories </a><a class="menu-item" href="/en/tags/"> Tags </a><a class="menu-item" href="/en/about/"> About </a><span class="menu-item delimiter"></span><span class="menu-item search" id="search-desktop">
                        <input type="text" placeholder="Search articles" id="search-input-desktop">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-desktop" title="Search">
                            <i class="fas fa-search fa-fw" aria-hidden="true"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-desktop" title="Clear">
                            <i class="fas fa-times-circle fa-fw" aria-hidden="true"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-desktop">
                            <i class="fas fa-spinner fa-fw fa-spin" aria-hidden="true"></i>
                        </span>
                    </span><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                    <i class="fas fa-adjust fa-fw" aria-hidden="true"></i>
                </a><a href="javascript:void(0);" class="menu-item language" title="Select Language">
                    <i class="fa fa-globe fa-fw" aria-hidden="true"></i>
                    <select class="language-select" id="language-select-desktop" onchange="location = this.value;"><option value="/2020/02/vao-guide-08/">简体中文</option><option value="/en/2020/02/vao-guide-08/" selected>English</option></select>
                </a></div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/en/" title="Cloud.Virt.AI.Sec">Cloud.Virt.AI.Sec</a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><div class="search-wrapper">
                    <div class="search mobile" id="search-mobile">
                        <input type="text" placeholder="Search articles" id="search-input-mobile">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-mobile" title="Search">
                            <i class="fas fa-search fa-fw" aria-hidden="true"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-mobile" title="Clear">
                            <i class="fas fa-times-circle fa-fw" aria-hidden="true"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-mobile">
                            <i class="fas fa-spinner fa-fw fa-spin" aria-hidden="true"></i>
                        </span>
                    </div>
                    <a href="javascript:void(0);" class="search-cancel" id="search-cancel-mobile">
                        Cancel
                    </a>
                </div><a class="menu-item" href="/en/posts/" title="">Posts</a><a class="menu-item" href="/en/archive/" title="">Archive</a><a class="menu-item" href="/en/categories/" title="">Categories</a><a class="menu-item" href="/en/tags/" title="">Tags</a><a class="menu-item" href="/en/about/" title="">About</a><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                <i class="fas fa-adjust fa-fw" aria-hidden="true"></i>
            </a><div class="menu-item language" title="Select Language">
                    <i class="fa fa-globe fa-fw" aria-hidden="true"></i>
                    <select class="language-select" onchange="location = this.value;"><option value="/2020/02/vao-guide-08/">简体中文</option><option value="/en/2020/02/vao-guide-08/" selected>English</option></select>
                </div></div>
    </div>
</header><div class="search-dropdown desktop">
        <div id="search-dropdown-desktop"></div>
    </div>
    <div class="search-dropdown mobile">
        <div id="search-dropdown-mobile"></div>
    </div><main class="main">
                <div class="container"><div class="toc" id="toc-auto">
            <h2 class="toc-title">Contents</h2>
            <div class="toc-content" id="toc-content-auto"></div>
        </div><article class="page single"><h1 class="single-title animate__animated animate__flipInX">VAO Basics (Part 8) – Plan Steps · Part 2</h1><div class="post-meta">
            <div class="post-meta-line"><span class="post-author"><a href="https://blog.backupnext.cloud" title="Author" target="_blank" rel="noopener noreffer author" class="author"><i class="fas fa-user-circle fa-fw" aria-hidden="true"></i>Lei Wei</a></span></div>
            <div class="post-meta-line"><i class="far fa-calendar-alt fa-fw" aria-hidden="true"></i>&nbsp;<time datetime="2020-02-28">2020-02-28</time>&nbsp;<i class="fas fa-pencil-alt fa-fw" aria-hidden="true"></i>&nbsp;539 words&nbsp;
                <i class="far fa-clock fa-fw" aria-hidden="true"></i>&nbsp;3 minutes&nbsp;</div>
        </div><div class="details toc" id="toc-static"  data-kept="">
                <div class="details-summary toc-title">
                    <span>Contents</span>
                    <span><i class="details-icon fas fa-angle-right" aria-hidden="true"></i></span>
                </div>
                <div class="details-content toc-content" id="toc-content-static"><nav id="TableOfContents">
  <ul>
    <li><a href="#series-index">Series Index</a></li>
    <li><a href="#creating--configuring-custom-steps">Creating &amp; Configuring Custom Steps</a></li>
    <li><a href="#hello-script">Hello, Script</a></li>
    <li><a href="#handling-errors">Handling Errors</a></li>
    <li><a href="#passing-parameters">Passing Parameters</a></li>
  </ul>
</nav></div>
            </div><div class="content" id="content"><h2 id="series-index">Series Index</h2>
<ul>
<li><a href="https://blog.backupnext.cloud/_posts/2020-02-17-VAO-Guide-01/" target="_blank" rel="noopener noreffer ">VAO Basics (1) – Introduction</a></li>
<li><a href="https://blog.backupnext.cloud/_posts/2020-02-18-VAO-Guide-02/" target="_blank" rel="noopener noreffer ">VAO Basics (2) – Installation &amp; Deployment</a></li>
<li><a href="https://blog.backupnext.cloud/_posts/2020-02-19-VAO-Guide-03/" target="_blank" rel="noopener noreffer ">VAO Basics (3) – Core Components · Part 1</a></li>
<li><a href="https://blog.backupnext.cloud/_posts/2020-02-20-VAO-Guide-04/" target="_blank" rel="noopener noreffer ">VAO Basics (4) – Core Components · Part 2</a></li>
<li><a href="https://blog.backupnext.cloud/_posts/2020-02-21-VAO-Guide-05/" target="_blank" rel="noopener noreffer ">VAO Basics (5) – Essential Configuration Notes</a></li>
<li><a href="https://blog.backupnext.cloud/_posts/2020-02-25-VAO-Guide-06/" target="_blank" rel="noopener noreffer ">VAO Basics (6) – The First Step to a Successful DR Plan</a></li>
<li><a href="https://blog.backupnext.cloud/_posts/2020-02-27-VAO-Guide-07/" target="_blank" rel="noopener noreffer ">VAO Basics (7) – Plan Steps · Part 1</a></li>
<li><a href="https://blog.backupnext.cloud/_posts/2020-02-28-VAO-Guide-08/" target="_blank" rel="noopener noreffer ">VAO Basics (8) – Plan Steps · Part 2</a></li>
<li><a href="https://blog.backupnext.cloud/_posts/2020-03-02-VAO-Guide-09/" target="_blank" rel="noopener noreffer ">VAO Basics (9) – Document Template Deep Dive</a></li>
</ul>
<p>Previously we looked at the Plan Step library. Today we’ll zoom in on custom scripts—how to create them, where to run them, and how to pass parameters. I’ll walk through a working example so you can follow along.</p>
<h2 id="creating--configuring-custom-steps">Creating &amp; Configuring Custom Steps</h2>
<p>You need an account in the <strong>Administrators</strong> role to manage Plan Steps. In <strong>Administration → Configuration → Plan Steps</strong> you’ll find the full list, including both built-in steps and any custom ones you add.</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://s2.ax1x.com/2020/02/27/3wzhTJ.png"
        data-srcset="https://s2.ax1x.com/2020/02/27/3wzhTJ.png, https://s2.ax1x.com/2020/02/27/3wzhTJ.png 1.5x, https://s2.ax1x.com/2020/02/27/3wzhTJ.png 2x"
        data-sizes="auto"
        alt="https://s2.ax1x.com/2020/02/27/3wzhTJ.png"
        title="3wzhTJ.png" /></p>
<p>Click <strong>Add</strong> to launch the wizard. Give the step a memorable name—say “Remote test script”—and upload your PowerShell file via <strong>Browse</strong>.</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://s2.ax1x.com/2020/02/27/30MFTs.png"
        data-srcset="https://s2.ax1x.com/2020/02/27/30MFTs.png, https://s2.ax1x.com/2020/02/27/30MFTs.png 1.5x, https://s2.ax1x.com/2020/02/27/30MFTs.png 2x"
        data-sizes="auto"
        alt="https://s2.ax1x.com/2020/02/27/30MFTs.png"
        title="30MFTs.png" /></p>
<p>Choose whether the step is visible to all Plan Authors or hidden (for sensitive scripts).<br>
<img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://s2.ax1x.com/2020/02/27/308ao4.png"
        data-srcset="https://s2.ax1x.com/2020/02/27/308ao4.png, https://s2.ax1x.com/2020/02/27/308ao4.png 1.5x, https://s2.ax1x.com/2020/02/27/308ao4.png 2x"
        data-sizes="auto"
        alt="https://s2.ax1x.com/2020/02/27/308ao4.png"
        title="308ao4.png" /></p>
<p>Finish the wizard to save the step. One critical reminder: custom steps can run either on the <strong>VBR server</strong> or inside the <strong>guest OS</strong> of the recovered VM. After creating the step, click its name and adjust the <strong>Execution Target</strong> on the right. The default is “On VBR server”. For today’s test we’ll switch it to <strong>In-Guest OS</strong>.</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://s2.ax1x.com/2020/02/27/30smI1.png"
        data-srcset="https://s2.ax1x.com/2020/02/27/30smI1.png, https://s2.ax1x.com/2020/02/27/30smI1.png 1.5x, https://s2.ax1x.com/2020/02/27/30smI1.png 2x"
        data-sizes="auto"
        alt="https://s2.ax1x.com/2020/02/27/30smI1.png"
        title="30smI1.png" /></p>
<p>This setting is global—if multiple scopes use the same step, they all inherit the same execution target. Create separate steps if you need different behavior.</p>
<h2 id="hello-script">Hello, Script</h2>
<p>Let’s start simple:</p>
<div class="code-block code-line-numbers open" style="counter-reset: code-block 0">
    <div class="code-header language-powershell">
        <span class="code-title"><i class="arrow fas fa-angle-right fa-fw" aria-hidden="true"></i></span>
        <span class="ellipses"><i class="fas fa-ellipsis-h fa-fw" aria-hidden="true"></i></span>
        <span class="copy" title="Copy to clipboard"><i class="far fa-copy fa-fw" aria-hidden="true"></i></span>
    </div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-powershell" data-lang="powershell"><span class="line"><span class="cl"><span class="c">###########</span>
</span></span><span class="line"><span class="cl"><span class="c"># Lei Wei - 02/28/20</span>
</span></span><span class="line"><span class="cl"><span class="c"># A quick demo script</span>
</span></span><span class="line"><span class="cl"><span class="c"># v1.0</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nv">$S</span> <span class="p">=</span> <span class="nb">Get-Date</span>
</span></span><span class="line"><span class="cl"><span class="nb">Add-Content</span> <span class="n">c:</span><span class="p">\</span><span class="n">vao_log</span><span class="p">.</span><span class="py">txt</span> <span class="s2">&#34;</span><span class="nv">$S</span><span class="s2"> - Recording date&#34;</span></span></span></code></pre></div></div>
<p>If everything goes well you’ll see the step appear in VAO like this:</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://s2.ax1x.com/2020/02/27/30RZZD.jpg"
        data-srcset="https://s2.ax1x.com/2020/02/27/30RZZD.jpg, https://s2.ax1x.com/2020/02/27/30RZZD.jpg 1.5x, https://s2.ax1x.com/2020/02/27/30RZZD.jpg 2x"
        data-sizes="auto"
        alt="https://s2.ax1x.com/2020/02/27/30RZZD.jpg"
        title="30RZZD.jpg" /></p>
<h2 id="handling-errors">Handling Errors</h2>
<p>Real scripts fail occasionally, so let’s add error handling:</p>
<div class="code-block code-line-numbers open" style="counter-reset: code-block 0">
    <div class="code-header language-powershell">
        <span class="code-title"><i class="arrow fas fa-angle-right fa-fw" aria-hidden="true"></i></span>
        <span class="ellipses"><i class="fas fa-ellipsis-h fa-fw" aria-hidden="true"></i></span>
        <span class="copy" title="Copy to clipboard"><i class="far fa-copy fa-fw" aria-hidden="true"></i></span>
    </div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-powershell" data-lang="powershell"><span class="line"><span class="cl"><span class="c">###########</span>
</span></span><span class="line"><span class="cl"><span class="c"># Lei Wei - 02/27/20</span>
</span></span><span class="line"><span class="cl"><span class="c"># Demo script with error handling</span>
</span></span><span class="line"><span class="cl"><span class="c"># v1.1</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">try</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nv">$S</span> <span class="p">=</span> <span class="nb">Get-Date</span>
</span></span><span class="line"><span class="cl">    <span class="nb">Add-Content</span> <span class="n">c:</span><span class="p">\</span><span class="n">vao_log</span><span class="p">.</span><span class="py">txt</span> <span class="s2">&#34;</span><span class="nv">$S</span><span class="s2"> - Recording date.&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="nb">Write-Host</span> <span class="s2">&#34;Operation succeeded&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="k">catch</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nb">Write-Error</span> <span class="s2">&#34;Something broke!&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="nb">Write-Error</span> <span class="nv">$_</span><span class="p">.</span><span class="py">Exception</span><span class="p">.</span><span class="py">Message</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div></div>
<p>When this script runs, VAO captures both success and failure output and surfaces it directly in the UI:</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://s2.ax1x.com/2020/02/27/30Iizd.png"
        data-srcset="https://s2.ax1x.com/2020/02/27/30Iizd.png, https://s2.ax1x.com/2020/02/27/30Iizd.png 1.5x, https://s2.ax1x.com/2020/02/27/30Iizd.png 2x"
        data-sizes="auto"
        alt="https://s2.ax1x.com/2020/02/27/30Iizd.png"
        title="30Iizd.png" /></p>
<h2 id="passing-parameters">Passing Parameters</h2>
<p>Scripts can also receive parameters from VAO. Update the script to accept two values:</p>
<div class="code-block code-line-numbers open" style="counter-reset: code-block 0">
    <div class="code-header language-powershell">
        <span class="code-title"><i class="arrow fas fa-angle-right fa-fw" aria-hidden="true"></i></span>
        <span class="ellipses"><i class="fas fa-ellipsis-h fa-fw" aria-hidden="true"></i></span>
        <span class="copy" title="Copy to clipboard"><i class="far fa-copy fa-fw" aria-hidden="true"></i></span>
    </div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-powershell" data-lang="powershell"><span class="line"><span class="cl"><span class="c">###########</span>
</span></span><span class="line"><span class="cl"><span class="c"># Lei Wei - 02/27/20</span>
</span></span><span class="line"><span class="cl"><span class="c"># Demo script with parameters</span>
</span></span><span class="line"><span class="cl"><span class="c"># v1.2</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">Param</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="p">[</span><span class="nb">Parameter</span><span class="p">(</span><span class="na">Mandatory</span><span class="p">=</span><span class="vm">$true</span><span class="p">)]</span>
</span></span><span class="line"><span class="cl">    <span class="p">[</span><span class="no">string</span><span class="p">]</span><span class="nv">$planName</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="p">[</span><span class="no">string</span><span class="p">]</span><span class="nv">$text</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">try</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nv">$S</span> <span class="p">=</span> <span class="nb">Get-Date</span>
</span></span><span class="line"><span class="cl">    <span class="nb">Add-Content</span> <span class="n">c:</span><span class="p">\</span><span class="n">vao_log</span><span class="p">.</span><span class="py">txt</span> <span class="s2">&#34;</span><span class="nv">$S</span><span class="s2"> - Recording date.&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="nb">Write-Host</span> <span class="s2">&#34;Operation succeeded&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="nb">Write-Host</span> <span class="s2">&#34;Plan </span><span class="nv">$planName</span><span class="s2"> says: </span><span class="nv">$text</span><span class="s2">&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="k">catch</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nb">Write-Error</span> <span class="s2">&#34;Something broke!&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="nb">Write-Error</span> <span class="nv">$_</span><span class="p">.</span><span class="py">Exception</span><span class="p">.</span><span class="py">Message</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div></div>
<p>To feed those parameters from VAO, open the step and click <strong>Add</strong> under the parameters pane. The parameter names must match the script exactly (<code>planName</code> and <code>text</code> in this example).</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://s2.ax1x.com/2020/02/28/307LtK.png"
        data-srcset="https://s2.ax1x.com/2020/02/28/307LtK.png, https://s2.ax1x.com/2020/02/28/307LtK.png 1.5x, https://s2.ax1x.com/2020/02/28/307LtK.png 2x"
        data-sizes="auto"
        alt="https://s2.ax1x.com/2020/02/28/307LtK.png"
        title="307LtK.png" /></p>
<p>For <code>planName</code>, set the default value to <code>$plan_name$</code>—one of VAO’s built-in variables. Click <strong>Edit</strong> to see the list of available variables. For <code>text</code>, type a literal string such as “parameter transfer completed”.</p>
<p>Now run the plan that uses this step. The Step Details and final report will display the output with your parameters injected:</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://s2.ax1x.com/2020/02/28/307qk6.png"
        data-srcset="https://s2.ax1x.com/2020/02/28/307qk6.png, https://s2.ax1x.com/2020/02/28/307qk6.png 1.5x, https://s2.ax1x.com/2020/02/28/307qk6.png 2x"
        data-sizes="auto"
        alt="https://s2.ax1x.com/2020/02/28/307qk6.png"
        title="307qk6.png" /></p>
<p>Feels pretty powerful, right? Give it a try and start building your own automation!</p>
</div><div class="post-footer" id="post-footer">
    <div class="post-info">
        <div class="post-info-line">
            <div class="post-info-mod">
                <span>Updated on 2020-02-28</span>
            </div></div>
        <div class="post-info-line">
            <div class="post-info-md"><span>
                            <a class="link-to-markdown" href="/en/2020/02/vao-guide-08/index.md" target="_blank">Read Markdown</a>
                        </span></div>
            <div class="post-info-share">
                <span><a href="https://api.qrserver.com/v1/create-qr-code/?size=240x240&amp;data=https%3A%2F%2Fblog.backupnext.cloud%2Fen%2F2020%2F02%2Fvao-guide-08%2F" target="_blank" rel="noopener noreferrer" title="Share on 微信" aria-label="Share on 微信"><i class="fab fa-weixin fa-fw" aria-hidden="true"></i></a><a href="https://twitter.com/intent/tweet?url=https%3A%2F%2Fblog.backupnext.cloud%2Fen%2F2020%2F02%2Fvao-guide-08%2F&amp;text=VAO&#43;Basics&#43;%28Part&#43;8%29&#43;%E2%80%93&#43;Plan&#43;Steps&#43;%C2%B7&#43;Part&#43;2" target="_blank" rel="noopener noreferrer" title="Share on X" aria-label="Share on X"><i class="fab fa-twitter fa-fw" aria-hidden="true"></i></a><a href="https://www.linkedin.com/sharing/share-offsite/?url=https%253A%252F%252Fblog.backupnext.cloud%252Fen%252F2020%252F02%252Fvao-guide-08%252F" target="_blank" rel="noopener noreferrer" title="Share on Linkedin" aria-label="Share on Linkedin"><i class="fab fa-linkedin fa-fw" aria-hidden="true"></i></a><a href="https://www.facebook.com/sharer/sharer.php?u=https%253A%252F%252Fblog.backupnext.cloud%252Fen%252F2020%252F02%252Fvao-guide-08%252F" target="_blank" rel="noopener noreferrer" title="Share on Facebook" aria-label="Share on Facebook"><i class="fab fa-facebook-square fa-fw" aria-hidden="true"></i></a></span>
            </div>
        </div>
    </div>

    <div class="post-info-more">
        <section class="post-tags"><i class="fas fa-tags fa-fw" aria-hidden="true"></i>&nbsp;<a href="/en/tags/VAO/">VAO</a></section>
        <section>
            <span><button type="button" class="link-button" onclick="window.history.back();">Back</button></span>&nbsp;|&nbsp;<span><a href="/en/">Home</a></span>
        </section>
    </div>

    <div class="post-nav"><a href="/en/2020/02/vao-guide-07/" class="prev" rel="prev" title="VAO Basics (Part 7) – Plan Steps · Part 1"><i class="fas fa-angle-left fa-fw" aria-hidden="true"></i>VAO Basics (Part 7) – Plan Steps · Part 1</a>
            <a href="/en/2020/03/vao-guide-09/" class="next" rel="next" title="VAO Basics (Part 9) – Report Template Guide">VAO Basics (Part 9) – Report Template Guide<i class="fas fa-angle-right fa-fw" aria-hidden="true"></i></a></div>
</div>
<div id="comments"><div id="disqus_thread" class="comment"></div><noscript>
                Please enable JavaScript to view the comments powered by <a href="https://disqus.com/?ref_noscript">Disqus</a>.
            </noscript></div></article></div>
            </main><footer class="footer">
        <div class="footer-container"><div class="footer-line">English content on this site is generated by AI (GLM-4.6+Claude Code).</div><div class="footer-line">Powered by <a href="https://gohugo.io/" target="_blank" rel="noopener noreffer" title="Hugo 0.152.2">Hugo</a> | Theme - <a href="https://github.com/dillonzq/LoveIt" target="_blank" rel="noopener noreffer" title="LoveIt 0.3.1-DEV"><i class="far fa-kiss-wink-heart fa-fw" aria-hidden="true"></i> LoveIt</a>
                </div><div class="footer-line" itemscope itemtype="http://schema.org/CreativeWork"><i class="far fa-copyright fa-fw" aria-hidden="true"></i><span itemprop="copyrightYear">2017 - 2025</span><span class="author" itemprop="copyrightHolder">&nbsp;<a href="https://blog.backupnext.cloud" target="_blank">Lei Wei</a></span>&nbsp;|&nbsp;<span class="license"><a rel="license external nofollow noopener noreffer" href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank">CC BY-NC 4.0</a></span></div>
        </div>
    </footer></div>

        <div id="fixed-buttons"><a href="#" id="back-to-top" class="fixed-button" title="Back to Top">
                <i class="fas fa-arrow-up fa-fw" aria-hidden="true"></i>
            </a>
        </div>

        <div id="fixed-buttons-hidden"><a href="#" id="view-comments" class="fixed-button" title="View Comments">
                <i class="fas fa-comment fa-fw" aria-hidden="true"></i>
            </a>
        </div><script src="https://backupnextcloud.disqus.com/embed.js" defer></script><script src="/lib/autocomplete/autocomplete.min.js"></script><script src="/lib/lunr/lunr.min.js"></script><script src="/lib/lunr/lunr.stemmer.support.min.js"></script><script src="/lib/lunr/lunr.zh.min.js"></script><script src="/lib/lazysizes/lazysizes.min.js"></script><script src="/lib/clipboard/clipboard.min.js"></script><script src="/lib/sharer/sharer.min.js"></script><script>window.config={"comment":{},"search":{"highlightTag":"em","lunrIndexURL":"/en/index.json","lunrLanguageCode":"en","lunrSegmentitURL":"/lib/lunr/lunr.segmentit.js","maxResultLength":10,"noResultsFound":"No results found","snippetLength":30,"type":"lunr"}};</script><script src="/js/theme.min.js"></script></body>
</html>
