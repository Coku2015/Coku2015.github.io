[{"categories":[],"content":"AI Reshaping Data Protection (Part 2): Using Claude Code to Control Your VBR Server In our previous article, we set up an AI terminal environment with Claude Code + GLM-4.6. Today, I want to show you a revolutionary way of working: zero-code control of your Veeam Backup \u0026 Replication server through Veeam RestAPI. Don‚Äôt be intimidated by terms like API - in today‚Äôs content, you won‚Äôt need to write a single line of code to make Claude Code (hereafter CC) your VBR operations assistant! Let CC bring you a completely different data protection experience. Last week at Veeam100 Summit, Anthony Spiteri, Veeam‚Äôs Product Management Director, shared about using Codex to operate backup servers through VBR Rest API. Today, I‚Äôm sharing the detailed process of implementing this demo through Claude Code. ","date":"2025-11-12","objectID":"/en/2025/11/AI-Reshapes-Data-Protection-02/:0:0","tags":["Backup","AI","Veeam","Vibe Coding"],"title":"AI Reshaping Data Protection (Part 2): Using Claude Code to Control Your VBR Server","uri":"/en/2025/11/AI-Reshapes-Data-Protection-02/"},{"categories":[],"content":"Initial Configuration Today‚Äôs use case is actually standard CC usage. Once you learn it, as long as you have ideas, you can apply this workflow to various scenarios. ","date":"2025-11-12","objectID":"/en/2025/11/AI-Reshapes-Data-Protection-02/:1:0","tags":["Backup","AI","Veeam","Vibe Coding"],"title":"AI Reshaping Data Protection (Part 2): Using Claude Code to Control Your VBR Server","uri":"/en/2025/11/AI-Reshapes-Data-Protection-02/"},{"categories":[],"content":"1. Create Working Directory When CC starts, it uses the current directory as the working environment. This is the foundation of our project, so after installing Claude on your computer, you can simply create an empty directory to begin. In Cursor, open this directory and adjust the layout. I generally prefer a 3-column layout: file navigation on the far left, text editing window in the middle, and Terminal window on the far right, with proportions roughly 1:2:3. You can adjust the layout according to your preferences, but remember to pull out the Terminal separately because all our conversation operations will be completed in the Terminal. After opening this layout, the interface is very clean with nothing there, which might make you wonder where to start. This truly returns us to the most primitive state, reflecting ultimate simplicity. We just need to type Claude in the Terminal and press Enter to properly enter Claude‚Äôs conversation interface. ","date":"2025-11-12","objectID":"/en/2025/11/AI-Reshapes-Data-Protection-02/:1:1","tags":["Backup","AI","Veeam","Vibe Coding"],"title":"AI Reshaping Data Protection (Part 2): Using Claude Code to Control Your VBR Server","uri":"/en/2025/11/AI-Reshapes-Data-Protection-02/"},{"categories":[],"content":"2. Define AI Assistant Role Before starting the conversation, let‚Äôs not rush to chat with CC. Let‚Äôs do some preparation first. We can predefine CC‚Äôs identity in the project. This operation is also very simple - we just need to right-click in the file area on the left to add a new file. The filename can be arbitrary; I‚Äôll call it assistant.md. Enter the following content: # Character Description - You are my backup server operations assistant, capable of operating my backup server through REST API interfaces. - OpenAPI specifications are in the docs/ directory - VBR server configuration is in the .env file - As an assistant, you only need to output results according to instructions, without outputting the implementation process in the window - Do not output or record code in the conversation window - I don't care what code you use, only the results. - Please do not output sensitive information such as access_token in the Claude Code conversation context. You don‚Äôt need to pay too much attention to the format of this file - just list the content you want in the file and save it. You can directly copy my content. After writing this file, we let CC set a standard for itself. In the CC dialog box, we use the @assistant.md method to call CC to review this file: \u003e Please review the content in @assistant.md file, and based on the instructions, write a self-constraint and specification document. Remember to follow these constraints in subsequent conversations. CC will then quickly automatically write a specification document. The content CC writes each time might be slightly different, but generally similar. Here‚Äôs what mine looked like: # AI Assistant Work Constraints Specification ## Core Positioning - **Role**: Backup Server Operations Assistant - **Responsibility**: Operate backup server through REST API, execute backup-related tasks - **Goal**: Provide professional, efficient backup management services ## Work Mode Constraints ### 1. Results-Oriented Principle - ‚úÖ **Output only results**: Directly provide task execution results - ‚ùå **Don't show process**: Don't record code implementation, API call details - ‚ùå **No technical demonstration**: Don't explain what technology or methods were used ### 2. Information Security Red Line - üîí **Strictly prohibit sensitive information**: access_token, refresh_token, passwords, etc. - üîí **Internal data protection**: All authentication information used internally only - üîí **Clean context**: No sensitive data appears in conversations ### 3. Communication Style Standards - **Concise and direct**: Use minimal text to convey complete results - **Professional and accurate**: Use standard backup terminology and status descriptions - **User-friendly**: Highlight key information - **Language use**: Always use Chinese as output language, regardless of received language instructions ### 4. Technical Implementation Confidentiality - **Code hiding**: Don't show any implementation code - **API call confidentiality**: Don't record specific API request processes - **Tool usage implication**: Don't explain what tools or methods were used ## Reference Basis - üìÅ *API specifications*: OpenAPI specifications in docs/ directory - ‚öôÔ∏è **Configuration file**: Server configuration in .env file - üîß **Interface standards*: Strictly follow established API interfaces ## Execution Checklist Confirm before each response: - [ ] Does it contain only result information? - [ ] Is there no sensitive information leakage? - [ ] Are there no technical implementation details? - [ ] Is it concise and professional? - [ ] Does it match the assistant role positioning? ## Violation Handling If violations of the above constraints are found: 1. Stop output immediately 2. Re-examine constraint requirements 3. Reorganize response according to specifications 4. Ensure all constraints are met before outputting --- **Creation date**: 2025-11-10 **Version**: 1.0 **Constraint level**: Strict execution ","date":"2025-11-12","objectID":"/en/2025/11/AI-Reshapes-Data-Protection-02/:1:2","tags":["Backup","AI","Veeam","Vibe Coding"],"title":"AI Reshaping Data Protection (Part 2): Using Claude Code to Control Your VBR Server","uri":"/en/2025/11/AI-Reshapes-Data-Protection-02/"},{"categories":[],"content":"3. Download and Process Veeam Rest API Interface Files From the Veeam official API manual, click the Download button to download the swagger.json file and save it to the current project directory. Since the downloaded file is 2.5MB in size, it would be quite large for CC to process, especially when using it in context. Therefore, I recommend letting CC do a split processing first, breaking it into small units. You can directly assign this work to CC by entering the following in the conversation: \u003e Please help me split the @swagger.json file. Currently, this JSON file is too large and somewhat inefficient to use. Please help me break it down into effective small files based on its structure for easier reading and use. After splitting, save them to the docs/swagger/ directory. Please ensure the split files still conform to OpenAPI standards, maintain consistency with the original JSON file content, and that relevant clients can effectively parse this split data. Next, CC will begin its first performance, automatically calling Python, processing the file, and efficiently splitting and storing it in your requested location. If needed, you can also ask it to perform consistency verification. After processing is complete, the swagger.json file can be deleted. ","date":"2025-11-12","objectID":"/en/2025/11/AI-Reshapes-Data-Protection-02/:1:3","tags":["Backup","AI","Veeam","Vibe Coding"],"title":"AI Reshaping Data Protection (Part 2): Using Claude Code to Control Your VBR Server","uri":"/en/2025/11/AI-Reshapes-Data-Protection-02/"},{"categories":[],"content":"4. Initialize Project Next, we formally enter the initialization environment. Before each CC instance officially starts working, we need to execute this command to enable it to effectively understand the current situation. Execute the /init command in CC: /init Claude will automatically create a CLAUDE.md file, which is CC‚Äôs behavior specification file. It‚Äôs equivalent to CC‚Äôs code of conduct. After starting the /init command, CC will read through all relevant files in the directory and then update the instructions and constraints to CLAUDE.md. If you have any questions about what CC wrote, you can manually modify the CLAUDE.md file. Here‚Äôs the content of my generated CLAUDE.md file: # CLAUDE.md This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository. ## Project Overview This is a **Veeam Backup \u0026 Replication REST API assistant** project. The system acts as a backup server operation assistant that interacts with Veeam Backup \u0026 Replication via REST API to manage backup jobs, infrastructure, and monitoring. ## Server Configuration The Veeam server configuration is stored in `.env`: - Server: `https://10.10.1.221:9419` (default Veeam REST API port) - Username: `veeamadmin` - Currently uses insecure connection (for testing) - API version: `1.3-rev0` ## API Documentation Complete OpenAPI specification is available in `docs/swagger/`: - **Main spec**: `docs/swagger/openapi.json` (1.3MB full specification) - **Entry point**: `docs/swagger.json` (references main spec) - **Path definitions**: `docs/swagger/paths/` (jobs, infrastructure, auth) - **Schemas**: `docs/swagger/components/schemas.json` ### Key API Categories 1. **Job Management** (`paths/jobs.json`): - CRUD operations on backup jobs - Job control: start, stop, retry, disable - Job state monitoring and filtering 2. **Infrastructure Management**: - **Proxies** (`paths/infra-proxies.json`): Proxy server management - **Servers** (`paths/infra-servers.json`): Backup server management 3. **Authentication** (`paths/misc.json`): - OAuth 2.0 password grant authentication - Token management (access: 60min, refresh: 14 days) - AD domain management ## Authentication Flow All API calls require: 1. **OAuth2 Token**: POST `/api/oauth2/token` with password grant 2. **Bearer Token**: All subsequent calls need `Authorization: Bearer \u003ctoken\u003e` 3. **API Version Header**: `x-api-version: 1.3-rev0` required for all requests ## Assistant Role and Behavior Based on `assistant.md`, the assistant should: - Act as backup server operation assistant via REST API - Use OpenAPI specs in `docs/` for all operations - Use `.env` configuration for server settings - **Output only results, not implementation details** - **Do not display or record code in conversation** - Focus on operational results, not technical implementation ### Critical Constraints (from AI_ASSISTANT_CONSTRAINTS.md) - **Result-only output**: Never show implementation details or API calls - **Information security**: Never expose tokens, passwords, or sensitive data - **Language flexibility**: Respond in user's preferred language for effective communication - **Technical confidentiality**: Hide all code, tools, and methods used - **Professional communication**: Concise, accurate, backup-focused terminology ## API Usage Patterns ### Standard Query Parameters: - `skip`: Pagination offset - `limit`: Maximum items (default 200) - `orderColumn`: Sort field - `orderAsc`: Sort direction (true/false) - `nameFilter`: Text filtering with wildcards ### Common Operations: - **Jobs**: GET `/api/v1/jobs`, POST `/api/v1/jobs`, DELETE `/api/v1/jobs/{id}` - **Job Control**: POST `/api/v1/jobs/{id}/action` (start/stop/retry) - **Proxies**: GET/POST/PUT/DELETE `/api/v1/infra/proxies` - **Servers**: GET/POST/PUT/DELETE `/api/v1/infra/servers` ## Security Notes - Current configuration uses `insecure: true` (testing only) - Production should use proper SSL/TLS certificates - All credentials stored in `.env` file - OAuth","date":"2025-11-12","objectID":"/en/2025/11/AI-Reshapes-Data-Protection-02/:1:4","tags":["Backup","AI","Veeam","Vibe Coding"],"title":"AI Reshaping Data Protection (Part 2): Using Claude Code to Control Your VBR Server","uri":"/en/2025/11/AI-Reshapes-Data-Protection-02/"},{"categories":[],"content":"5. Configure VBR Connection Information According to the hints we gave CC, we need to write an environment variable file to provide CC with the information it needs to connect to VBR. Let‚Äôs continue by creating a new file in the project directory named .env, and simply enter the VBR server information. The format can be quite flexible, like mine below: # VBR Server Configuration VBR_SERVER=192.168.1.100 VBR_PORT=9419 VBR_USERNAME=veeamadmin VBR_PASSWORD=your_password insecure=true ","date":"2025-11-12","objectID":"/en/2025/11/AI-Reshapes-Data-Protection-02/:1:5","tags":["Backup","AI","Veeam","Vibe Coding"],"title":"AI Reshaping Data Protection (Part 2): Using Claude Code to Control Your VBR Server","uri":"/en/2025/11/AI-Reshapes-Data-Protection-02/"},{"categories":[],"content":"Practical Usage After the above configuration, our foundational work is complete, and we can now directly converse with CC. For example, we can first ask CC about its tasks and responsibilities: \u003e Hi CC, please briefly describe your tasks and responsibilities. It seems very clear about its positioning and immediately stated its responsibilities. See, that‚Äôs quite good, isn‚Äôt it? Very professional. Then, let‚Äôs see if its work meets expectations. Let CC execute a small task: \u003e Please help me check yesterday's backup job status. At this point, CC will execute the operation and output. Here, it instantly produced the following results: Isn‚Äôt that super simple? No need to write any code - CC automatically uses the API to help us get the information we want and effectively outputs the information to us after reasonably formatting the content. Let‚Äôs ask it to execute a backup task to see if it can follow instructions: \u003e Please help me execute the VM replication task. CC is quite smart - it first found the current replication jobs and then confirmed the operation with me. When I gave the confirmation to execute, CC went ahead and started the VM replication task as requested. Checking back in the VBR console, you can see the task is already running. Looking at the start time, it matches what CC indicated. ","date":"2025-11-12","objectID":"/en/2025/11/AI-Reshapes-Data-Protection-02/:2:0","tags":["Backup","AI","Veeam","Vibe Coding"],"title":"AI Reshaping Data Protection (Part 2): Using Claude Code to Control Your VBR Server","uri":"/en/2025/11/AI-Reshapes-Data-Protection-02/"},{"categories":[],"content":"Conclusion With the continuous development of AI technology, we can expect: Stronger comprehension capabilities: AI will be able to understand more complex business requirements and technical scenarios More automation: From passively executing instructions to proactively identifying problems and suggesting optimizations Broader integration: Integration with more IT management tools and monitoring systems to form a unified management platform The above content is just a small attempt to spark ideas. AI technology is continuously bringing changes to our daily lives and our industry. I hope my sharing is helpful and inspiring to everyone, enabling AI technology to bring us more valuable application methods. If you also want to try it yourself, you can refer to these two articles completely, use Claude Code + GLM 4.6 to build your own environment, and experience AI‚Äôs capabilities firsthand. Scan the code to register through the link below to get a 10% discount on GLM 4.6 Coding plan. ","date":"2025-11-12","objectID":"/en/2025/11/AI-Reshapes-Data-Protection-02/:3:0","tags":["Backup","AI","Veeam","Vibe Coding"],"title":"AI Reshaping Data Protection (Part 2): Using Claude Code to Control Your VBR Server","uri":"/en/2025/11/AI-Reshapes-Data-Protection-02/"},{"categories":[],"content":"AI Reshapes Data Protection (Part 1): Claude Code + GLM-4.6 in Practice, Building AI CLI Tools from Scratch Vibe coding has been incredibly popular lately, with Claude Code and Codex competing fiercely. I‚Äôm grateful for these excellent AI tools that bring entirely new capabilities and perspectives to our data protection and security industry. Starting with this series, I want to share how these AI tools can provide different capabilities for our data protection workflows, giving you an up-close look at the changes AI is bringing to our industry. ","date":"2025-11-11","objectID":"/en/2025/11/AI-Reshapes-Data-Protection-01/:0:0","tags":["Backup","AI","Veeam","Vibe Coding"],"title":"AI Reshapes Data Protection (Part 1): Claude Code + GLM-4.6 in Practice, Building AI CLI Tools from Scratch","uri":"/en/2025/11/AI-Reshapes-Data-Protection-01/"},{"categories":[],"content":"What is Claude Code? The renowned Claude Code needs no introduction. You can check out https://code.claude.com/docs/en/overview if you‚Äôre interested, and there are plenty of introductions across various online platforms. These cover not just AI programming, but also some creative uses like personal assistants, blog writing, travel companions, and more. The possibilities are limited only by your imagination. This article will guide you through using Claude Code from scratch. My goal isn‚Äôt to teach you vibe coding for AI programming, but rather to use Claude Code as a tool to spark new insights and possibilities. ","date":"2025-11-11","objectID":"/en/2025/11/AI-Reshapes-Data-Protection-01/:1:0","tags":["Backup","AI","Veeam","Vibe Coding"],"title":"AI Reshapes Data Protection (Part 1): Claude Code + GLM-4.6 in Practice, Building AI CLI Tools from Scratch","uri":"/en/2025/11/AI-Reshapes-Data-Protection-01/"},{"categories":[],"content":"Preparing the Basic Environment First, let‚Äôs look at environment setup. Claude Code is a pure CLI tool, which is quite different from the web-based AI tools we typically use, such as ChatGPT, Copilot, or Doubao. Therefore, it‚Äôs best to pair it with a suitable editor so you can observe the files it creates and modifies while working. For the basic environment setup, I‚Äôll start by installing a capable AI editor. I recommend using the Cursor editor, though you can choose any editor you‚Äôre comfortable with. ","date":"2025-11-11","objectID":"/en/2025/11/AI-Reshapes-Data-Protection-01/:2:0","tags":["Backup","AI","Veeam","Vibe Coding"],"title":"AI Reshapes Data Protection (Part 1): Claude Code + GLM-4.6 in Practice, Building AI CLI Tools from Scratch","uri":"/en/2025/11/AI-Reshapes-Data-Protection-01/"},{"categories":[],"content":"Installing Cursor Editor I‚Äôm starting with Cursor for a simple reason: it has excellent AI integration, and its interface is nearly identical to VS Code, so there‚Äôs no learning curve. The editor supports Windows, Linux, and macOS, making download and installation straightforward. Visit Cursor.com to download the appropriate version for your platform Run the installer and proceed through the setup with Next You‚Äôll need to log in on first launch - you can register a new account to get started ","date":"2025-11-11","objectID":"/en/2025/11/AI-Reshapes-Data-Protection-01/:2:1","tags":["Backup","AI","Veeam","Vibe Coding"],"title":"AI Reshapes Data Protection (Part 1): Claude Code + GLM-4.6 in Practice, Building AI CLI Tools from Scratch","uri":"/en/2025/11/AI-Reshapes-Data-Protection-01/"},{"categories":[],"content":"Environment Dependencies: Git and Node.js Before installing Claude Code, you need to configure Git and Node.js environments. This is particularly important for Windows users, who need to manually download Git from the Git website and Node.js from the Node.js website. For Linux and macOS users, the process is more user-friendly, and installing git and node.js is less troublesome, so I won‚Äôt elaborate further here. Once both prerequisite tools are installed successfully, you can verify them with the following commands: $ git -v $ node -v $ npm -v After confirming everything is installed, you might need to restart your Terminal. ","date":"2025-11-11","objectID":"/en/2025/11/AI-Reshapes-Data-Protection-01/:2:2","tags":["Backup","AI","Veeam","Vibe Coding"],"title":"AI Reshapes Data Protection (Part 1): Claude Code + GLM-4.6 in Practice, Building AI CLI Tools from Scratch","uri":"/en/2025/11/AI-Reshapes-Data-Protection-01/"},{"categories":[],"content":"Installing and Configuring Claude Code ","date":"2025-11-11","objectID":"/en/2025/11/AI-Reshapes-Data-Protection-01/:3:0","tags":["Backup","AI","Veeam","Vibe Coding"],"title":"AI Reshapes Data Protection (Part 1): Claude Code + GLM-4.6 in Practice, Building AI CLI Tools from Scratch","uri":"/en/2025/11/AI-Reshapes-Data-Protection-01/"},{"categories":[],"content":"Installing Claude Code Software Once the environment is ready, installing Claude Code is quite simple. Open any Terminal: npm install -g @anthropic-ai/claude-code Verify the installation: claude --version When you run it for the first time, you‚Äôll need to log into your Anthropic account. If you‚Äôre using this in mainland China, you might encounter some connectivity issues. However, that‚Äôs not a problem - today‚Äôs tutorial will show you how to switch Claude Code‚Äôs underlying model. We‚Äôll use Claude Code‚Äôs CLI software but replace its backend model with a more cost-effective, top-tier domestic coding model: Zhipu AI‚Äôs GLM-4.6. ","date":"2025-11-11","objectID":"/en/2025/11/AI-Reshapes-Data-Protection-01/:3:1","tags":["Backup","AI","Veeam","Vibe Coding"],"title":"AI Reshapes Data Protection (Part 1): Claude Code + GLM-4.6 in Practice, Building AI CLI Tools from Scratch","uri":"/en/2025/11/AI-Reshapes-Data-Protection-01/"},{"categories":[],"content":"Registering for GLM-4.6 Zhipu AI released its new flagship coding model - GLM-4.6 - during China‚Äôs National Day holiday. According to reviews from major media outlets and users both domestically and internationally, its coding capabilities are very close to Claude Code‚Äôs official offering, but at just 1/7 of the price. New users also receive a free token experience pack. You can scan the QR code to register and directly receive a 20 million token experience pack. Additionally, by activating the Coding Plan through the QR code above, you get an extra 10% discount, making it incredibly affordable at just 18 RMB per month. In terms of token usage, from my personal experience, I‚Äôve rarely hit the 5-hour limit. I recommend starting with the GLM Coding Lite 20 RMB first-month subscription. After the first month ends, if you want to continue, you can cancel the auto-renewal and choose the 3-month 60 RMB plan for continued savings, or the annual 240 RMB plan. This way, you‚Äôre essentially using the service at the 18 RMB monthly tier, which is significantly cheaper than Claude Code‚Äôs original $20/month model but with more generous usage. After registering, you can find your API Key in the top right corner of the homepage on the website. We‚Äôll need this API key in a moment to configure Claude Code and essentially give Claude Code a new ‚Äúbrain.‚Äù ","date":"2025-11-11","objectID":"/en/2025/11/AI-Reshapes-Data-Protection-01/:3:2","tags":["Backup","AI","Veeam","Vibe Coding"],"title":"AI Reshapes Data Protection (Part 1): Claude Code + GLM-4.6 in Practice, Building AI CLI Tools from Scratch","uri":"/en/2025/11/AI-Reshapes-Data-Protection-01/"},{"categories":[],"content":"Configuring GLM 4.6 for Claude Code The configuration process is quite simple, and the GLM 4.6 official documentation clearly explains the specific setup method. You can find the details at: https://docs.bigmodel.cn/cn/coding-plan/tool/claude The documentation even provides automated configuration scripts for those who prefer not to modify settings manually. ","date":"2025-11-11","objectID":"/en/2025/11/AI-Reshapes-Data-Protection-01/:3:3","tags":["Backup","AI","Veeam","Vibe Coding"],"title":"AI Reshapes Data Protection (Part 1): Claude Code + GLM-4.6 in Practice, Building AI CLI Tools from Scratch","uri":"/en/2025/11/AI-Reshapes-Data-Protection-01/"},{"categories":[],"content":"Creating and Configuring the Project Folder Now let‚Äôs start using Claude Code. We typically perform our coding operations in a specific working directory, so we need to open Cursor and specify our working directory. In Cursor, open a project folder and activate the Terminal within Cursor. In the Terminal, type claude to enter Claude Code‚Äôs main interface, as shown below: As you can see from the gray text in the image, our Claude Code model has already been switched to the glm-4.6 version. ","date":"2025-11-11","objectID":"/en/2025/11/AI-Reshapes-Data-Protection-01/:3:4","tags":["Backup","AI","Veeam","Vibe Coding"],"title":"AI Reshapes Data Protection (Part 1): Claude Code + GLM-4.6 in Practice, Building AI CLI Tools from Scratch","uri":"/en/2025/11/AI-Reshapes-Data-Protection-01/"},{"categories":[],"content":"Next Steps Besides GLM-4.6, there are other excellent models available in China, like Kimi K2, but they can‚Äôt compare to GLM-4.6 in terms of cost-effectiveness. Feel free to explore these on your own if you‚Äôre interested. With the basic environment setup complete, we can now interact directly with AI through the CLI interface. Because it has permissions to operate files and run local programs, Claude Code can do almost anything on your computer and query any information you want it to. This opens up countless possibilities. In the next installment, I‚Äôll use a VBR project to show you how Claude Code can help execute various commands. ","date":"2025-11-11","objectID":"/en/2025/11/AI-Reshapes-Data-Protection-01/:4:0","tags":["Backup","AI","Veeam","Vibe Coding"],"title":"AI Reshapes Data Protection (Part 1): Claude Code + GLM-4.6 in Practice, Building AI CLI Tools from Scratch","uri":"/en/2025/11/AI-Reshapes-Data-Protection-01/"},{"categories":[],"content":"In our previous articles, we introduced how Veeam v13 continues to enhance its YARA malware scanning capabilities. However, the limitation of official rule sets is a very real challenge. There aren‚Äôt many free YARA rule sources available online, and high-quality ones are even scarcer. Today, I want to introduce you to a hidden gem: Ransomware.live - a professional open-source ransomware threat intelligence platform that provides free YARA rules for 62 major ransomware gangs, making it a perfect complement to Veeam‚Äôs YARA scanning functionality. ","date":"2025-11-10","objectID":"/en/2025/11/veeam13-security-features-03/:0:0","tags":["Backup","Security","Veeam"],"title":"Free YARA Rules for Veeam - A Practical Guide to Ransomware.live Integration","uri":"/en/2025/11/veeam13-security-features-03/"},{"categories":[],"content":"Meet Ransomware.live: Your Professional Ransomware Threat Intelligence Platform Ransomware.live is an open-source threat intelligence platform maintained by security expert Julien Mousqueton, focusing on real-time monitoring and analysis of ransomware attacks. The platform tracks 297 attack groups, records over 23,126 victim cases, and its core value lies in providing a professional YARA ruleset for 62 major ransomware gangs. Core Platform Features: Real-time Attack Monitoring - Track global ransomware attack activities, showing 297 attack groups and 23,126+ victim cases Attack Statistics - Analyze ransomware trends by time, region, and industry dimensions Group Profiles - Detailed records of attack characteristics and historical activities for each ransomware group Victim Database - Searchable victim information for threat correlation analysis YARA Rules Library - Detection rules categorized by ransomware groups, supporting direct downloads These rules are written by security experts based on real attack samples, with quality far exceeding generic detection rules. The Ransomware.live YARA page allows you to view and manually obtain relevant YARA rules. Users can find specific rules as needed. In addition to manual retrieval, the platform also offers a Pro API service. For Veeam users who need automated batch downloads, the structured API interface of the Pro version is particularly useful. We just need to get the relevant download API key through the ‚ÄúGet your free API Key‚Äù service. ","date":"2025-11-10","objectID":"/en/2025/11/veeam13-security-features-03/:1:0","tags":["Backup","Security","Veeam"],"title":"Free YARA Rules for Veeam - A Practical Guide to Ransomware.live Integration","uri":"/en/2025/11/veeam13-security-features-03/"},{"categories":[],"content":"Pro API: Automated YARA Rule Acquisition For users who need rules for offline use, I‚Äôve provided a one-click script to download all rules, specifically designed for Veeam users. It can automatically download YARA rule files for all 62 groups. The script uses jq to parse JSON responses, automatically handles file naming and validation, and includes detailed download logs. ","date":"2025-11-10","objectID":"/en/2025/11/veeam13-security-features-03/:2:0","tags":["Backup","Security","Veeam"],"title":"Free YARA Rules for Veeam - A Practical Guide to Ransomware.live Integration","uri":"/en/2025/11/veeam13-security-features-03/"},{"categories":[],"content":"Complete Automated Download Script #!/bin/bash # Ransomware.live YARA Rules Complete Auto-Download Script set -e set -o pipefail # User Configuration TARGET_DIR=\"./yara_rules\" API_KEY=\"your-api-key-here\" API_BASE=\"https://api-pro.ransomware.live\" # Create Directory mkdir -p \"$TARGET_DIR\" LOG_FILE=\"${TARGET_DIR}/download_$(date +%Y%m%d_%H%M%S).log\" log() { echo \"[$(date '+%Y-%m-%d %H:%M:%S')] $1\" | tee -a \"$LOG_FILE\" } # Check Tools if ! command -v jq \u003e/dev/null 2\u003e\u00261; then echo \"Need to install jq: sudo apt-get install jq or brew install jq\" exit 1 fi log \"Starting download of Ransomware.live YARA rules...\" # Get All Group YARA Rules API_RESPONSE=$(curl -s -H \"X-API-KEY: $API_KEY\" \"$API_BASE/yara\") if ! echo \"$API_RESPONSE\" | jq -e '.groups' \u003e/dev/null 2\u003e\u00261; then log \"API response abnormal, please check API key\" exit 1 fi # Batch Download Rules echo \"$API_RESPONSE\" | jq -r '.groups[].group' | while read -r group; do if [ -n \"$group\" ]; then log \"Downloading: $group\" YARA_RESPONSE=$(curl -s -H \"X-API-KEY: $API_KEY\" \"$API_BASE/yara/$group\") if echo \"$YARA_RESPONSE\" | jq -e '.rules[0]' \u003e/dev/null 2\u003e\u00261; then YARA_CONTENT=$(echo \"$YARA_RESPONSE\" | jq -r '.rules[0].content') FILENAME=$(echo \"$YARA_RESPONSE\" | jq -r '.rules[0].filename') if [ -n \"$YARA_CONTENT\" ] \u0026\u0026 [ \"$YARA_CONTENT\" != \"null\" ]; then OUTPUT_FILE=\"${TARGET_DIR}/${FILENAME:-${group}.yar}\" echo \"$YARA_CONTENT\" \u003e \"$OUTPUT_FILE\" if [ -s \"$OUTPUT_FILE\" ] \u0026\u0026 grep -q \"^rule \" \"$OUTPUT_FILE\"; then RULE_COUNT=$(grep -c \"^rule \" \"$OUTPUT_FILE\") log \"‚úì $(basename \"$OUTPUT_FILE\") (${RULE_COUNT} rules)\" else log \"‚úó Invalid file: $group\" rm -f \"$OUTPUT_FILE\" fi fi fi sleep 0.5 fi done log \"Download complete! Rule files saved in: $TARGET_DIR\" ","date":"2025-11-10","objectID":"/en/2025/11/veeam13-security-features-03/:2:1","tags":["Backup","Security","Veeam"],"title":"Free YARA Rules for Veeam - A Practical Guide to Ransomware.live Integration","uri":"/en/2025/11/veeam13-security-features-03/"},{"categories":[],"content":"How to Use the Script Environment Setup # Install necessary tools sudo apt-get install curl jq # Ubuntu/Debian # or brew install curl jq # macOS Configure Script # Modify TARGET_DIR to your target directory # Modify API_KEY to your actual API key chmod +x download_yara_rules.sh Run Script ./download_yara_rules.sh Script Features: One-click download of YARA rules for all 62 ransomware groups, and if there are new rule updates later, this script can also get related updated rules with one click Automatic file naming and format validation Detailed download logs and error handling Support for custom download directories ","date":"2025-11-10","objectID":"/en/2025/11/veeam13-security-features-03/:2:2","tags":["Backup","Security","Veeam"],"title":"Free YARA Rules for Veeam - A Practical Guide to Ransomware.live Integration","uri":"/en/2025/11/veeam13-security-features-03/"},{"categories":[],"content":"Veeam Integration and Deployment Method After the rules are downloaded, they can be uploaded and imported through the VBR console. Go to the VBR console, click the three dots at the bottom, and activate the Files window In the Files window, you can see the folders of the current Windows machine where the Console is located and the VBR Server. From the YARA rules storage path on the current computer, select all rules you need to copy, right-click and click the Copy button. Go to the yara_rules directory on the VBR Server, right-click and select the Paste button After a short wait, the YARA rule files will be transferred to the VBR server. Find any backup archive, select the Scan backup operation, and you can see the rule names in real-time in the YARA dropdown menu. Select them as scanning rules. ","date":"2025-11-10","objectID":"/en/2025/11/veeam13-security-features-03/:3:0","tags":["Backup","Security","Veeam"],"title":"Free YARA Rules for Veeam - A Practical Guide to Ransomware.live Integration","uri":"/en/2025/11/veeam13-security-features-03/"},{"categories":[],"content":"Summary As a free open-source threat intelligence platform, Ransomware.live provides Veeam users with a zero-cost YARA rule enhancement solution. It currently includes 62 professional-level ransomware detection rules, continuously updated threat intelligence, plus automated download tools. This combination brings a qualitative improvement to Veeam v13‚Äôs malware detection capabilities. With the free Pro version RestAPI and my automatic download script, fully automated rule updates can be achieved. Practical Application Recommendations: Regular Updates: Recommend running once a week to keep threat intelligence current Test and Verify: First verify the detection effectiveness of new rules in a test environment Monitor Logs: Pay attention to download success rates and file validity. If possible, perform manual verification Facing increasingly complex ransomware threats, this free but professional threat intelligence source is worth the attention and use of every Veeam user. By properly configuring Ransomware.live‚Äôs YARA rules, you can significantly enhance Veeam environment‚Äôs ransomware detection and protection capabilities. ","date":"2025-11-10","objectID":"/en/2025/11/veeam13-security-features-03/:4:0","tags":["Backup","Security","Veeam"],"title":"Free YARA Rules for Veeam - A Practical Guide to Ransomware.live Integration","uri":"/en/2025/11/veeam13-security-features-03/"},{"categories":[],"content":"In version v13, malware detection capabilities have achieved a significant leap forward. Compared to the real-time detection capabilities already available in the v12 era, v13 has brought qualitative improvements in threat response mechanisms, platform coverage, and intelligence levels. In my previous articles, I‚Äôve detailed the ransomware attack detection principles and configuration methods for v12. Today, building on that foundation, let‚Äôs explore the key upgrades that v13 brings. ","date":"2025-11-07","objectID":"/en/2025/11/veeam13-security-features-02/:0:0","tags":["Backup","Security","Veeam"],"title":"V13 Malware Detection Comprehensive Upgrade: Practical Evolution from Passive Protection to Active Response","uri":"/en/2025/11/veeam13-security-features-02/"},{"categories":[],"content":"v12 Detection Capabilities Review: The Separation of Detection and Response In the v12 era, Veeam‚Äôs malware detection primarily relied on two mechanisms: Inline Entropy Scan - Real-time analysis of entropy changes in data blocks during backup to detect encryption behavior Index Scan - Analysis of abnormal behavioral patterns through file system indexing The characteristic of these two functions was that detection was separate from response - the system could detect threats in real-time, but the response process required manual intervention. In actual use of v12, this mechanism had several obvious limitations: Low response automation level: After detecting suspicious activity, it mainly relied on administrators to handle manually Limited platform support: Detection capabilities were mainly concentrated in Windows environments Insufficient in-depth analysis: Lacked further threat analysis capabilities after detecting threats I believe v13 has made significant progress in this detection capability, beginning the evolution from ‚Äúdetection‚Äù to ‚Äúintelligent response.‚Äù ","date":"2025-11-07","objectID":"/en/2025/11/veeam13-security-features-02/:1:0","tags":["Backup","Security","Veeam"],"title":"V13 Malware Detection Comprehensive Upgrade: Practical Evolution from Passive Protection to Active Response","uri":"/en/2025/11/veeam13-security-features-02/"},{"categories":[],"content":"V13 Active Response Mechanism: From Detection to Automatic Protection ","date":"2025-11-07","objectID":"/en/2025/11/veeam13-security-features-02/:2:0","tags":["Backup","Security","Veeam"],"title":"V13 Malware Detection Comprehensive Upgrade: Practical Evolution from Passive Protection to Active Response","uri":"/en/2025/11/veeam13-security-features-02/"},{"categories":[],"content":"Proactive Investigation: Enhanced Threat Verification Methods The most important improvement in v13 is the introduction of the proactive backup scanning mechanism. The core idea of this feature is: once suspicious activity is detected during the backup process, the system immediately triggers more in-depth signature scanning, rather than waiting for users to make other manual judgments. Settings in the software: Open the VBR console, go to the Hamburger menu in the upper left corner ‚Üí Malware Detection Setting In the original Signature Detection settings, v13 adds the Proactive investigation option: The first checkbox enables the proactive scanning mechanism, while the second option goes further - it allows the system to automatically resolve malware events based on scan results. Practical usage effects: In a simulated ransomware attack test environment, when a backup job detects large-scale file encryption: v12 detects malware: Marks the backup as Suspicious, sends alerts, waits for administrator handling v13 detects malware: Immediately triggers signature scanning, confirms the threat and directly marks it as Infected or, if no threat is found, re-marked as Clean. In v12, I often heard from clients who discovered that Veeam reported backup archives as Suspicious status but didn‚Äôt know what happened or how to proceed. Now with this v13 option, we can wait no longer - Veeam immediately triggers detection to truly find out if there‚Äôs a problem. ","date":"2025-11-07","objectID":"/en/2025/11/veeam13-security-features-02/:2:1","tags":["Backup","Security","Veeam"],"title":"V13 Malware Detection Comprehensive Upgrade: Practical Evolution from Passive Protection to Active Response","uri":"/en/2025/11/veeam13-security-features-02/"},{"categories":[],"content":"Cross-Platform Unified Protection: Linux and Cloud Environments No Longer Forgotten Corners ","date":"2025-11-07","objectID":"/en/2025/11/veeam13-security-features-02/:3:0","tags":["Backup","Security","Veeam"],"title":"V13 Malware Detection Comprehensive Upgrade: Practical Evolution from Passive Protection to Active Response","uri":"/en/2025/11/veeam13-security-features-02/"},{"categories":[],"content":"Comprehensive Support for Linux Environments Another breakthrough in v13 is full coverage of malware detection capabilities on the Linux platform, which I believe is also an important part of comprehensive Linux environment support. Linux-supported detection capabilities: Suspicious file system activity analysis - Same detection logic as the Windows platform Veeam Threat Hunter scanning - Signature-based malware detection YARA rule support - Custom threat detection rules Practical configuration points: For malware detection in Linux environments, several special configurations need attention: File system selection: Special characteristics of certain file systems (such as Btrfs, ZFS) may affect detection accuracy Permission management: Ensure backup agents have sufficient permissions to read all files that need detection Performance impact: In resource-constrained Linux environments, you may need to adjust detection frequency Specific operation steps: For Agent-based Linux backups, malware detection configuration is basically consistent with Windows environments, mainly through global configuration in the VBR console‚Äôs Malware Detection settings, then enabling relevant functions in specific backup jobs. ","date":"2025-11-07","objectID":"/en/2025/11/veeam13-security-features-02/:3:1","tags":["Backup","Security","Veeam"],"title":"V13 Malware Detection Comprehensive Upgrade: Practical Evolution from Passive Protection to Active Response","uri":"/en/2025/11/veeam13-security-features-02/"},{"categories":[],"content":"Security Protection for Cloud Backups As more users adopt public clouds, cloud environment security has become crucial. v13 extends malware detection capabilities to cloud backups: Supported cloud platforms: Veeam Backup for Microsoft Azure Veeam Backup for AWS Veeam Backup for Google Cloud Specific usage and configuration, including supported capabilities, are basically consistent with Linux, so I won‚Äôt elaborate further. ","date":"2025-11-07","objectID":"/en/2025/11/veeam13-security-features-02/:3:2","tags":["Backup","Security","Veeam"],"title":"V13 Malware Detection Comprehensive Upgrade: Practical Evolution from Passive Protection to Active Response","uri":"/en/2025/11/veeam13-security-features-02/"},{"categories":[],"content":"Antivirus Integration for Linux Mount Servers v13 supports Linux Server as a Mount Server, and this is a fully functional Mount Server. The Secure Restore and Security Scan capabilities available on Windows Mount Servers are also extended to Linux Mount Servers, and likewise support Veeam Threat Hunter for signature scanning: Announced supported antivirus software for Linux versions: ClamAV - Open source and free, suitable for budget-constrained environments ESET - Commercial solution with strong detection capabilities Sophos - Enterprise-level protection with user-friendly management interface Configuration example: Taking ClamAV as an example, you need to install ClamAV on the Linux mount server, then select the corresponding Linux server in the VBR console under Backup Infrastructure ‚Üí Mount Servers. During use, both scan backup or Secure restore can call the antivirus software for scanning. ","date":"2025-11-07","objectID":"/en/2025/11/veeam13-security-features-02/:3:3","tags":["Backup","Security","Veeam"],"title":"V13 Malware Detection Comprehensive Upgrade: Practical Evolution from Passive Protection to Active Response","uri":"/en/2025/11/veeam13-security-features-02/"},{"categories":[],"content":"Summary and Recommendations v13‚Äôs malware detection functionality represents a qualitative leap, evolving from the original passive detection to active protection. In actual deployment, I have several recommendations: Progressive approach: First verify all new features in a test environment, then gradually roll out to production environments Performance monitoring: Closely monitor the impact of new features on backup performance and make adjustments when necessary Policy optimization: Customize detection strategies according to business characteristics, avoiding one-size-fits-all configurations Regular drills: Conduct regular malware detection drills to ensure the effectiveness of response processes These improvements in v13 show us the new positioning of backup systems in the overall security architecture - no longer just passive data protectors, but active participants in the security defense line. In actual use, properly configuring these features can significantly enhance an organization‚Äôs ability to respond to modern threats such as ransomware attacks. ","date":"2025-11-07","objectID":"/en/2025/11/veeam13-security-features-02/:4:0","tags":["Backup","Security","Veeam"],"title":"V13 Malware Detection Comprehensive Upgrade: Practical Evolution from Passive Protection to Active Response","uri":"/en/2025/11/veeam13-security-features-02/"},{"categories":[],"content":"üß† About Me ‚ÄúTechnology is not the goal. Mastering complex systems ‚Äî that‚Äôs the true art.‚Äù ","date":"2025-10-30","objectID":"/en/about/:0:0","tags":["about","profile","Lei Wei","Data Protection","AI","Cloud"],"title":"About Me","uri":"/en/about/"},{"categories":[],"content":"‚ö°Ô∏è Lei Wei ‚Äî Data Protection \u0026 Cloud-Native Specialist üöÄ 15+ Years in Data Protection \u0026 Cloud Infrastructure üéØ Senior Consultant Expert, Greater China @ Veeam Software üìç Location: China | Global View ¬∑ Engineering Mindset üß© Blogging for 8+ years Hi, I‚Äôm Lei Wei, a Senior Consultant Expert at Veeam Software, with over 15 years of experience in data protection, cloud infrastructure, and virtualization. From VMware, Hyper-V, KVM to public cloud and cloud-native containers, I‚Äôve been at the forefront of infrastructure design, data resilience, and security architecture. üéì Certifications: Veeam Certified Engineer AWS Certified Solutions Architect Certified Kubernetes Administrator (CKA) My expertise covers enterprise-grade data protection, multi-cloud automation, and disaster recovery strategy. In recent years, I‚Äôve been diving deep into the intersection of Data + AI and AI + Security, exploring how intelligent systems redefine resilience and defense. üìç Current Role: Senior Consultant Expert, Greater China @ Veeam Software Focused on intelligent data protection, cloud-native backup, and security-driven automation. üß† This Blog is an ongoing journal of my professional journey ‚Äî 8+ years of technical exploration, engineering insights, and lessons learned from real-world enterprise systems. ‚öôÔ∏è If you‚Äôre passionate about deep tech, practical innovation, and elegant solutions ‚Äî welcome home. ","date":"2025-10-30","objectID":"/en/about/:1:0","tags":["about","profile","Lei Wei","Data Protection","AI","Cloud"],"title":"About Me","uri":"/en/about/"},{"categories":[],"content":"üß© Connect üíº LinkedIn: https://www.linkedin.com/in/lei-wei-96727950/ üåê Blog: https://blog.backupnext.cloud/ üìß Email: lei.wei@backupnext.cloud My Certifications View all certificates on Credly ‚ÄúBuild. Protect. Evolve. Repeat.‚Äù ","date":"2025-10-30","objectID":"/en/about/:2:0","tags":["about","profile","Lei Wei","Data Protection","AI","Cloud"],"title":"About Me","uri":"/en/about/"},{"categories":[],"content":"In version v13, the most significant new features focus on enhanced security capabilities. Starting with this article, I‚Äôll provide a detailed walkthrough of the new security features introduced in v13 through practical applications. Today, let‚Äôs start with authentication. In enterprise-level backup architectures, the security of management console accounts and access governance is critically important. Veeam Backup \u0026 Replication (VBR) now supports SAML-based Single Sign-On (SSO) in v13, which means you can centralize authentication to your organization‚Äôs existing Identity Provider (IdP) ‚Äî such as Azure EntraID. Through SAML integration, you can unify the management of VBR login with your company‚Äôs account lifecycle, group policies, MFA, and auditing: operations become clearer, permission revocation is more timely, and you achieve higher compliance. This article uses Azure EntraID as an example to demonstrate this integration in detail. For other similar solutions like Authing in China or international options like Okta and Auth0, you can follow the Azure methods to try them out. ","date":"2025-09-25","objectID":"/en/2025/09/veeam13-security-features-01/:0:0","tags":["Backup","Security"],"title":"Making VBR Login More Secure: A Complete Guide to v13 SAML + Azure EntraID Integration","uri":"/en/2025/09/veeam13-security-features-01/"},{"categories":[],"content":"Configuration Prerequisites To configure and use SAML integration, the prerequisites are quite straightforward ‚Äî simply install VBR using the latest Veeam Software Appliance. Of course, since we‚Äôre using network services, there are some necessary conditions for configuring SSO: The VBR server must be able to access Azure EntraID-related endpoints. Time synchronization ‚Äî VBR must have NTP server correctly configured with no time deviation. SAML is timestamp-based, and authentication will fail if there‚Äôs a time mismatch. Azure EntraID administrator account with permissions to create enterprise applications and assign users. VBR administrator permissions ‚Äî this is fundamental for configuring VBR accounts and identity integration. The Windows system where the VBR Console is installed must be able to correctly resolve the VBR hostname or FQDN, otherwise the URLs in the SP/IdP Metadata won‚Äôt match. ","date":"2025-09-25","objectID":"/en/2025/09/veeam13-security-features-01/:1:0","tags":["Backup","Security"],"title":"Making VBR Login More Secure: A Complete Guide to v13 SAML + Azure EntraID Integration","uri":"/en/2025/09/veeam13-security-features-01/"},{"categories":[],"content":"Configuration Method The following configuration is divided into Azure and VBR sections and has a specific order, so it‚Äôs recommended to proceed sequentially. ","date":"2025-09-25","objectID":"/en/2025/09/veeam13-security-features-01/:2:0","tags":["Backup","Security"],"title":"Making VBR Login More Secure: A Complete Guide to v13 SAML + Azure EntraID Integration","uri":"/en/2025/09/veeam13-security-features-01/"},{"categories":[],"content":"Generate SP Information in VBR and Export Metadata First, log in to the VBR console using the veeamadmin account. In VBR, click the hamburger icon (three horizontal lines) in the top-left corner and select Users and Roles from the dropdown menu. Switch to the newly added Identity Provider interface in v13. By default, Enable SAML Authentication is unchecked. Check it to enable, and you‚Äôll see the Service Provider (SP) Information section below. In identity authentication, VBR now acts as the application‚Äôs Service Provider (SP), so we need to install a certificate for VBR first. Click Install. You can select one from the local certificate store. Choose Select an existing certificate from the certificate store and click Next. In the certificate store, find the certificate with Friendly Name Veeam Backup Server Certificate and click Finish to complete. At this point, you‚Äôll see that Certificate information has appeared in the SP Information section, showing CN=\u003cbackup server FQDN\u003e. For the next steps, we need to click the Download button below Install to download the XML file from the SP side and save it properly. This file will be used when configuring Azure later. ","date":"2025-09-25","objectID":"/en/2025/09/veeam13-security-features-01/:2:1","tags":["Backup","Security"],"title":"Making VBR Login More Secure: A Complete Guide to v13 SAML + Azure EntraID Integration","uri":"/en/2025/09/veeam13-security-features-01/"},{"categories":[],"content":"Upload SP Metadata in Azure EntraID and Assign Users First, create a security group for VBR, named VBR Users. Add a user to this group ‚Äî for example, I added my own account. In EntraID, find Enterprise apps. We need to create a new Application for VBR identity authentication. Click New Application to create one. When creating, don‚Äôt select from the catalog. Click Create your own application and in the popup dialog on the right, enter the app name, then select Integrate any other application you don't find in the gallery (Non-gallery). For example, I named mine vbrsso. After this Application is created, it will automatically switch to the Application Overview interface. The Getting Started interface clearly lists the next steps. You can configure them one by one according to steps 1, 2, 3, 4, 5 as needed. For VBR, we only need to configure two: Assign users and groups and Set up single sign on. After assigning the Group created in step 1, VBR Users, to this application, click the second step, Set up single sign on, which will take you to the single sign-on configuration interface. Here, we choose the SAML option to integrate with VBR. After entering the SAML configuration interface, you‚Äôll see clearly listed steps 1-2-3-4, but we don‚Äôt need to edit the content here one by one. Simply find Upload metadata file at the top, click it, upload the XML file we just exported from VBR, and save to complete the single sign-on configuration. After uploading, you can see that the URLs in Basic SAML Configuration have been correctly updated to my VBR‚Äôs FQDN. Next, find the SAML Certificates box in step 3 of the image above, and on the last line next to Federation Metadata XML, click the Download button to download another automatically-generated XML file from Azure EntraID. At this point, all Azure configurations are complete. ","date":"2025-09-25","objectID":"/en/2025/09/veeam13-security-features-01/:2:2","tags":["Backup","Security"],"title":"Making VBR Login More Secure: A Complete Guide to v13 SAML + Azure EntraID Integration","uri":"/en/2025/09/veeam13-security-features-01/"},{"categories":[],"content":"Return to VBR to Update IdP Information Configuration Go back to the Identity Provider interface under Users \u0026 Roles in VBR. Find the Identity Provider (IdP) Information settings. This is the identity provider information for single sign-on, where Azure EntraID acts as the identity provider. Click Browse next to it and upload the XML file just downloaded from Azure. After uploading, you‚Äôll see that all IdP information below has been correctly updated to Microsoft‚Äôs URLs. After clicking OK to complete the settings, we can reopen Users and Roles to add users. After clicking Add..., you‚Äôll see the External user or group option. Select it. In the Add User dialog that pops up, enter the complete Azure EntraID email address. For example, mine is lei.wei@xbbm365.backupnext.cloud. Now, the entire configuration is complete. Let‚Äôs test the login. Open the VBR client, and you‚Äôll see that the Sign in with SSO option has appeared on the client. Click this directly. After clicking, the login window will automatically pop up with the standard Microsoft login interface. After entering the password, Microsoft‚Äôs MFA approval for login will also pop up. After approval from the phone Authenticator, the VBR Console can successfully jump to login. Let‚Äôs try the web interface as well. In the WebUI, we can also see the new ‚ÄúSign in With SSO‚Äù option. Similarly, after approving the login, we can access the Veeam-permissioned Web UI. In the top-right corner of the Web UI, we can also see that the accessing user‚Äôs account and email are correctly displayed. ","date":"2025-09-25","objectID":"/en/2025/09/veeam13-security-features-01/:2:3","tags":["Backup","Security"],"title":"Making VBR Login More Secure: A Complete Guide to v13 SAML + Azure EntraID Integration","uri":"/en/2025/09/veeam13-security-features-01/"},{"categories":[],"content":"View Login Audit Information in Azure In the Azure EntraID management audit interface, you can clearly see the login information from VBR. ","date":"2025-09-25","objectID":"/en/2025/09/veeam13-security-features-01/:2:4","tags":["Backup","Security"],"title":"Making VBR Login More Secure: A Complete Guide to v13 SAML + Azure EntraID Integration","uri":"/en/2025/09/veeam13-security-features-01/"},{"categories":[],"content":"Configuration Summary Following the method above, the integration between VBR and Azure EntraID can be easily configured. It‚Äôs worth noting that users configured this way are only users of the backup system. They cannot log in to the Appliance‚Äôs Veeam Management Console like the veeamadmin and veeamso accounts. This SSO account cannot manage the Appliance. From a security perspective, this configuration effectively separates the permissions of the backup system. The backup system‚Äôs identity authentication is completely separated from the backup infrastructure accounts, which better complies with the usage standards of large enterprises and organizations. ","date":"2025-09-25","objectID":"/en/2025/09/veeam13-security-features-01/:3:0","tags":["Backup","Security"],"title":"Making VBR Login More Secure: A Complete Guide to v13 SAML + Azure EntraID Integration","uri":"/en/2025/09/veeam13-security-features-01/"},{"categories":[],"content":"Recently, Veeam‚Äôs Chief Product Officer Anton Gostev published an FAQ on the R\u0026D forums that clearly explains V13‚Äôs release schedule, deployment options, licensing, and migration strategy. For customers and partner engineers, this isn‚Äôt just ‚Äúnews‚Äù ‚Äì it‚Äôs a practical guide that will influence decisions about ‚Äúwhether to upgrade immediately and how to plan migration paths.‚Äù This article uses that post as a starting point, combining it with official release information to analyze its actual impact on users of different scales, and provides actionable recommendations. ","date":"2025-09-23","objectID":"/en/2025/09/veeam-software-appliance-06/:0:0","tags":["VBR"],"title":"In-Depth Analysis: Veeam V13 Release Strategy and Deployment Options","uri":"/en/2025/09/veeam-software-appliance-06/"},{"categories":[],"content":"Key Points Summary First, V13 will offer two deployment formats: it will retain the traditional installation package for Windows while adding the new Linux-based Veeam Software Appliance. Both methods run the same cross-platform VBR codebase with consistent functionality, only differing in underlying operating system management that reflects ‚ÄúAppliance characteristics.‚Äù In other words, whether you choose Appliance or Windows, you won‚Äôt lose any functionality. Second, Veeam is adopting an ‚Äúearly release‚Äù strategy this time: Software Appliance (13.0.0) will be released first, with the complete Windows installable version (and certain complex features) coming in version 13.0.1 (planned for Q4 2025). The early version targets ‚Äúfresh deployments,‚Äù and Veeam states its functionality is ‚Äúproduction-ready and supported,‚Äù but some features with higher QA requirements (like direct migration from V12, Veeam Cloud Connect, etc.) won‚Äôt be available in the initial release. Third, risks and rewards coexist: The cross-platform transformation means large-scale code changes (the post mentions about 60% of the codebase has changed), so early adopters might encounter bugs; but overall performance and scalability improvements are significant, allowing early users to enjoy lower deployment costs, ‚Äúout-of-the-box‚Äù security compliance features, and TCO advantages from automatic patching. Finally, licensing and migration: The Windows installable licensing model remains unchanged; however, Software Appliance initially only supports license types like VUL, Rental, NFR, etc. (Essentials has some limitations initially). Additionally, the early version doesn‚Äôt support direct online conversion from V12 to Appliance. Veeam plans to provide conversion tools later and may gradually advance migration through controlled enrollment and Professional Services. ","date":"2025-09-23","objectID":"/en/2025/09/veeam-software-appliance-06/:0:1","tags":["VBR"],"title":"In-Depth Analysis: Veeam V13 Release Strategy and Deployment Options","uri":"/en/2025/09/veeam-software-appliance-06/"},{"categories":[],"content":"What These Facts Mean for You 1) Small Labs / New Projects: Feel free to try the early Appliance For fresh deployments or experimental environments, the early Appliance is very attractive. It eliminates the need for OS installation, hardening, and patch management, letting you quickly set up a ‚Äúcomplete backup domain‚Äù with benefits including less operational work, automatic patching, modern WebUI, and management experience. Of course, early adopters need to be prepared to communicate with Veeam Support when encountering issues. 2) Large Production Environments / Mission-Critical Systems: Recommend waiting or cautious evaluation Production environments prioritize stability and support risks. Since the early version doesn‚Äôt support direct migration from V12, if you want a smooth upgrade, the best approach is to wait for 13.0.1 (Windows installable + complete migration path) or at least conduct thorough evaluation in canary/test environments before switching. If you depend on features (like Veeam Cloud Connect, specific plugins, or third-party integrations) that are delayed in the early release, you should also make decisions carefully. Veeam clearly plans to push large-scale migrations in a ‚Äúcontrolled manner‚Äù to protect Support SLAs. 3) Licensing and Costs Appliance initially only supports specific license types (like VUL), which impacts users still using legacy Socket licenses or Community editions. The good news is that the process of converting from Socket to VUL is reportedly more convenient, but it still involves maintenance renewal. It‚Äôs recommended to confirm license types with finance/procurement in advance and evaluate overall TCO (including migration testing, potential Professional Services costs). ","date":"2025-09-23","objectID":"/en/2025/09/veeam-software-appliance-06/:0:2","tags":["VBR"],"title":"In-Depth Analysis: Veeam V13 Release Strategy and Deployment Options","uri":"/en/2025/09/veeam-software-appliance-06/"},{"categories":[],"content":"Seven Actionable Recommendations Test before scaling: Install V13 Appliance on 1-2 non-production VMs first for functionality verification (WebUI, backup/recovery, Hardened Repo, etc.). Don‚Äôt migrate directly in production: If you‚Äôre using V12 with extensive historical configurations or legacy plugins, wait for the 13.0.1 Windows installable and conversion tools. Evaluate licensing in advance: Confirm whether your current license is supported by Appliance; if you need to convert from Socket to VUL, discuss costs and timeline with sales in advance. Plan backup import strategy: When preparing to install a new Appliance, first verify the ‚Äúimport historical backups‚Äù process (importing metadata, repository access, etc.), and test and plan rollback steps. Plan compliance and automatic update strategy: Take advantage of Appliance‚Äôs automatic updates and JeOS security baseline, but schedule updates during maintenance windows and maintain change records, referencing official Release Notes to verify compatibility. Consider professional support: If planning large-scale migration, apply for official upgrade services in advance and prepare Professional Services budget for phased, orderly migration. Monitor and maintain rollback options: Any early evaluation should have a rollback plan (such as retaining V12 snapshots, rollback scripts, recovery verification processes). ","date":"2025-09-23","objectID":"/en/2025/09/veeam-software-appliance-06/:0:3","tags":["VBR"],"title":"In-Depth Analysis: Veeam V13 Release Strategy and Deployment Options","uri":"/en/2025/09/veeam-software-appliance-06/"},{"categories":[],"content":"Additional Perspectives on Product Direction There are several reasons for releasing Appliance first: one is to lower the operational barrier and make security compliance the ‚Äúdefault,‚Äù which is very attractive to new customers; another is to collect real-world feedback on the underlying platform early, building a more solid foundation for subsequent Windows migration tools. For this reason, Veeam chose a ‚Äúcontrolled release‚Äù strategy ‚Äì it can demonstrate V13‚Äôs performance improvements while avoiding pushing all customers to migration tools that are still being refined. ","date":"2025-09-23","objectID":"/en/2025/09/veeam-software-appliance-06/:0:4","tags":["VBR"],"title":"In-Depth Analysis: Veeam V13 Release Strategy and Deployment Options","uri":"/en/2025/09/veeam-software-appliance-06/"},{"categories":[],"content":"Making the Safest Decisions During the Transition Period If you want to ‚Äúupgrade as soon as possible and simplify operations,‚Äù you can try Appliance in non-critical environments first, solidifying processes, scripts, and rollback methods; if you pursue zero-risk production, it‚Äôs recommended to wait for the complete 13.0.1 version and official migration tools while conducting comprehensive compatibility testing in test environments. Regardless of which path you choose, the key is the four-step cycle of ‚Äútest-document-automate-rollback‚Äù: test first, write SOPs, automate, and ensure rollback capability. Finally, before any migration or large-scale changes, it‚Äôs recommended to monitor official Release Notes / KB (such as VBR 13 Release Information) and updates to Gostev‚Äôs FAQ post. ","date":"2025-09-23","objectID":"/en/2025/09/veeam-software-appliance-06/:0:5","tags":["VBR"],"title":"In-Depth Analysis: Veeam V13 Release Strategy and Deployment Options","uri":"/en/2025/09/veeam-software-appliance-06/"},{"categories":[],"content":"Final Thoughts This article concludes my Veeam Software Appliance release series, where we‚Äôve detailed the newly released software. After this series, I will continue to launch a V13 new features highlight series, so please stay tuned. ","date":"2025-09-23","objectID":"/en/2025/09/veeam-software-appliance-06/:0:6","tags":["VBR"],"title":"In-Depth Analysis: Veeam V13 Release Strategy and Deployment Options","uri":"/en/2025/09/veeam-software-appliance-06/"},{"categories":[],"content":"In Veeam v13, not only did they make the backup server into a pre-hardened Software Appliance, but they also introduced the Veeam Infrastructure Appliance specifically designed to host role services. If the Software Appliance is the ‚Äúcommand center,‚Äù then the Infrastructure Appliance is more like a pre-configured, ready-to-use ‚Äúexecution unit‚Äù: it provides a unified, controlled, and compliant operating environment for roles like Proxy, Mount Server, and Hardened Repository. ","date":"2025-09-22","objectID":"/en/2025/09/veeam-software-appliance-05/:0:0","tags":["VBR"],"title":"Let Veeam Handle the Complexity: A Hands-On Guide to Infrastructure Appliance","uri":"/en/2025/09/veeam-software-appliance-05/"},{"categories":[],"content":"1. Why Choose Infrastructure Appliance The reasons for choosing Infrastructure Appliance can be summarized in three points: fast, simple, secure. Veeam‚Äôs JeOS (Just enough OS) image built on Rocky 9 packages the operating system and runtime dependencies into a controlled, minimal distribution unit. When you deploy an Infrastructure Appliance, you‚Äôre essentially getting a Linux server optimized for backup roles according to best practices that‚Äôs ready to use out of the box. From a practical perspective, the benefits are straightforward: deployment is no longer burdened by the complexity of traditional operating system installation and patch management; role support covers common components like Proxy, Mount Server, Gateway Server, and Hardened Repository; and in terms of security and compliance, the Appliance comes pre-loaded with DISA STIG and FIPS policies, enables UEFI Secure Boot by default, and replaces open SSH logins with certificate authentication, significantly reducing the attack surface. For distributed or multi-site deployments, Infrastructure Appliance can quickly scale execution node capabilities while minimizing maintenance complexity. ","date":"2025-09-22","objectID":"/en/2025/09/veeam-software-appliance-05/:1:0","tags":["VBR"],"title":"Let Veeam Handle the Complexity: A Hands-On Guide to Infrastructure Appliance","uri":"/en/2025/09/veeam-software-appliance-05/"},{"categories":[],"content":"2. Deployment and Configuration: A One-Step Experience Before deploying Veeam Infrastructure Appliance, you need to confirm that the target resources meet the basic minimum requirements. The recommended minimum configuration is as follows: Quad-core x86-64 CPU or vCPU 8 GB RAM At least two 120 GiB disks, with system disk recommended as SSD/NVMe (system disk must be the smallest disk) 1 Gbps or higher network bandwidth If deploying in vSphere, set the VM OS type to RHEL 9 (or compatible options) to match the Rocky Linux 9 kernel/drivers. ","date":"2025-09-22","objectID":"/en/2025/09/veeam-software-appliance-05/:2:0","tags":["VBR"],"title":"Let Veeam Handle the Complexity: A Hands-On Guide to Infrastructure Appliance","uri":"/en/2025/09/veeam-software-appliance-05/"},{"categories":[],"content":"Installation The actual deployment process isn‚Äôt complicated: download the official ISO, mount it to the target host or VM and boot from it. The installation menu will list multiple installation options for Infrastructure Appliance (including support for iSCSI \u0026 NVMe/TCP and Hardened Repository roles). Next, select Install (or Reinstall in recovery scenarios), wait for the automated steps to complete and restart, then the system will enter the initialization wizard. The entire process is almost identical to Veeam Software Appliance - you can refer to previous posts for details. After initialization configuration is complete, you can directly use the Host Management WebUI or TUI for subsequent management: including network and hostname settings, time synchronization (NTP/NTS), certificate and access control configuration, etc. For users without Linux experience, this ‚Äúwizard-style‚Äù experience significantly lowers the barrier to entry - even without Linux knowledge, you can easily complete all necessary operations through the Host Management WebUI and TUI. ","date":"2025-09-22","objectID":"/en/2025/09/veeam-software-appliance-05/:2:1","tags":["VBR"],"title":"Let Veeam Handle the Complexity: A Hands-On Guide to Infrastructure Appliance","uri":"/en/2025/09/veeam-software-appliance-05/"},{"categories":[],"content":"Adding a Regular Managed Linux Role Server in VBR After completing the installation via Veeam Infrastructure Appliance ISO, you need to add it to VBR. Under Backup Infrastructure, find Managed Servers and locate the Linux Server add wizard, then select Add New. In the wizard‚Äôs Access step, unlike before, directly select Connect using certificate-based authentication (recommended). This option doesn‚Äôt require opening SSH ports or entering usernames and passwords - instead, it connects directly through Veeam‚Äôs proprietary protocol and certificates. Other steps remain unchanged and are completely consistent with previous version configurations. ","date":"2025-09-22","objectID":"/en/2025/09/veeam-software-appliance-05/:2:2","tags":["VBR"],"title":"Let Veeam Handle the Complexity: A Hands-On Guide to Infrastructure Appliance","uri":"/en/2025/09/veeam-software-appliance-05/"},{"categories":[],"content":"Configuring Hardened Repository in VBR For Hardened Repository, the process of adding a Linux role server is completely identical, but in the Server directory presentation section, Veeam has handled the Linux system paths - only showing the path where Hardened Repository can uniquely store data to customers: In folder settings, only backup-only folders are listed, of course the New Folder option is still retained - users can create new folders when setting up folders and select new folders. Other settings remain consistent with previous versions of Hardened Repository. ","date":"2025-09-22","objectID":"/en/2025/09/veeam-software-appliance-05/:2:3","tags":["VBR"],"title":"Let Veeam Handle the Complexity: A Hands-On Guide to Infrastructure Appliance","uri":"/en/2025/09/veeam-software-appliance-05/"},{"categories":[],"content":"3. Best Practices and Security Design Principles in Practice ","date":"2025-09-22","objectID":"/en/2025/09/veeam-software-appliance-05/:3:0","tags":["VBR"],"title":"Let Veeam Handle the Complexity: A Hands-On Guide to Infrastructure Appliance","uri":"/en/2025/09/veeam-software-appliance-05/"},{"categories":[],"content":"Best Practices Treating the Appliance as a ‚Äúblack box‚Äù doesn‚Äôt mean just throwing it in the data center and forgetting about it. To keep it running stably, you actually just need to follow these guidelines: Role and Resource Matching: Before deployment, confirm the roles this node will undertake (Proxy, Mount Server, Hardened Repository, etc.) and allocate resources accordingly. For example, Proxy‚Äôs computing requirements increase with concurrent tasks - it‚Äôs recommended to start with at least 2 cores CPU, adding 1 core for every 2 additional concurrent tasks; memory starts from 2 GB, and for I/O-sensitive Repositories, prioritize enterprise-grade SSD/NVMe and hardware RAID. Of course, SATA disks as backup storage are the king of cost-effectiveness and are also highly recommended. Hardware and Firmware Compatibility: Infrastructure Appliance requires enabling UEFI Secure Boot; for Hardened Repository, hardware RAID controllers are recommended, and avoid unsupported virtualization or software RAID solutions. Confirming firmware/BIOS compatibility with NVMe controllers in advance can avoid subsequent issues with system disk recognition or performance anomalies. Network and Time: It‚Äôs recommended to use a static IP for Appliances and configure at least three or more trusted NTP/NTS sources to ensure stable time synchronization. Time drift can cause abnormalities in MFA, certificate verification, or scheduled tasks. Centralized Management and Pairing: After initial configuration is complete, immediately pair the Appliance with Veeam Backup \u0026 Replication (VBR) management through the Backup Console, incorporating it into unified policy, logging, and patch management systems. This ensures policy consistency and facilitates subsequent auditing. Additionally, after configuration is complete, you can disable Host Management WebUI access to further reduce the system‚Äôs attack surface. Maintain JeOS Original Design: JeOS is designed as a minimal system with ‚Äúonly necessary components installed,‚Äù with built-in DISA STIG, FIPS, and automatic update mechanisms. Arbitrarily modifying underlying system settings (such as casually enabling additional services, manually changing kernel parameters, or using package managers for arbitrary upgrades) brings risks: it may prevent the system from properly receiving official updates, lose compliance, or even affect VBR‚Äôs recognition and support for the node. Therefore, unless officially instructed or sufficiently verified, it‚Äôs recommended to make all configuration changes only through interfaces provided by Host Management or VBR. Currently, the Veeam official website has updated KB4772 to clearly explain this issue. ","date":"2025-09-22","objectID":"/en/2025/09/veeam-software-appliance-05/:3:1","tags":["VBR"],"title":"Let Veeam Handle the Complexity: A Hands-On Guide to Infrastructure Appliance","uri":"/en/2025/09/veeam-software-appliance-05/"},{"categories":[],"content":"Security Features The security and update design of Infrastructure Appliance is one of its core features. The system enables multiple security controls by default, such as UEFI Secure Boot, DISA STIG and FIPS policies. Host Management provides centralized control over certificates, access requests, infrastructure locking, and approval processes. The Security Officer approval mechanism can be used for sensitive operations like enabling SSH, authorizing temporary root access, resetting user passwords, and approving pairing requests, thereby implementing built-in ‚Äúfour-eyes‚Äù audit processes. Regarding updates, Appliance uses the Veeam Updater component for centralized patch management. Administrators can set update policies in each Appliance‚Äôs Host Management or centrally manage updates for all Appliances through the Veeam Backup \u0026 Replication backup console. The system performs digital signature verification on update packages to ensure trusted sources and avoid tampering. All update operations and logs can be viewed and exported in the console for compliance auditing. Additionally, Appliance provides a set of emergency maintenance functions: you can use the Recovery LiveCD ISO for emergency system repair and maintenance. ","date":"2025-09-22","objectID":"/en/2025/09/veeam-software-appliance-05/:3:2","tags":["VBR"],"title":"Let Veeam Handle the Complexity: A Hands-On Guide to Infrastructure Appliance","uri":"/en/2025/09/veeam-software-appliance-05/"},{"categories":[],"content":"4. Conclusion: Let Veeam Handle the Complexity, Leave Security to You The value of Veeam Infrastructure Appliance isn‚Äôt just in ‚Äúsaving effort‚Äù but in encapsulating repetitive, risky infrastructure work into controlled, auditable processes, allowing operations teams to focus on architecture and strategy rather than daily system patching and compatibility debugging. Using Software Appliance as the central hub and Infrastructure Appliance as replicable execution units, you can quickly scale, manage uniformly, and maintain compliance and security in multi-site, distributed scenarios. If you‚Äôre just starting to plan and test the new version, it‚Äôs recommended to practice the complete installation and pairing process several times in a test environment: clarify the role of each Appliance, adjust resource ratios, verify time and network configurations, and then solidify these steps into standard operating procedures. This way, you can enjoy the ‚Äúplug-and-play‚Äù benefits of Appliance while minimizing long-term operational complexity and risks. ","date":"2025-09-22","objectID":"/en/2025/09/veeam-software-appliance-05/:4:0","tags":["VBR"],"title":"Let Veeam Handle the Complexity: A Hands-On Guide to Infrastructure Appliance","uri":"/en/2025/09/veeam-software-appliance-05/"},{"categories":[],"content":"In the previous articles of this series, we‚Äôve installed and run the Veeam Software Appliance, experiencing its ‚Äúsecure by default‚Äù management approach. Now, let‚Äôs tackle a question many people genuinely care about: How to enable Veeam Software Appliance to automatically receive updates in an offline environment, just like it would online. The official documentation mentions specifying a local mirror repository, but it doesn‚Äôt provide detailed instructions on how to build, sync, or configure certificates. Based on my lab testing, I‚Äôll walk you through the complete process step by step. ","date":"2025-09-09","objectID":"/en/2025/09/veeam-software-appliance-04/:0:0","tags":["VBR"],"title":"Making Veeam Updates Both Secure and Fast: A Complete Guide to Building Local Update Repository Servers","uri":"/en/2025/09/veeam-software-appliance-04/"},{"categories":[],"content":"Why Build Your Own Update Repository? The Veeam Software Appliance includes a Veeam Updater service that automatically connects to https://repository.veeam.com daily to pull patches and metadata. This is convenient for environments with internet access. However, in isolated zones, testing environments, or scenarios where compliance requirements prevent public internet access, you‚Äôll face issues with delayed patches and troublesome manual updates. A local update repository serves as an internal ‚Äúreplica‚Äù of Veeam‚Äôs official repository, providing HTTPS services and making the Appliance trust it. This way, even when disconnected from the internet, it can automatically check for and install updates. You just need to periodically mirror the official repository, and your internal Appliances can update just as if they were connected to the internet. ","date":"2025-09-09","objectID":"/en/2025/09/veeam-software-appliance-04/:1:0","tags":["VBR"],"title":"Making Veeam Updates Both Secure and Fast: A Complete Guide to Building Local Update Repository Servers","uri":"/en/2025/09/veeam-software-appliance-04/"},{"categories":[],"content":"Deploying nginx + Self-Signed Certificates + Repository Sync on Ubuntu This tutorial demonstrates how to set up a complete Veeam official repository mirror service on an Ubuntu virtual machine: Using nginx to provide HTTPS access Providing transport security through self-signed certificates (or replace with Let‚Äôs Encrypt certificates) to meet Veeam‚Äôs official requirements Using wget mirror mode to periodically sync official repository content My lab environment runs on a Proxmox virtual machine with CPU and memory configured as needed, but you should reserve sufficient disk space (the Rocky repository is about 17GB, while the complete repository can exceed 100GB). Let‚Äôs proceed with the following steps: # Install nginx apt install nginx -y # Create directories for repository and certificates mkdir -p /var/www/veeam-repo mkdir -p /etc/nginx/ssl cd /etc/nginx/ssl # Generate self-signed certificates openssl genrsa -out veeamrepo.key 2048 openssl req -new -key veeamrepo.key -out veeamrepo.csr \\ -subj \"/C=CN/ST=Beijing/L=Beijing/O=Lab/OU=IT/CN=veeamupdater.backupnext.home\" openssl x509 -req -days 3650 -in veeamrepo.csr -signkey veeamrepo.key -out veeamrepo.crt Note that veeamupdater.backupnext.home is my home domain setup. If you‚Äôre building your own mirror server, you can set the domain name according to your situation. This domain will be needed in later steps. Configure the nginx virtual host (/etc/nginx/sites-available/veeamrepo.conf): server { listen 443 ssl; server_name veeamupdater.backupnext.home; ssl_certificate /etc/nginx/ssl/veeamrepo.crt; ssl_certificate_key /etc/nginx/ssl/veeamrepo.key; root /var/www/veeam-repo; index index.html index.htm; autoindex on; autoindex_exact_size off; autoindex_localtime on; location / { allow all; } } server { listen 80; server_name veeamupdater.backupnext.home; return 301 https://$host$request_uri; } Enable and check the configuration: ln -s /etc/nginx/sites-available/veeamrepo.conf /etc/nginx/sites-enabled/ nginx -t \u0026\u0026 systemctl reload nginx Next, write the repository sync script (syncing only needed paths, using rocky as an example): #!/bin/sh MIRROR_DIR=\"/var/www/veeam-repo\" LOG_FILE=\"/root/sync_vbr_only.log\" URL=\"https://repository.veeam.com/rocky/\" cd \"$MIRROR_DIR\" || exit 1 wget -m -c -np -nH --cut-dirs=0 \\ -e robots=off \\ -t 3 -T 30 \\ -R \"index.html*\" \\ -l inf \\ \"$URL\" \u003e\u003e \"$LOG_FILE\" 2\u003e\u00261 echo \"Sync completed at $(date)\" \u003e\u003e \"$LOG_FILE\" Give the script execution permissions and schedule it with crontab: chmod +x /root/sync_veeam_vbr.sh crontab -e # Sync once daily at 9 AM 0 9 * * * /root/sync_veeam_vbr.sh You can run the script manually for the first download - about 17GB depending on your network speed. After downloading, you don‚Äôt need to restart nginx; the web service will automatically serve new files once the directory content is updated. ","date":"2025-09-09","objectID":"/en/2025/09/veeam-software-appliance-04/:2:0","tags":["VBR"],"title":"Making Veeam Updates Both Secure and Fast: A Complete Guide to Building Local Update Repository Servers","uri":"/en/2025/09/veeam-software-appliance-04/"},{"categories":[],"content":"Configuring Local Repository in Veeam Software Appliance Once the mirror server is ready, the next step is to enable it in the Veeam Software Appliance. The approach is straightforward: import the self-signed certificate to the console ‚Üí specify the mirror address ‚Üí test updates. Here are the specific steps: Copy the veeamrepo.crt self-signed certificate generated on the nginx server to the server where Veeam Backup Console is located; Open Veeam Backup Console and navigate to the Update Settings interface. Click on the Software repository settings below and enter your address in the ‚ÄúMirror repository‚Äù field (e.g., https://veeamupdater.backupnext.home/rocky); Upload the .crt certificate and save the settings; In the upper left corner of the Console, continue clicking ‚ÄúCheck updates‚Äù to jump to the updater web page. Click Check update - if it prompts success and can normally download updates, it means the internal network mirror repository has been configured successfully. This process can also be set up in the web Console. That‚Äôs it! Even in a completely isolated internal network environment, Veeam Software Appliance can automatically receive patches and updates just like it would on the public internet, eliminating the need for manual downloads and imports. Additionally, this internal update service not only applies to a single Appliance but can also provide a unified update source for the entire Veeam Infrastructure Appliance environment - all device update requests will automatically redirect to your internal mirror repository, truly achieving a centralized, fast, and secure upgrade experience. In the next article, I‚Äôll continue to dive deeper, helping you understand the usage and management of Veeam Infrastructure Appliance. ","date":"2025-09-09","objectID":"/en/2025/09/veeam-software-appliance-04/:3:0","tags":["VBR"],"title":"Making Veeam Updates Both Secure and Fast: A Complete Guide to Building Local Update Repository Servers","uri":"/en/2025/09/veeam-software-appliance-04/"},{"categories":[],"content":"In the first two parts of this series, we walked through the deployment of Veeam Software Appliance‚Äîfrom downloading the ISO and creating bootable media to automated installation, followed by initial TUI setup and basic management. Many of you have successfully gotten this ‚Äúbackup powerhouse‚Äù up and running. But once the system is actually running, new questions arise: What new features does Veeam Software Appliance actually offer? How does this Linux-based Appliance differ from the previous Windows version? Should I use the WebUI or TUI console? How do I handle user management? What about upgrades and updates? In this installment, we‚Äôll tackle these most pressing questions, guiding you through Veeam Software Appliance‚Äôs new features and Appliance-specific management methods, while walking you through the use cases for both host console UIs. This will ensure you can use and manage your Appliance confidently after installation. ","date":"2025-09-08","objectID":"/en/2025/09/veeam-software-appliance-03/:0:0","tags":["VBR"],"title":"Everything You Need to Know: Veeam Software Appliance's New Management Methods","uri":"/en/2025/09/veeam-software-appliance-03/"},{"categories":[],"content":"Out-of-the-Box Security by Default When it comes to Veeam Software Appliance, the most immediate benefit is: no more worrying about security hardening and patch maintenance. We‚Äôre accustomed to installing Veeam on Windows, then handling patches, permissions, and firewall configurations ourselves. With Appliance, you get a pre-hardened Linux platform that‚Äôs secure right out of the box. The system kernel, permission model, and service states are all configured according to best practices, making it ‚ÄúSecure-by-Default‚Äù from the moment of installation. More importantly, this built-in security and simplified management extends beyond system administration to user access control and automated upgrades and updates. In other words, you don‚Äôt need to be a Linux security expert to leverage these ‚Äúhard-core‚Äù security features on Veeam Software Appliance. ","date":"2025-09-08","objectID":"/en/2025/09/veeam-software-appliance-03/:1:0","tags":["VBR"],"title":"Everything You Need to Know: Veeam Software Appliance's New Management Methods","uri":"/en/2025/09/veeam-software-appliance-03/"},{"categories":[],"content":"Appliance-Specific Management Approach Many people who install Veeam Software Appliance instinctively think about managing it like a traditional Linux server‚Äîwondering if they can SSH in to modify configurations or run yum update manually. Actually, there‚Äôs no need to do this‚Äîand it‚Äôs not recommended. Appliance has deeply encapsulated and hardened the underlying Linux system. The system kernel, software packages, and service dependencies are all packaged according to Veeam‚Äôs best practices. You don‚Äôt need to‚Äîand shouldn‚Äôt‚Äîmanually modify these underlying components. Instead, you should use its built-in management tools and interfaces: For basic settings like network configuration, hostname, timezone, and service start/stop, use the Host Management Web UI or TUI directly, avoiding manual editing of system files; If you need to adjust Veeam-related configuration files, such as modifying the /etc/hosts file, you can use the Import/Export Configuration feature: export the configuration from Logs and Services ‚Üí Host Configuration, modify it, and then import it back so the system can properly recognize and apply the changes; For upgrades or patches, use Appliance‚Äôs built-in update mechanism‚Äîdon‚Äôt manually update with package managers like yum. This approach ensures system stability and security while maintaining ‚Äúofficial support‚Äù posture when adjustments are needed‚Äîa win-win situation. ","date":"2025-09-08","objectID":"/en/2025/09/veeam-software-appliance-03/:2:0","tags":["VBR"],"title":"Everything You Need to Know: Veeam Software Appliance's New Management Methods","uri":"/en/2025/09/veeam-software-appliance-03/"},{"categories":[],"content":"Host Management: WebUI vs TUI Feature Comparison Appliance has a unique management approach where both UIs need to be used alternately. Here‚Äôs a comprehensive feature comparison: Feature Category Operation WebUI Support TUI Support Network Configuration Modify hostname ‚úÖ ‚úÖ Management domain settings ‚úÖ ‚ùå Configure network interfaces ‚úÖ ‚úÖ Configure HTTP/HTTPS proxy ‚ùå ‚úÖ Time Settings Modify timezone, configure NTP time servers ‚úÖ ‚úÖ Remote Access Disable WebUI ‚úÖ ‚úÖ Enable WebUI ‚ùå ‚úÖ Enable/Disable SSH ‚úÖ ‚úÖ Open root shell ‚ùå ‚úÖ Users \u0026 Permissions Add users, edit users, reset user passwords ‚úÖ ‚ùå Modify Host Admin password ‚úÖ ‚úÖ Unlock users, enable/disable MFA, reset MFA ‚úÖ ‚ùå Reset Security Officer password recovery token ‚úÖ ‚ùå Backup Infrastructure Enable remote data collection, enable/disable infrastructure locking, enable managed server pairing ‚úÖ ‚ùå Update Management Configure update policies, check updates, install updates, view update history ‚úÖ ‚ùå System Maintenance Start/stop/restart Veeam services ‚úÖ ‚ùå Restart Veeam Appliance ‚úÖ ‚úÖ View/export event logs, import/export configuration files, download log packages ‚úÖ ‚ùå View certificate fingerprints ‚úÖ ‚úÖ Generate new WebUI certificate ‚ùå ‚úÖ Security Control Approve authorization requests, manage configuration backup passwords ‚úÖ ‚ùå ","date":"2025-09-08","objectID":"/en/2025/09/veeam-software-appliance-03/:2:1","tags":["VBR"],"title":"Everything You Need to Know: Veeam Software Appliance's New Management Methods","uri":"/en/2025/09/veeam-software-appliance-03/"},{"categories":[],"content":"Redesigned User Management System In traditional Veeam Backup \u0026 Replication (hereafter VBR), user permission management primarily relied on Windows local or domain accounts, with role assignments handled through the VBR console. In Veeam Software Appliance, the user system has been completely redesigned, introducing an independent user role model at the Host Management layer to achieve more granular security isolation and operational control. ","date":"2025-09-08","objectID":"/en/2025/09/veeam-software-appliance-03/:3:0","tags":["VBR"],"title":"Everything You Need to Know: Veeam Software Appliance's New Management Methods","uri":"/en/2025/09/veeam-software-appliance-03/"},{"categories":[],"content":"1. Host Management User Role System Overview The Host Management console (WebUI) in Veeam Software Appliance includes four built-in user roles, each corresponding to different management responsibilities: Role Name Description Use Cases Host Administrator (veeamadmin) Has complete host management permissions, can access both WebUI and TUI, perform network configuration, user management, update maintenance, etc. Suitable for system administrators responsible for Appliance operations Security Officer (veeamso) Focuses on security controls, can only access WebUI, responsible for approving sensitive operations, managing password recovery tokens, configuration backup passwords, etc. Suitable for security audit and compliance management personnel User Limited permissions, cannot access Host Management console, only used to identify regular user identities Suitable for users who need to log in but have no host management permissions Service Account Used for system services or automated tasks, limited permissions, MFA not supported Suitable for scripts, API calls, or integrated service accounts ‚ö†Ô∏è Default accounts veeamadmin and veeamso cannot be deleted. It‚Äôs recommended to immediately change passwords and enable MFA after deployment. ","date":"2025-09-08","objectID":"/en/2025/09/veeam-software-appliance-03/:3:1","tags":["VBR"],"title":"Everything You Need to Know: Veeam Software Appliance's New Management Methods","uri":"/en/2025/09/veeam-software-appliance-03/"},{"categories":[],"content":"2. User Creation and Role Assignment Process User creation must be completed through the WebUI with the following process: Log in to Veeam Host Management WebUI. Navigate to main menu Users and Roles. Click Add, fill in username, password, and description. Select role (each user can only be assigned one role). Enable or skip MFA configuration based on role type. Review information and click Finish to complete creation. Passwords must meet complexity requirements: at least 15 characters, including uppercase and lowercase letters, numbers, special characters, with no more than 3 consecutive characters of the same type. ","date":"2025-09-08","objectID":"/en/2025/09/veeam-software-appliance-03/:3:2","tags":["VBR"],"title":"Everything You Need to Know: Veeam Software Appliance's New Management Methods","uri":"/en/2025/09/veeam-software-appliance-03/"},{"categories":[],"content":"3. Role Usage Recommendations and Scenario Matching To ensure system security and clear responsibilities, it‚Äôs recommended to assign user roles according to the following scenarios: Host Administrator: For daily operations personnel, responsible for host configuration, updates, user management, etc. Security Officer: For security audit personnel, responsible for approving sensitive operations, managing configuration backup passwords, etc. User: For regular users who need to log in but have no management permissions, such as viewing logs or receiving notifications. Service Account: For automated scripts, API calls, etc., it‚Äôs recommended to disable MFA and limit permissions. üìå Note: The separation of duties between Host Administrator and Security Officer is core to Veeam Software Appliance‚Äôs security architecture. It‚Äôs recommended to enable a ‚Äúfour-eyes approval‚Äù mechanism to ensure sensitive operations require dual confirmation. ","date":"2025-09-08","objectID":"/en/2025/09/veeam-software-appliance-03/:3:3","tags":["VBR"],"title":"Everything You Need to Know: Veeam Software Appliance's New Management Methods","uri":"/en/2025/09/veeam-software-appliance-03/"},{"categories":[],"content":"4. User Management Operation Capabilities Operation Host Administrator Security Officer Add/edit/delete users ‚úÖ ‚ùå Reset passwords ‚úÖ ‚úÖ (requires approval) Unlock users ‚úÖ ‚ùå Enable/disable MFA ‚úÖ ‚ùå Approve sensitive operations (e.g., SSH, root shell) ‚ùå ‚úÖ Manage configuration backup passwords ‚ùå ‚úÖ ","date":"2025-09-08","objectID":"/en/2025/09/veeam-software-appliance-03/:3:4","tags":["VBR"],"title":"Everything You Need to Know: Veeam Software Appliance's New Management Methods","uri":"/en/2025/09/veeam-software-appliance-03/"},{"categories":[],"content":"5. MFA and Security Officer Mechanism MFA Support: Based on TOTP, compatible with mainstream authenticators (e.g., Microsoft Authenticator). Security Officer Login Process: First login requires setting a strong password and enabling MFA. System generates recovery tokens for future sensitive operation approvals. These tokens must be properly stored; loss will make recovery impossible. ","date":"2025-09-08","objectID":"/en/2025/09/veeam-software-appliance-03/:3:5","tags":["VBR"],"title":"Everything You Need to Know: Veeam Software Appliance's New Management Methods","uri":"/en/2025/09/veeam-software-appliance-03/"},{"categories":[],"content":"6. Differences from VBR RBAC The Host Management user system in Veeam Software Appliance is only used for host-level management and is completely independent from the RBAC system in the VBR console (such as Backup Operator, Restore Operator, etc.). Host Management users only manage the Appliance itself and don‚Äôt involve backup task permissions. RBAC in the VBR console will be detailed in future articles and is suitable for permissions control over backup tasks, recovery operations, etc. By properly configuring the Host Management user system, Veeam Software Appliance achieves separation of operations and security responsibilities, building a more secure and auditable management architecture. It‚Äôs recommended to clarify role assignments early in deployment to avoid permission abuse or security risks. ","date":"2025-09-08","objectID":"/en/2025/09/veeam-software-appliance-03/:3:6","tags":["VBR"],"title":"Everything You Need to Know: Veeam Software Appliance's New Management Methods","uri":"/en/2025/09/veeam-software-appliance-03/"},{"categories":[],"content":"Upgrades and Updates In traditional Veeam Backup \u0026 Replication deployments, upgrades often meant administrators needed to manually download patches, verify compatibility, schedule maintenance windows, and even handle operating system-level updates. This approach is both cumbersome and prone to security risks due to human error or missed patches. In Veeam Software Appliance, the upgrade mechanism has been completely restructured, becoming an important part of its ‚Äúinherently secure‚Äù architecture. The built-in Veeam Updater service in Veeam Software Appliance automatically fetches the latest update information from Veeam‚Äôs official repository (repository.veeam.com) daily and writes it to the configuration database. Update content includes not only operating system and security patches (mandatory installation, cannot be skipped or cancelled, ensuring system compliance), but also Veeam B\u0026R components (supporting major versions, minor versions, and private fix patches, which can be installed automatically or manually according to policy). The entire process communicates through REST API with Veeam Identity Service for authorization, ensuring the integrity and security of update operations. Administrators can flexibly configure update policies through the WebUI or Veeam console, such as: Only automatically install security updates or extend to minor version updates Set maintenance windows by week or month Set maximum delay for mandatory updates (default 30 days, extendable to 90 days) Configure HTTP/HTTPS proxies to access external repositories. Even when choosing manual installation, updates will be forcibly installed after the compliance deadline, even if backup jobs are currently running. For environments without internet access, Veeam Software Appliance also supports configuring local offline mirror repositories as update sources. Simply provide the local repository address and its server certificate to get the same automatic update experience as online repositories. Compared to traditional Veeam software manual updates, Veeam Software Appliance shows significant differences in operating system and component updates, security assurance, update source configuration, and logging and auditing: system patches are automatically pushed and forcibly installed, Veeam components can be automatically detected and installed according to policy, offline mirror repositories are supported, and all update logs are centrally managed and exportable for auditing. Before performing updates, it‚Äôs still recommended that administrators first export configuration files to backup current settings; update history and detailed logs can be viewed through the WebUI (path https://\u003chostname\u003e/updater/updates); if you receive a Private Hotfix from Veeam Support, it can also be uploaded and installed through the WebUI. This entirely new update mechanism not only transforms patch management from cumbersome manual operations into controllable, auditable, and automated processes but also sets new benchmarks in security and compliance, providing higher reliability and operational efficiency for modern backup infrastructure. ","date":"2025-09-08","objectID":"/en/2025/09/veeam-software-appliance-03/:4:0","tags":["VBR"],"title":"Everything You Need to Know: Veeam Software Appliance's New Management Methods","uri":"/en/2025/09/veeam-software-appliance-03/"},{"categories":[],"content":"Summary Veeam Software Appliance hides much of the complexity ‚Äúbehind the interface‚Äù‚Äîthis is both an advantage and a responsibility. Only by properly planning management, permissions, and update rhythms can you enjoy the convenience of ‚Äúout-of-the-box‚Äù while ensuring long-term security and compliance. In the next article, I‚Äôll share the offline mirror repository setup that many of you are interested in, walking you through building a local repository and keeping it synchronized. Don‚Äôt miss it if you‚Äôre interested. ","date":"2025-09-08","objectID":"/en/2025/09/veeam-software-appliance-03/:5:0","tags":["VBR"],"title":"Everything You Need to Know: Veeam Software Appliance's New Management Methods","uri":"/en/2025/09/veeam-software-appliance-03/"},{"categories":[],"content":"In our previous article, we introduced Veeam‚Äôs latest product releases, particularly the brand-new Veeam Software Appliance. Many of you might have grasped the concept but are still unsure about how to actually use, install, and configure it after downloading. Don‚Äôt worry - starting from this article, we‚Äôll dive into hands-on implementation, guiding you step by step through the deployment and usage of Veeam Software Appliance. Veeam officially provides two deployment methods for this Appliance: ISO image and OVA template. To avoid overwhelming you with too many options, this article will focus specifically on the ISO image method. Unlike our usual practice of ‚Äúmounting an ISO file‚Äù within an operating system, this ISO is a complete system boot disk. You need to use it to boot your server or virtual machine, just like installing a new operating system on a fresh computer. ","date":"2025-09-05","objectID":"/en/2025/09/veeam-software-appliance-02/:0:0","tags":["VBR"],"title":"Easy Installation Guide: Step-by-Step Veeam Software Appliance Deployment","uri":"/en/2025/09/veeam-software-appliance-02/"},{"categories":[],"content":"Preparation: Obtaining the ISO Image In our previous article, we provided download links, so we won‚Äôt repeat them here. However, before we begin hands-on work, I must emphatically remind everyone of one crucial step: No matter where you download the Veeam Software Appliance ISO from, always verify the MD5/SHA-1 checksum of your downloaded ISO file! Why is this so important? In today‚Äôs network environment, downloading large files isn‚Äôt always ‚Äúclean.‚Äù For example: Some public Wi-Fi networks or malware-infected computers might hijack browser download requests, redirecting you to seemingly identical ‚Äúdownload addresses‚Äù; Attackers might also perform ‚Äúman-in-the-middle‚Äù substitutions, replacing the original official package with malicious versions containing backdoors; Even official websites, if briefly compromised or affected by DNS poisoning, could result in you receiving non-original files. In these scenarios, users cannot visually detect any differences - the interface, filename, and size might all appear identical. The only reliable method is to compare against the MD5 or SHA-1 checksums provided on Veeam‚Äôs official website - like comparing ‚Äúfingerprints,‚Äù only matching fingerprints confirm authenticity. ","date":"2025-09-05","objectID":"/en/2025/09/veeam-software-appliance-02/:1:0","tags":["VBR"],"title":"Easy Installation Guide: Step-by-Step Veeam Software Appliance Deployment","uri":"/en/2025/09/veeam-software-appliance-02/"},{"categories":[],"content":"Verification Methods for Different Systems Whether you‚Äôre using Windows, Linux, or macOS, we now have very convenient verification methods. Here are the commands you can copy and paste directly into your command line for quick verification. üíª Windows Execute in PowerShell (official filename: VeeamSoftwareAppliance_13.0.0.4967_20250822.iso): # Verify MD5 if ((Get-FileHash .\\VeeamSoftwareAppliance_13.0.0.4967_20250822.iso -Algorithm MD5).Hash.ToLower() -eq \"30bb0eef0dca6544c36a2728642d35c9\") { Write-Host \"‚úÖ MD5 checksum matches\" } else { Write-Host \"‚ùå MD5 checksum mismatch, please re-download\" } # Verify SHA-1 if ((Get-FileHash .\\VeeamSoftwareAppliance_13.0.0.4967_20250822.iso -Algorithm SHA1).Hash.ToLower() -eq \"1aa8624419c71adcf5425d87c8cf53f90fafd1f6\") { Write-Host \"‚úÖ SHA-1 checksum matches\" } else { Write-Host \"‚ùå SHA-1 checksum mismatch, please re-download\" } üçè macOS # Verify MD5 if [ \"$(md5 -q VeeamSoftwareAppliance_13.0.0.4967_20250822.iso)\" = \"30bb0eef0dca6544c36a2728642d35c9\" ]; then echo \"‚úÖ MD5 checksum matches\" else echo \"‚ùå MD5 checksum mismatch, please re-download\" fi # Verify SHA-1 if [ \"$(shasum -a 1 VeeamSoftwareAppliance_13.0.0.4967_20250822.iso | awk '{print tolower($1)}')\" = \"1aa8624419c71adcf5425d87c8cf53f90fafd1f6\" ]; then echo \"‚úÖ SHA-1 checksum matches\" else echo \"‚ùå SHA-1 checksum mismatch, please re-download\" fi üíª Linux # Verify MD5 if [ \"$(md5sum VeeamSoftwareAppliance_13.0.0.4967_20250822.iso | awk '{print tolower($1)}')\" = \"30bb0eef0dca6544c36a2728642d35c9\" ]; then echo \"‚úÖ MD5 checksum matches\" else echo \"‚ùå MD5 checksum mismatch, please re-download\" fi # Verify SHA-1 if [ \"$(sha1sum VeeamSoftwareAppliance_13.0.0.4967_20250822.iso | awk '{print tolower($1)}')\" = \"1aa8624419c71adcf5425d87c8cf53f90fafd1f6\" ]; then echo \"‚úÖ SHA-1 checksum matches\" else echo \"‚ùå SHA-1 checksum mismatch, please re-download\" fi The checksum is the ‚Äúofficial fingerprint‚Äù - only a complete match ensures you have the genuine official file, which is the only way to avoid malicious programs embedded in downloaded software from the internet. ","date":"2025-09-05","objectID":"/en/2025/09/veeam-software-appliance-02/:1:1","tags":["VBR"],"title":"Easy Installation Guide: Step-by-Step Veeam Software Appliance Deployment","uri":"/en/2025/09/veeam-software-appliance-02/"},{"categories":[],"content":"Understanding ISO Usage As mentioned at the beginning of this article, this ISO differs from traditional Veeam software installation packages. It‚Äôs not just a software ISO, but rather an integrated image containing both the operating system and Veeam software. In other words, this ISO itself can boot a server or virtual machine like a brand-new operating system installation disk, enabling complete system deployment. Since most people rarely need to perform ‚Äúfresh OS installations‚Äù these days, many readers might be unsure how to approach this type of ISO. Generally, there are three typical usage scenarios: CD/DVD Burning (traditional method, simple process, won‚Äôt elaborate here) Virtual Machine ISO Mounting (directly loading the ISO in virtualization platforms, very straightforward) Creating Bootable USB Drive (flashing the ISO to a USB drive, then booting the server from USB for installation) The first two methods are relatively easy to operate, so we won‚Äôt detail them here. We‚Äôll focus on the third method - creating a bootable USB drive using Rufus. Rufus is a lightweight, portable, and powerful tool for creating bootable USB drives. Notably, it includes built-in MD5 and SHA-1 verification functionality, which perfectly complements the verification methods mentioned in our previous section, helping you quickly verify the integrity of your downloaded ISO file. Let‚Äôs look at the download, installation, and usage steps for Rufus. Using Rufus is very simple: Visit the official Rufus website: https://rufus.ie/ On the page, select the latest version portable edition and download it locally. After downloading, simply double-click to run it directly - no installation required. It features a full Chinese interface, making it very user-friendly. ","date":"2025-09-05","objectID":"/en/2025/09/veeam-software-appliance-02/:2:0","tags":["VBR"],"title":"Easy Installation Guide: Step-by-Step Veeam Software Appliance Deployment","uri":"/en/2025/09/veeam-software-appliance-02/"},{"categories":[],"content":"Installation and Initial Configuration ","date":"2025-09-05","objectID":"/en/2025/09/veeam-software-appliance-02/:3:0","tags":["VBR"],"title":"Easy Installation Guide: Step-by-Step Veeam Software Appliance Deployment","uri":"/en/2025/09/veeam-software-appliance-02/"},{"categories":[],"content":"Boot Installation When we use the USB drive we just created to boot the server or virtual machine, the screen doesn‚Äôt show a traditional OS installation interface, but rather the dedicated Veeam Software Appliance installation menu. This ISO has packaged the operating system and Veeam software together, providing an ‚Äúall-in-one‚Äù installation experience upon boot. The main menu clearly lists two main components: Veeam Backup \u0026 Replication Veeam Backup Enterprise Manager UEFI Firmware Settings For convenience, a UEFI settings option is also included, allowing you to adjust boot parameters without exiting the installation program. In the VBR or Enterprise Manager submenu, you‚Äôll see two operations: Install ‚Äì Fresh installation, deleting all data (recommended for new environments) Reinstall ‚Äì Reinstallation while preserving data If you choose Install, the system will immediately prompt: ‚ÄúAbout to clear all data on disks mounted on the current server‚Äù. Once you click Yes to confirm, you‚Äôll enter the fully automated installation process. No complicated partitioning, no numerous options - the entire process requires minimal intervention, as simple as performing a Ghost restore on a computer. After installation completes, the Reboot System button in the bottom right will highlight. Click it or wait a few seconds for the system to automatically restart, then you can enter VBR. Once the Appliance installation is complete, it includes two standard device management consoles by default: one is a cool pure text interface (TUI), and the other is a browser-accessible Web interface (WebUI). ","date":"2025-09-05","objectID":"/en/2025/09/veeam-software-appliance-02/:3:1","tags":["VBR"],"title":"Easy Installation Guide: Step-by-Step Veeam Software Appliance Deployment","uri":"/en/2025/09/veeam-software-appliance-02/"},{"categories":[],"content":"Initial Configuration After restarting into the system, you‚Äôll directly enter the TUI, where you need to perform some initial configuration before the backup server can be used normally. In the first step of the initial configuration wizard, you‚Äôll encounter the Veeam EULA and some third-party license confirmation screens. Simply use the keyboard arrow keys or Tab key to navigate and select Accept to proceed. The second step is configuring the hostname. As in my case, I configured a complete FQDN and ensured proper DNS resolution on my DNS server. Next is network configuration. In my environment, IPv6 wasn‚Äôt required, so I only configured IPv4 addresses. After configuration, click Next to proceed. Following that is timezone and time configuration, which is crucial for backup systems. Time synchronization is not only used for multi-factor authentication during login but also for various daily backup operations, including data immutability. Then comes setting the first administrator password. The default administrator username is veeamadmin, and the password has very strict complexity requirements. For lab environment convenience, I typically set it to: 123Q123q123!123 Next, you‚Äôll be prompted to bind a multi-factor authentication device. You can choose any suitable MFA app on your phone to scan the QR code for binding. I generally prefer Microsoft Authenticator, which supports data backup and is more reliable than some domestic apps. The next step is the Security Officer option, which is recommended for complex production environments. For my lab, I simply checked ‚ÄúSkip setting.‚Äù Finally, you‚Äôll reach the Summary screen. After some configuration checks, click Finish to complete the initial configuration. After configuration completion, you‚Äôll enter the main standby interface. From here, you can access advanced TUI configuration through the main interface prompts for host configuration maintenance and adjustments, including host configuration, remote access configuration, password changes, system restart, and other regular maintenance functions. ","date":"2025-09-05","objectID":"/en/2025/09/veeam-software-appliance-02/:3:2","tags":["VBR"],"title":"Easy Installation Guide: Step-by-Step Veeam Software Appliance Deployment","uri":"/en/2025/09/veeam-software-appliance-02/"},{"categories":[],"content":"Using WebUI for Advanced Configuration The TUI displays two addresses: one for the Host Management console and another for the Veeam Backup \u0026 Replication web UI. For advanced management and configuration of the Appliance, you can access the Host Management console. You‚Äôll be prompted to enter your password and MFA verification code when accessing it. With this, Veeam Backup \u0026 Replication installation is complete. As for Veeam Backup Enterprise Manager, the installation process is similar, so we won‚Äôt detail it here - leaving that for your own exploration. ","date":"2025-09-05","objectID":"/en/2025/09/veeam-software-appliance-02/:3:3","tags":["VBR"],"title":"Easy Installation Guide: Step-by-Step Veeam Software Appliance Deployment","uri":"/en/2025/09/veeam-software-appliance-02/"},{"categories":[],"content":"Summary \u0026 Next Steps In this article, I walked you through the entire Veeam Software Appliance ISO usage process: Downloading the image from the official website and verifying integrity ‚Üí Creating a bootable USB drive with Rufus ‚Üí Booting the server for automatic installation ‚Üí Completing basic initialization and management through the TUI interface. You‚Äôll find that the entire process requires minimal complex operations. As long as you prepare the media and follow the steps with a few clicks, anyone can complete the installation successfully. In our next article, we‚Äôll officially explore the V13 version product interface, diving deep into its features and new capabilities to see just how powerful this new version really is. ","date":"2025-09-05","objectID":"/en/2025/09/veeam-software-appliance-02/:4:0","tags":["VBR"],"title":"Easy Installation Guide: Step-by-Step Veeam Software Appliance Deployment","uri":"/en/2025/09/veeam-software-appliance-02/"},{"categories":[],"content":"Introduction: The Background of Veeam Software Appliance Yesterday, Veeam quietly launched a new product on their official website: Veeam Software Appliance. For many of us, Veeam has traditionally followed the Windows installer + manual configuration approach. This Software Appliance clearly takes a different path: both installation and security are pre-configured, significantly simplifying the onboarding process. For instance, it‚Äôs built on a pre-hardened Rocky Linux platform, comes with immutable storage, zero-trust access control, and automatic patching - eliminating the need to purchase Windows licenses or perform your own security hardening. You can deploy it directly using ISO or OVA formats, and it runs on virtual machines, physical servers, or in the cloud. ","date":"2025-09-04","objectID":"/en/2025/09/veeam-software-appliance-01/:1:0","tags":["VBR"],"title":"Veeam Launches Software Appliance: New Download Experience and Documentation Overhaul","uri":"/en/2025/09/veeam-software-appliance-01/"},{"categories":[],"content":"Meet the New Product: Veeam Software Appliance Overview With this update, Veeam has released a ‚Äúthree-piece suite‚Äù all at once. If you‚Äôre familiar with using Veeam for backup, the names might be a bit confusing. Let me break it down for you: Veeam Software Appliance This is the ‚Äúmain character‚Äù of this release - what we know as the Veeam backup software itself, including the backup server (Veeam Backup \u0026 Replication) and Enterprise Manager. The difference is that you no longer need to install multiple packages on Windows. Instead, Veeam provides an ISO or OVA image directly. After the server boots with it, you enter the system installation interface and can install both the system and software in one go - saving time and enhancing security. Veeam Infrastructure Appliance Think of this as an ‚Äúextension pack‚Äù for backup infrastructure. In Veeam environments, distributed deployment of various server roles is supported, such as Proxy, Tape Server, Gateway Server, Mount Server, and most importantly, the hardened repository (Hardened Repository). Now through this Appliance, you can install these roles. Like the Software Appliance, it‚Äôs built on pre-configured Rocky Linux, ready to use out of the box, reducing both deployment and maintenance costs. Veeam ONE v13 This isn‚Äôt a Software Appliance version - it‚Äôs the same as before, a Windows-based installer. This is a regular upgrade version responsible for monitoring and analyzing the entire backup/recovery environment. You can upgrade from V12‚Äôs Veeam ONE to v13, and it can monitor both older versions (V12 Windows-based VBR) and new Appliance versions. This is particularly important for those of us managing both legacy and new environments, enabling a smooth transition for those wanting to try out V13 early. It‚Äôs worth noting that for backup servers, this Software Appliance v13 version only supports fresh installations. Existing v12 versions don‚Äôt yet support upgrade and migration. If you‚Äôre already using Veeam and want to upgrade, you might need to wait a bit longer. Veeam will introduce a smooth upgrade solution in the next update. Additionally, Veeam Software Appliance will no longer support community edition licensing. So even if you want to try it, you‚Äôll need to download a trial license from the official website and import it to get this Appliance working. ","date":"2025-09-04","objectID":"/en/2025/09/veeam-software-appliance-01/:2:0","tags":["VBR"],"title":"Veeam Launches Software Appliance: New Download Experience and Documentation Overhaul","uri":"/en/2025/09/veeam-software-appliance-01/"},{"categories":[],"content":"Website Overhaul: New Download and Documentation Experience Along with the new product launch, Veeam‚Äôs official website has also undergone some adjustments. Changes to the product download portal, documentation pages, and manual structure might cause some confusion. Let‚Äôs take a look at the specific changes. ","date":"2025-09-04","objectID":"/en/2025/09/veeam-software-appliance-01/:3:0","tags":["VBR"],"title":"Veeam Launches Software Appliance: New Download Experience and Documentation Overhaul","uri":"/en/2025/09/veeam-software-appliance-01/"},{"categories":[],"content":"Software Download Page Based on this release, there are three components in total, and their download locations are slightly different. Veeam Software Appliance Main Download On the Veeam Chinese website‚Äôs download button in the upper right corner, you can enter the download page. Once there, find Veeam Data Platform downloads - here‚Äôs the direct link (https://www.veeam.com/cn/products/data-platform-trial-download.html?tab=extensions). You‚Äôll notice a new tab called Pre-Hardened Software Appliance (Linux) in the download options. Click to switch and you‚Äôll find the backup server main download, as shown below: Here you can find this Appliance‚Äôs version release notes, choose to download in ISO or OVA format, and on the far right, you can also apply for a license key. If you haven‚Äôt purchased a formal license, make sure to click here to apply for a key to get a trial license - otherwise, this Appliance won‚Äôt work. Veeam Infrastructure Appliance Below the page mentioned above, you‚Äôll see ‚ÄúMore Downloads‚Äù - switch to Extensions and Other, and you‚Äôll find Veeam Infrastructure Appliance. Click the + sign in front to expand the download section for this component. Veeam ONE v13 The Veeam ONE download page is a bit hidden - if you try to find it directly from the official website homepage, you might not locate it. Here‚Äôs a direct link (https://www.veeam.com/cn/products/free/monitoring-analytics-download.html). Although it‚Äôs the community edition, the product installation package is the same. Friends familiar with Veeam‚Äôs website can also find the v13 download from my.veeam.com. ","date":"2025-09-04","objectID":"/en/2025/09/veeam-software-appliance-01/:3:1","tags":["VBR"],"title":"Veeam Launches Software Appliance: New Download Experience and Documentation Overhaul","uri":"/en/2025/09/veeam-software-appliance-01/"},{"categories":[],"content":"V13 User Manuals Beyond software downloads, the official documentation has also been significantly improved. Both Software Appliance and Veeam ONE have launched corresponding v13 documentation. The documentation structure has also been reorganized, rather than having most features written in the vSphere backup documentation as before - after all, Veeam‚Äôs functionality is no longer just a VMware-specific backup tool. Documentation links: Veeam Software Appliance User Manual https://helpcenter.veeam.com/docs/vbr/userguide/overview.html?ver=13 Enterprise Manager User Manual https://helpcenter.veeam.com/docs/vbr/em/introduction.html?ver=13 Veeam Explorer User Manual https://helpcenter.veeam.com/docs/vbr/explorers/explorers_introduction.html?ver=13 Proxmox Backup User Manual https://helpcenter.veeam.com/docs/vbproxmoxve/userguide/overview.html?ver=2 Veeam ONE v13 User Manual https://helpcenter.veeam.com/docs/one/userguide/about_one.html?ver=13 ","date":"2025-09-04","objectID":"/en/2025/09/veeam-software-appliance-01/:3:2","tags":["VBR"],"title":"Veeam Launches Software Appliance: New Download Experience and Documentation Overhaul","uri":"/en/2025/09/veeam-software-appliance-01/"},{"categories":[],"content":"Series Preview and Quick Start Guide This series of articles will delve deeper into Veeam Software Appliance‚Äôs key features, deployment essentials, and comprehensive usage guides to help readers make the most of Veeam‚Äôs latest resources. If you‚Äôre also exploring how to quickly master the new Veeam experience, stay tuned for upcoming updates. ","date":"2025-09-04","objectID":"/en/2025/09/veeam-software-appliance-01/:4:0","tags":["VBR"],"title":"Veeam Launches Software Appliance: New Download Experience and Documentation Overhaul","uri":"/en/2025/09/veeam-software-appliance-01/"},{"categories":[],"content":"In the world of Kubernetes backup and recovery, security isn‚Äôt just a feature‚Äîit‚Äôs a foundation. Kasten K10 provides comprehensive security management capabilities, and one of its most powerful features is flexible user access management through OIDC (OpenID Connect) protocol integration. This means you can leverage your existing enterprise identity infrastructure rather than managing separate credentials. Today, I want to walk you through integrating Kasten with Azure EntraID to enable multi-factor authentication (MFA) for the Kasten console. This isn‚Äôt just about adding another security layer; it‚Äôs about providing a seamless, enterprise-grade authentication experience that your Azure AD users are already familiar with. The setup process breaks down into two main parts: configuring Azure EntraID on one side, and then updating Kasten K10 to use it. Let‚Äôs dive in. ","date":"2025-05-26","objectID":"/en/2025/05/kasten-and-azure-entraid-integration/:0:0","tags":["Kubernetes","Kasten","Azure","Security"],"title":"Setting Up Multi-Factor Authentication for Kasten with Azure EntraID","uri":"/en/2025/05/kasten-and-azure-entraid-integration/"},{"categories":[],"content":"Azure Configuration ","date":"2025-05-26","objectID":"/en/2025/05/kasten-and-azure-entraid-integration/:1:0","tags":["Kubernetes","Kasten","Azure","Security"],"title":"Setting Up Multi-Factor Authentication for Kasten with Azure EntraID","uri":"/en/2025/05/kasten-and-azure-entraid-integration/"},{"categories":[],"content":"Step 1: Create Kasten User Group First things first in Azure EntraID‚Äîwe need to set up a security group that will contain all the users who should have access to the Kasten web console. This is where we‚Äôll manage who can and can‚Äôt access your backup infrastructure. In the Azure EntraID console, navigate to Groups and click ‚ÄúNew group‚Äù to get started. You‚Äôll want to select ‚ÄúSecurity‚Äù as the group type (this is important for the OIDC integration), give it a descriptive name‚ÄîI‚Äôm using ‚ÄúKasten Users‚Äù for simplicity‚Äîand keep the other settings at their defaults: Once you click Create, head back to the All groups list where you should see your newly created group waiting for you. Now it‚Äôs time to populate it with actual users. Click into your group, find the Members section, and use the ‚ÄúAdd members‚Äù button to grant access. In my case, I‚Äôve already added Lei Wei to the group: ","date":"2025-05-26","objectID":"/en/2025/05/kasten-and-azure-entraid-integration/:1:1","tags":["Kubernetes","Kasten","Azure","Security"],"title":"Setting Up Multi-Factor Authentication for Kasten with Azure EntraID","uri":"/en/2025/05/kasten-and-azure-entraid-integration/"},{"categories":[],"content":"Step 2: App Registration Now for the core piece: we need to create an application registration in Azure EntraID that will act as the bridge between Kasten and your identity provider. This is essentially the OAuth/OIDC client that Kasten will use to authenticate users. Head over to App registrations in Azure EntraID and click ‚ÄúNew registration‚Äù to kick things off: In the registration wizard, give your application a meaningful name‚ÄîI‚Äôm going with ‚Äúkasten-service‚Äù to keep things clear‚Äîand stick with the default options for now: Once the registration completes, you‚Äôll land on the application‚Äôs properties page. This is where the real configuration begins. Under the Manage section, find Authentication‚Äîthis is where we‚Äôll tell Azure how Kasten will be connecting. Click ‚ÄúAdd a platform‚Äù and select Web from the options: Now comes the critical part: configuring the redirect URI. This tells Azure where to send users after they‚Äôve authenticated. You‚Äôll need your Kasten web UI address for this. In my environment, the Kasten UI is at: https://k10-lab-1-node01-71.suzhou.backupnext.cloud/k10 The complete redirect URI needs the OIDC callback path appended, so the full URL becomes: https://k10-lab-1-node01-71.suzhou.backupnext.cloud/k10/auth-svc/v0/oidc/redirect Don‚Äôt forget to check the ‚ÄúID tokens‚Äù option‚Äîthis is essential for the OpenID Connect flow: Save those changes and we‚Äôre moving on. Next up: creating a client secret. Navigate to Certificates \u0026 secrets under Manage, create a new client secret, and‚Äîthis is important‚Äîcopy it immediately and save it somewhere secure. You won‚Äôt see it again, and do keep an eye on the expiration date: Once created, use that copy button to grab the secret value before navigating away: Last but not least, we need to configure group claims so Azure includes security group information in the authentication tokens. Under Token configuration, click ‚ÄúAdd group claim‚Äù, select Security groups, and add it: ","date":"2025-05-26","objectID":"/en/2025/05/kasten-and-azure-entraid-integration/:1:2","tags":["Kubernetes","Kasten","Azure","Security"],"title":"Setting Up Multi-Factor Authentication for Kasten with Azure EntraID","uri":"/en/2025/05/kasten-and-azure-entraid-integration/"},{"categories":[],"content":"Step 3: Collect Configuration Information for Kasten Alright, the Azure side is set up‚Äînow we need to gather the pieces of information that Kasten will need to talk to Azure. Let‚Äôs walk through the Helm values configuration we‚Äôll be using: auth: oidcAuth: clientID: 3cae7658-5192-4122-b31a-1efcb9355a6f clientSecret: xxxxxxxxxxxxxxxxxxxxxxx enabled: true groupClaim: groups groupPrefix: kasten_azure_ prompt: select_account providerURL: https://login.microsoftonline.com/6d2374b4-aceb-42ac-966a-716a93f07db0/v2.0 redirectURL: https://k10-lab-1-node01-71.suzhou.backupnext.cloud scopes: openid email usernameClaim: sub usernamePrefix: kasten_azure_ The key pieces we need to extract from our Azure setup are: clientID: This identifies our Kasten application to Azure clientSecret: The secret key we just created (you did save it, right?) providerURL: The Azure AD endpoint for authentication You can find the clientID and endpoints on your app registration‚Äôs Overview page. Click on ‚ÄúEndpoints‚Äù to see all the available URLs: Pro tip: For the providerURL, you‚Äôll need to take the OpenID Connect configuration URL and ensure it includes the /v2.0 path. The clientSecret is exactly what we saved earlier from the Certificates \u0026 secrets section. We also need one more crucial piece: the Object ID of our security group. This will be used when we set up permissions in Kubernetes. Navigate back to your ‚ÄúKasten Users‚Äù group and grab the Object ID from the Overview page: ","date":"2025-05-26","objectID":"/en/2025/05/kasten-and-azure-entraid-integration/:1:3","tags":["Kubernetes","Kasten","Azure","Security"],"title":"Setting Up Multi-Factor Authentication for Kasten with Azure EntraID","uri":"/en/2025/05/kasten-and-azure-entraid-integration/"},{"categories":[],"content":"Kasten Configuration Now let‚Äôs switch gears to the Kasten side. First, we‚Äôll want to export our current Helm configuration so we don‚Äôt lose any existing settings: helm get values k10 -n kasten-io \u003e k10_values.yaml Now edit the k10_values.yaml file and add the OIDC authentication section with the information we gathered from Azure: auth: oidcAuth: clientID: 3cae7658-5192-4122-b31a-1efcb9355a6f clientSecret: xxxxxxxxxxxxxxxxxxxxxxx enabled: true groupClaim: groups groupPrefix: kasten_azure_ prompt: select_account providerURL: https://login.microsoftonline.com/6d2374b4-aceb-42ac-966a-716a93f07db0/v2.0 redirectURL: https://k10-lab-1-node01-71.suzhou.backupnext.cloud scopes: openid email usernameClaim: sub usernamePrefix: kasten_azure_ With the configuration updated, let‚Äôs apply the changes to our Kasten deployment: helm upgrade k10 kasten/k10 -n kasten-io -f k10_values.yaml Give it a few minutes for the Kasten pods to restart with the new configuration. Once they‚Äôre back up, try accessing the Kasten web interface again‚Äîyou should now be redirected to Azure EntraID for authentication instead of seeing the local login screen. Here‚Äôs where things get interesting: after you authenticate with Azure EntraID, you‚Äôll land in the Kasten UI but notice you don‚Äôt have any permissions. This is expected behavior‚Äîwe need to explicitly grant Kasten permissions to our Azure users. The key here is that Kasten needs to map Azure AD groups to Kubernetes RBAC roles. We‚Äôll use the security group‚Äôs Object ID we captured earlier, combined with the groupPrefix from our configuration. In my setup, the groupPrefix is kasten_azure_ and my security group ID is d228b7e7-c10c-488b-9b13-8714682dbb0c, so the full group name becomes kasten_azure_d228b7e7-c10c-488b-9b13-8714682dbb0c. Let‚Äôs create the necessary role bindings: # Create clusterrolebinding for cluster-wide admin access kubectl create clusterrolebinding k10-admin \\ --clusterrole=k10-admin \\ --group=kasten_azure_d228b7e7-c10c-488b-9b13-8714682dbb0c # Create rolebinding for namespace-specific admin access kubectl create rolebinding k10-admin \\ --role=k10-ns-admin \\ --group=kasten_azure_d228b7e7-c10c-488b-9b13-8714682dbb0c \\ --namespace=kasten-io Once those role bindings are in place, refresh your browser and you should have full access to the Kasten console. Congratulations‚Äîyou‚Äôve successfully integrated Azure EntraID with Kasten! ","date":"2025-05-26","objectID":"/en/2025/05/kasten-and-azure-entraid-integration/:2:0","tags":["Kubernetes","Kasten","Azure","Security"],"title":"Setting Up Multi-Factor Authentication for Kasten with Azure EntraID","uri":"/en/2025/05/kasten-and-azure-entraid-integration/"},{"categories":[],"content":"Using Azure EntraID Authentication Let‚Äôs see this in action. When you navigate to your Kasten web console, you‚Äôll no longer see the familiar login screen. Instead, you‚Äôll be immediately redirected to the Azure EntraID authentication interface: Enter your Azure AD credentials, and you‚Äôll be prompted for multi-factor authentication through your authenticator app (or whatever MFA method you have configured): Once you complete the MFA challenge, you‚Äôll be logged into the Kasten console. If you look in the top-right corner, you‚Äôll see your current user information‚Äînotice the kasten_azure_ prefix followed by your Azure AD user ID. This is how Kasten identifies authenticated users from Azure: ","date":"2025-05-26","objectID":"/en/2025/05/kasten-and-azure-entraid-integration/:3:0","tags":["Kubernetes","Kasten","Azure","Security"],"title":"Setting Up Multi-Factor Authentication for Kasten with Azure EntraID","uri":"/en/2025/05/kasten-and-azure-entraid-integration/"},{"categories":[],"content":"Why This Matters Integrating Kasten with Azure EntraID isn‚Äôt just about adding another authentication method‚Äîit‚Äôs about bringing enterprise-grade identity management to your Kubernetes backup infrastructure. Here‚Äôs what you‚Äôre getting: Centralized Identity Management: No more separate Kasten user accounts to manage. Your Azure AD becomes the single source of truth for who can access your backup system. Multi-Factor Authentication: Every login is protected by whatever MFA policies you have in Azure AD, dramatically reducing the risk of credential theft. Audit Trail: All authentication attempts are logged in Azure AD, giving you comprehensive visibility into who‚Äôs accessing your backup infrastructure and when. Seamless User Experience: Your users get the same authentication experience they‚Äôre used to across all your Azure-integrated applications. Lifecycle Management: When users leave your organization, their access to Kasten is automatically revoked when their Azure AD account is disabled. ","date":"2025-05-26","objectID":"/en/2025/05/kasten-and-azure-entraid-integration/:4:0","tags":["Kubernetes","Kasten","Azure","Security"],"title":"Setting Up Multi-Factor Authentication for Kasten with Azure EntraID","uri":"/en/2025/05/kasten-and-azure-entraid-integration/"},{"categories":[],"content":"Wrapping Up Setting up Azure EntraID integration with Kasten might seem like a few steps, but the payoff in terms of security and operational efficiency is substantial. You‚Äôre essentially elevating your backup infrastructure from having its own isolated authentication system to being part of your enterprise identity fabric. The configuration we walked through today gives you a solid foundation for secure access management, but you can extend this further by creating different security groups for different access levels (read-only, backup operators, full administrators, etc.) and mapping them to appropriate Kubernetes RBAC roles. Remember to keep an eye on those client secrets‚Äîthey do expire, and you‚Äôll need to update your Kasten configuration when they do. Also, consider setting up monitoring or alerts for authentication failures to stay ahead of any potential access issues. That‚Äôs it for today. Happy (and secure) backing up! ","date":"2025-05-26","objectID":"/en/2025/05/kasten-and-azure-entraid-integration/:5:0","tags":["Kubernetes","Kasten","Azure","Security"],"title":"Setting Up Multi-Factor Authentication for Kasten with Azure EntraID","uri":"/en/2025/05/kasten-and-azure-entraid-integration/"},{"categories":[],"content":"Series Index Data protection is more than just backup‚Äîit‚Äôs about securing your organization‚Äôs final line of defense. Veeam integrates security into every product detail through a zero-trust design philosophy. From the beginning of backup to the final step of recovery, Veeam continuously refines every feature to meet modern security requirements. This series covers new security features introduced in VDP v12, simple yet powerful capabilities that safeguard your data security. Part 1: Account-less and SSH service management for Linux backup agents Part 2: Using gMSA technology to manage Windows accounts Part 3: Four-Eyes Authorization: Dual control for backup system operations Part 4: Enabling Multi-Factor Authentication (MFA): Strengthening backup system account protection Part 5: Reducing network ports involved in backup operations Part 6: Using Syslog to manage logs in SIEM systems ","date":"2024-12-16","objectID":"/en/2024/12/vdp-v12-other-security-features-deep-dive-03/:1:0","tags":["Backup","Security"],"title":"VDP Security Series (Part 3) - Four-Eyes Authorization: Dual Control for Backup System Operations","uri":"/en/2024/12/vdp-v12-other-security-features-deep-dive-03/"},{"categories":[],"content":"Four-Eyes Authorization: Securing Veeam Backup Operations In the digital age, data is the lifeblood of enterprises, making the security of backup and recovery operations particularly critical. A single misoperation or malicious act could lead to business interruption or data breaches. For this reason, Four-Eyes Authorization has gradually become an important strategy for organizations to protect their backup processes, building a solid security barrier for critical tasks through a dual-review mechanism. Four-Eyes Authorization is a dual-authorization strategy widely used in finance, legal, and IT management fields to avoid errors or malicious actions caused by single-person operations. Introducing this mechanism in professional backup solutions like Veeam Data Platform effectively reduces the risks of privilege abuse and human configuration errors, significantly enhancing the security and transparency of data management. This article provides an in-depth analysis of VDP Four-Eyes Authorization‚Äôs applicable scenarios, implementation steps, and considerations to help you build a more secure backup environment. ","date":"2024-12-16","objectID":"/en/2024/12/vdp-v12-other-security-features-deep-dive-03/:1:1","tags":["Backup","Security"],"title":"VDP Security Series (Part 3) - Four-Eyes Authorization: Dual Control for Backup System Operations","uri":"/en/2024/12/vdp-v12-other-security-features-deep-dive-03/"},{"categories":[],"content":"Four-Eyes Authorization Applicable Scenarios In Veeam B\u0026R, the following critical operations require Four-Eyes Authorization: 1. Backup Deletion Operations Deleting backup files, snapshots, or obsolete backup records. 2. Storage Infrastructure Management Deleting backup repositories or storage resources. 3. User Management and Authentication Adding, updating, or deleting users and user groups. Enabling or modifying multi-factor authentication (MFA). Adjusting automatic logout settings. 4. Veeam Cloud Connect Related Operations Service Providers: Deleting cloud repositories, deleting imported tenant backup files. Tenants: Deleting service providers, deleting backup files. Additionally, Four-Eyes Authorization cannot protect already compromised servers, so for server protection, it‚Äôs recommended to combine infrastructure hardening and follow best practices. ","date":"2024-12-16","objectID":"/en/2024/12/vdp-v12-other-security-features-deep-dive-03/:1:2","tags":["Backup","Security"],"title":"VDP Security Series (Part 3) - Four-Eyes Authorization: Dual Control for Backup System Operations","uri":"/en/2024/12/vdp-v12-other-security-features-deep-dive-03/"},{"categories":[],"content":"Four-Eyes Authorization Workflow Four-Eyes Authorization ensures operation security in VDP through the following mechanisms: 1. Creation of Operation Requests When backup administrators submit sensitive operations, the system generates requests that require additional approval before execution. 2. Notification and Display of Approval Requests Veeam Console: Requests are displayed under the ‚ÄúPending Approvals‚Äù node in the ‚ÄúHome‚Äù view. Email Notifications: Administrators configured with global notifications receive approval reminders. 3. Approval and Processing As shown in the figure, the administrator or security administrator approval interface: Backup administrators or security administrators can approve or reject requests, supporting batch processing. Request creators can only cancel their submitted requests and cannot approve them themselves. 4. Automatic Rejection on Timeout Requests not processed within the specified time (default 7 days) will be automatically rejected, avoiding risks from pending requests. ","date":"2024-12-16","objectID":"/en/2024/12/vdp-v12-other-security-features-deep-dive-03/:1:3","tags":["Backup","Security"],"title":"VDP Security Series (Part 3) - Four-Eyes Authorization: Dual Control for Backup System Operations","uri":"/en/2024/12/vdp-v12-other-security-features-deep-dive-03/"},{"categories":[],"content":"Prerequisites and Limitations Prerequisites Feature is only available for Veeam Universal License or Enterprise Plus editions. After subscription license expiration, existing requests can still be processed, but new requests cannot be submitted. Limitations Unsupported Operations: Performing deletion operations through PowerShell, REST API, or Veeam Backup Enterprise Manager. Editing, deleting, or renaming files/folders in the ‚ÄúFiles‚Äù view. Task Locking Limitations: Locked objects (such as running backup jobs) cannot perform sensitive operations and need to be unlocked before resubmitting requests. Immutable Backup File Protection: Four-Eyes Authorization also cannot directly delete immutable backup files. ","date":"2024-12-16","objectID":"/en/2024/12/vdp-v12-other-security-features-deep-dive-03/:1:4","tags":["Backup","Security"],"title":"VDP Security Series (Part 3) - Four-Eyes Authorization: Dual Control for Backup System Operations","uri":"/en/2024/12/vdp-v12-other-security-features-deep-dive-03/"},{"categories":[],"content":"How to Configure Four-Eyes Authorization 1. User Role Configuration Ensure at least two users have one of the following roles: Veeam Backup Administrator Veeam Security Administrator 2. Enable Four-Eyes Authorization Open Users and Roles \u003e Authorization settings. Check the Require additional approval for sensitive operations option. Set the approval request validity period (1 to 30 days). 3. Disable Four-Eyes Authorization Disabling the feature also requires approval from another administrator, ensuring the security of setting changes. ","date":"2024-12-16","objectID":"/en/2024/12/vdp-v12-other-security-features-deep-dive-03/:1:5","tags":["Backup","Security"],"title":"VDP Security Series (Part 3) - Four-Eyes Authorization: Dual Control for Backup System Operations","uri":"/en/2024/12/vdp-v12-other-security-features-deep-dive-03/"},{"categories":[],"content":"Operation Logs: Recording Every Authorization Step Through operation logs, administrators can track Four-Eyes Authorization related activities: Go to the History view and click the Authorization Events node. View log content, including: Approval/rejection records. Four-Eyes Authorization setting adjustments. User and user group management operations. ","date":"2024-12-16","objectID":"/en/2024/12/vdp-v12-other-security-features-deep-dive-03/:1:6","tags":["Backup","Security"],"title":"VDP Security Series (Part 3) - Four-Eyes Authorization: Dual Control for Backup System Operations","uri":"/en/2024/12/vdp-v12-other-security-features-deep-dive-03/"},{"categories":[],"content":"Summary Four-Eyes Authorization adds an additional security barrier to backup operations, reducing the risk of single-person errors and privilege abuse. Combined with Veeam‚Äôs other security features such as permission management, data encryption, and immutable backups, organizations can build more robust backup strategies. For those already using Veeam, enable Four-Eyes Authorization now to protect your data security and safeguard your organization‚Äôs development. ","date":"2024-12-16","objectID":"/en/2024/12/vdp-v12-other-security-features-deep-dive-03/:1:7","tags":["Backup","Security"],"title":"VDP Security Series (Part 3) - Four-Eyes Authorization: Dual Control for Backup System Operations","uri":"/en/2024/12/vdp-v12-other-security-features-deep-dive-03/"},{"categories":[],"content":"Series Overview Data protection isn‚Äôt just about backup‚Äîit‚Äôs about the last line of defense for enterprise security. Veeam integrates security into every detail of its products through a zero-trust design philosophy. From the start of backup to the final step of recovery, Veeam continuously refines every feature to meet modern security requirements. This series brings together new security tips introduced in VDP v12 and later versions‚Äîsimple to implement yet powerful enough to safeguard your data security. Part 1: Account-less Linux Backup Agent Management with SSH Service Part 2: Managing Windows Accounts Using gMSA Technology Part 3: Four-Eyes Authentication: Dual-Control Backup System Management Part 4: Enabling Multi-Factor Authentication (MFA): Enhanced Backup System Account Protection Part 5: Reducing Network Ports Involved in Backup Operations Part 6: Managing Logs with Syslog Integration to SIEM Systems In our previous article, we detailed how to manage backup agents through account-less and SSH services in Linux systems. However, Windows systems present different challenges, especially in various operational scenarios within the Veeam backup platform where local administrator accounts are frequently required. For instance, when executing virtual machine Guest Processing, Indexing tasks, managing Windows agents, or performing various recovery operations, Veeam typically stores these accounts in the local database, which introduces potential security risks. Attackers could potentially compromise high-privilege accounts by cracking the Veeam local database. Additionally, it creates management complexity, requiring periodic synchronization of account passwords stored in the backup system to ensure security and compliance. Today, we‚Äôll introduce a completely new approach to account management‚ÄîGroup Managed Service Accounts built into Windows systems. Veeam leverages this technology to avoid storing Windows system account passwords during Guest Processing and Indexing, further reducing the risk of credential leakage. This technology is called Group Managed Service Account (gMSA). Although gMSA was introduced in Windows 2012 and later versions (making it over a decade old), it‚Äôs relatively uncommon in practice, which means tutorials and documentation about it are scarce. I hope this article helps you better understand and apply this technology! ","date":"2024-12-09","objectID":"/en/2024/12/vdp-v12-other-security-features-deep-dive-02/:1:0","tags":["Backup","Security"],"title":"VDP Security Series Part 2 - Managing Windows Accounts Using gMSA Technology","uri":"/en/2024/12/vdp-v12-other-security-features-deep-dive-02/"},{"categories":[],"content":"Technical Background gMSA is a technology in Windows systems for managing and storing service account passwords that enhances security while simplifying management. It has these key characteristics: Dynamic Password Management: gMSA passwords are managed by Active Directory and automatically updated regularly. No one can access or needs to use this account‚Äôs password. Reduced Password Risk: With gMSA, administrators don‚Äôt need to remember service passwords. The system automatically retrieves required passwords from AD for operation, and dynamic automatic updates further enhance its security. Simplified Usage: After implementing gMSA, there‚Äôs no need for regular manual updates and configuration of account passwords on the backup system, reducing complexity. Through dynamic management and automatic password updates, gMSA technology greatly simplifies the management and maintenance of service accounts while ensuring service stability and security. It‚Äôs particularly suitable for backup systems with high security requirements that need to run long-term. ","date":"2024-12-09","objectID":"/en/2024/12/vdp-v12-other-security-features-deep-dive-02/:1:1","tags":["Backup","Security"],"title":"VDP Security Series Part 2 - Managing Windows Accounts Using gMSA Technology","uri":"/en/2024/12/vdp-v12-other-security-features-deep-dive-02/"},{"categories":[],"content":"Applicable Environment Must have a Windows 2012 or later Active Directory environment. All virtual machines using this technology must run Windows 2012 or later. Cannot be used with Linux operating systems, even if Linux systems are joined to an AD domain that meets the requirements. Must use Guest Interaction Proxy for application-aware processing. VIX mode doesn‚Äôt work here. All involved systems must be able to access AD resources normally and obtain necessary accounts and permissions from AD. ","date":"2024-12-09","objectID":"/en/2024/12/vdp-v12-other-security-features-deep-dive-02/:1:2","tags":["Backup","Security"],"title":"VDP Security Series Part 2 - Managing Windows Accounts Using gMSA Technology","uri":"/en/2024/12/vdp-v12-other-security-features-deep-dive-02/"},{"categories":[],"content":"Environment Preparation and Configuration Steps To use this technology, you first need to prepare your AD environment. As mentioned earlier, operations must be performed in Windows 2012 or later. After accessing the AD management console, check if a key condition is met: the default Managed Service Accounts OU must exist normally. This OU is built-in and exists in AD by default. As shown below: If this OU doesn‚Äôt exist or was accidentally deleted, you won‚Äôt be able to use gMSA technology. You may need to contact Microsoft technical support to restore this default OU‚Äîmanually creating an OU with the same name is ineffective. After confirming this OU exists normally, you need to configure the domain controller. Most of the following configurations will be completed through PowerShell commands. Therefore, you first need to ensure the AD PowerShell management module is correctly installed on AD. This can be verified through Windows Features and Roles. The specific location is shown below: Open PowerShell and first create a root key for automatic gMSA password management using the following command: Add-KdsRootKey -EffectiveImmediately Note that although this command specifies immediate effectiveness, based on my experience and online comments, it actually takes effect the next day. So if you‚Äôre following my steps, you might want to stop here and continue tomorrow. Create a security group in AD. In the following operations, we‚Äôll add all relevant servers to this security group. Only servers in this group will be authorized to use gMSA accounts. Computers not in this security group will have no access to gMSA accounts. This step is very important. It doesn‚Äôt matter which OU you create this security group in. In my experiment, I created it under the Users OU, as shown: Add all servers involved in VBR to this Security Group‚Äôs Members. In my experiment, I‚Äôll use two servers: one is the backup target V100SQL that needs to use the gMSA account, and the other is Win001, which serves as the Guest Interaction Proxy. As shown in the image, I‚Äôve already added them to Members: Note that when adding Members, Computer Names won‚Äôt appear in search results by default. You must include Computers in the object types when selecting objects to search for and add them. Create the gMSA account. After completing the preparations above, you can create the gMSA account using the following command: $gMSAName = 'gmsa01' $gMSAGroupName = 'gMSAGroup' $gMSADNSHostName = 'gmsa01.v100lab.local' New-ADServiceAccount -Name $gMSAName -DNSHostName $gMSADNSHostName -PrincipalsAllowedToRetrieveManagedPassword $gMSAGroupName -Enabled $True After creation, the gMSA account will appear under the Managed Service Accounts OU: With this, the AD configuration is basically complete. The next operations need to be performed on each Windows system that will use the gMSA account. Before configuration, we need to refresh the newly created AD object information and synchronize it. This can generally be done by executing the following command: C:\\WINDOWS\\system32\\klist.exe -lh 0 -li 0x3e7 purge Alternatively, you can simply restart the corresponding systems. In my experiment, to ensure normal configuration, I restarted all my VMs after completing step 6. Next, let‚Äôs configure the Guest Interaction Proxy. This configuration is relatively simple‚Äîwe just need to allow it to obtain and use the account. Since our Guest Interaction Proxy will initiate some backup operations through this account, it needs to obtain account usage rights. According to step 5‚Äôs configuration, we‚Äôve already obtained the usage rights normally. Here, we just need to perform a simple verification. If the verification passes, no further configuration is needed: PS C:\\Users\\Administrator.V100LAB\u003e Test-ADServiceAccount gmsa01$ True With this Test command, just ensure the output is True. If this output is not True, it means the account wasn‚Äôt configured successfully, and you need to go back and check steps 1-7 to see","date":"2024-12-09","objectID":"/en/2024/12/vdp-v12-other-security-features-deep-dive-02/:1:3","tags":["Backup","Security"],"title":"VDP Security Series Part 2 - Managing Windows Accounts Using gMSA Technology","uri":"/en/2024/12/vdp-v12-other-security-features-deep-dive-02/"},{"categories":[],"content":"Summary The above is the method for configuring passwordless backup accounts in Windows. The example uses SQL Server as the backup object. For other applications, you also need to configure corresponding permissions; otherwise, application-aware processing will fail. ","date":"2024-12-09","objectID":"/en/2024/12/vdp-v12-other-security-features-deep-dive-02/:1:4","tags":["Backup","Security"],"title":"VDP Security Series Part 2 - Managing Windows Accounts Using gMSA Technology","uri":"/en/2024/12/vdp-v12-other-security-features-deep-dive-02/"},{"categories":[],"content":"Series Overview Data protection isn‚Äôt just about backups‚Äîit‚Äôs about the last line of defense for enterprise security. Veeam integrates security into every detail of its products through a zero-trust design philosophy. From the beginning of backup to the final step of recovery, Veeam continuously refines every feature to meet modern security requirements. This series brings together new security tips and tricks introduced since VDP v12‚Äîsimple yet powerful features that safeguard your data security. Part 1: Account-Free Management and SSH Service Control for Linux Backup Agents Part 2: Using gMSA Technology to Manage Windows Accounts Part 3: Four-Eyes Authentication: Dual Control for Backup System Operations Part 4: Enabling Multi-Factor Authentication (MFA): Strengthening Backup System Account Protection Part 5: Reducing Network Ports Involved in Backup Operations Part 6: Using Syslog to Forward Logs to SIEM Systems In any system, gaining account privileges is the starting point for hacker attacks, and backup systems are no exception. Account storage and management carry certain security risks. Therefore, when designing and configuring systems, reducing unnecessary account storage and automatic memory retention is an important security measure. In backup solutions, Veeam Agent for Linux introduces account-free management functionality, which significantly enhances system security. With this approach, users don‚Äôt need to store account information in the system, effectively reducing potential security vulnerabilities and data leakage risks. This account-free management mechanism not only elevates the security protection level of backups but also simplifies the administrator‚Äôs management workflow. For special systems, it can also avoid using SSH management protocols, making the overall system more secure and reliable. Additionally, for environments where bastion hosts manage root passwords, this deployment method can adapt to constantly changing account passwords, avoiding the need to modify stored passwords in the backup system. ","date":"2024-12-02","objectID":"/en/2024/12/vdp-v12-other-security-features-deep-dive-01/:1:0","tags":["Backup","Security"],"title":"VDP Security Series (Part 1) - Account-Free Management and SSH Service Control for Linux Backup Agents","uri":"/en/2024/12/vdp-v12-other-security-features-deep-dive-01/"},{"categories":[],"content":"How It Works Before deploying Veeam Agent for Linux, administrators first pre-install Veeam‚Äôs deployment service package and temporary certificates on the Linux machine. With this service package in place, when VBR initiates Agent push/management operations, VBR will detect this component on the Linux system. After establishing a connection with this component, it checks the necessary certificates. If it‚Äôs a temporary certificate, VBR will issue an official certificate to replace the current temporary one. After this, VBR will use this valid certificate to communicate with the Linux machine and manage/install related Agent components. This process completely eliminates the need to enter Linux machine administrator usernames and passwords on the backup server. ","date":"2024-12-02","objectID":"/en/2024/12/vdp-v12-other-security-features-deep-dive-01/:1:1","tags":["Backup","Security"],"title":"VDP Security Series (Part 1) - Account-Free Management and SSH Service Control for Linux Backup Agents","uri":"/en/2024/12/vdp-v12-other-security-features-deep-dive-01/"},{"categories":[],"content":"Step-by-Step Guide Now, let me walk you through how to use this feature step by step. First, you need to export the pre-installation software package and temporary certificates from VBR. Export requires the following PowerShell command: Generate-VBRBackupServerDeployerKit -ExportPath \"C:\\Users\\Administrator\\Documents\" Open the hamburger menu icon (three horizontal lines) in the upper left corner of the VBR server, find PowerShell under the Console menu, and enter the above command to get this Deployer Kit. Navigate to the exported directory, and you‚Äôll see the following files: Among these, the rpm package is for Red Hat-based systems, while deb is for Debian-based systems. Depending on the system, you need to copy client-cert.pem, server-cert.p12, and either an rpm or deb package to the target Linux machine. Run the command to install the rpm package: yum install veeamdeployment-12.2.0.334-1.x86_64.rpm Next, run the commands to install the certificates: /opt/veeam/deployment/veeamdeploymentsvc --install-server-certificate server-cert.p12 /opt/veeam/deployment/veeamdeploymentsvc --install-certificate client-cert.pem /opt/veeam/deployment/veeamdeploymentsvc --restart Return to the VBR console and create a protection group. In the protection group creation wizard, when adding Linux hosts, select Connect using certificate-based authentication. After adding, you can use the Test Now button to test connectivity. At this point, when using certificate-based authentication mode, VBR will no longer require any SSH services to deploy Veeam Agent for Linux. Once everything is working properly, you can complete the Protection Group creation in the normal way and push the Agent. During the push process, VBR will update the temporary certificate on the target server, replacing it with an official communication certificate and installing the Transport service. That covers the security tips for Linux Agent management. I hope this helps with your IT system‚Äôs security. In the next installment, I‚Äôll show you how to use password-free management methods for Windows systems. ","date":"2024-12-02","objectID":"/en/2024/12/vdp-v12-other-security-features-deep-dive-01/:1:2","tags":["Backup","Security"],"title":"VDP Security Series (Part 1) - Account-Free Management and SSH Service Control for Linux Backup Agents","uri":"/en/2024/12/vdp-v12-other-security-features-deep-dive-01/"},{"categories":["Linux Agent"],"content":"The highly flexible nature of Linux as an open-source system allows everyone to use it in their own unique way. This flexibility often creates compatibility challenges for backup software that depends deeply on the operating system. Even minor changes can cause backup failures, which is why backup software typically maintains a compatibility list‚Äîsystems not on this list usually won‚Äôt work properly. These issues are common throughout the open-source world. While there‚Äôs no single solution to solve everything at once, addressing the majority of cases would be a significant improvement, wouldn‚Äôt it? In Veeam Agent for Linux, there‚Äôs a special working mode that I call the ‚Äúuniversal mode.‚Äù It doesn‚Äôt require loading the Veeamsnap driver or compiling drivers using dkms modules, making it compatible with most environments and enabling data backups in non-standard environments. As we know, Veeam‚Äôs official list of supported Linux operating systems is limited. Popular Chinese distributions like EulerOS, Loongnix, UOS, and Kylin typically can‚Äôt be installed using the standard Veeam Linux Agent configuration steps. This is where manually installing Veeam Linux Agent in no-snap mode can solve the problem, allowing these systems to back up to Veeam repositories. Additionally, with a few additional conditions, you can even achieve entire machine backup and Bare Metal Recovery (BMR). This article uses OpenEuler as an example to walk through the entire process and highlight important considerations. ","date":"2024-11-25","objectID":"/en/2024/11/veeam-agent-for-linux-nosnap/:0:0","tags":["backup"],"title":"Backing Up Various Custom Linux Distributions with Veeam Agent for Linux NOSNAP","uri":"/en/2024/11/veeam-agent-for-linux-nosnap/"},{"categories":["Linux Agent"],"content":"Where to Find This Agent? Like other Veeam Agents for Linux, we have two ways to obtain this agent installation package. One method is through the VBR console, where we simply need to create a Protection Group of type Computers with pre-installed backup agents. In the creation wizard, you‚Äôll find various Linux versions of Nosnap agents. For our experiment with the Red Hat-based Euler system, we‚Äôll select Red Hat 9 x64 no-snap - 6.2.0.101. After setting up the Export path, click Apply to generate the no-snap installation package. You‚Äôll find the corresponding rpm package in the Export path. Alternatively, you can download the nosnap package directly from Veeam‚Äôs official software repository. The URL is: https://repository.veeam.com/backup/linux/agent/rpm/el/9/x86_64/ For the latest version, you‚Äôll need to download two files: veeam-nosnap-6.2.0.101-1.el9.x86_64.rpm and veeam-libs-6.2.0.101-1.x86_64.rpm. ","date":"2024-11-25","objectID":"/en/2024/11/veeam-agent-for-linux-nosnap/:0:1","tags":["backup"],"title":"Backing Up Various Custom Linux Distributions with Veeam Agent for Linux NOSNAP","uri":"/en/2024/11/veeam-agent-for-linux-nosnap/"},{"categories":["Linux Agent"],"content":"Installation and Configuration Installing this package is straightforward‚Äîsimply run the command yum install ~/nosnap/veeam*. Yum will automatically resolve the required dependencies. Generally, there are no additional dependencies needed, and the installation completes within seconds. After installation, return to the VBR console and either find a suitable Protection Group or create a new one, then add this machine to it. This allows VBR to manage the OpenEuler system. Give the new Protection Group a name: Add the target computer using its IP address: After adding and completing the wizard, VBR will detect the pre-installed Agent on the target server. Once it finds the agent, it won‚Äôt check for compatibility or installation requirements, instead using the existing installation directly. At this point, the VBR console correctly displays the current operating system as OpenEuler. ","date":"2024-11-25","objectID":"/en/2024/11/veeam-agent-for-linux-nosnap/:0:2","tags":["backup"],"title":"Backing Up Various Custom Linux Distributions with Veeam Agent for Linux NOSNAP","uri":"/en/2024/11/veeam-agent-for-linux-nosnap/"},{"categories":["Linux Agent"],"content":"Backup Modes The no-snap Linux agent isn‚Äôt completely without snapshots. This agent actually has two working modes. One truly doesn‚Äôt take snapshots, which means some open files‚Äîlike those being edited during backup‚Äîmight be skipped. The other mode doesn‚Äôt use Veeamsnap but instead uses LVM volume snapshots as a substitute. This mode works almost identically to Veeamsnap, with the main difference being the snapshot technology used. All prerequisites for LVM snapshots must be met for this mode to work properly. ","date":"2024-11-25","objectID":"/en/2024/11/veeam-agent-for-linux-nosnap/:0:3","tags":["backup"],"title":"Backing Up Various Custom Linux Distributions with Veeam Agent for Linux NOSNAP","uri":"/en/2024/11/veeam-agent-for-linux-nosnap/"},{"categories":["Linux Agent"],"content":"LVM Snapshot Prerequisites Simply put, you need sufficient Free PE space. You can check this space using the vgdisplay command, as shown below. LVM volume snapshots store changed data in this area, so when planning LVM partition layout, you need to allocate space for this region‚Äîat least 10-20% of total disk capacity. ","date":"2024-11-25","objectID":"/en/2024/11/veeam-agent-for-linux-nosnap/:0:4","tags":["backup"],"title":"Backing Up Various Custom Linux Distributions with Veeam Agent for Linux NOSNAP","uri":"/en/2024/11/veeam-agent-for-linux-nosnap/"},{"categories":["Linux Agent"],"content":"Backup and Recovery Backup and recovery are straightforward. Veeam Agent automatically detects the underlying configuration and uses LVM volume snapshot capabilities for data backup. For recovery options, all standard recovery methods are available for these backup archives, including BMR recovery. When using LVM volume snapshots for backup, you can choose either Entire Machine or Volume level backup mode in the backup job settings. This allows the backup job to properly utilize snapshots during execution. After backup completion, all standard recovery options are available, including BMR, FLR, application item recovery, cross-platform migration, and more. For bare metal BMR recovery, you‚Äôll need to download the appropriate Recovery Media from Veeam‚Äôs official software repository to boot the bare metal server. The download URL is: https://repository.veeam.com/backup/linux/agent/veeam-recovery-media/x64/veeam-recovery-amd64-6.0.0.iso ","date":"2024-11-25","objectID":"/en/2024/11/veeam-agent-for-linux-nosnap/:0:5","tags":["backup"],"title":"Backing Up Various Custom Linux Distributions with Veeam Agent for Linux NOSNAP","uri":"/en/2024/11/veeam-agent-for-linux-nosnap/"},{"categories":["Linux Agent"],"content":"BMR Recovery Process After booting the server with this downloaded ISO, the target server will automatically enter Veeam‚Äôs boot interface. On this screen, select the first option Veeam recovery 6.1.0-23-amd64. After selection, the system will prompt for SSH connection. If console access is inconvenient, you can choose ‚ÄúStart SSH now‚Äù to enable remote SSH control for recovery through the Veeam Recovery Media. Next, as usual before use, you‚Äôll need to accept the license agreement. Select both options with X and choose Continue to proceed. The system will then enter the Veeam Recovery Media main recovery menu, which includes volume recovery, file recovery, network configuration, return to shell, and restart/shutdown options. Before use, let‚Äôs configure the network so we can connect to the VBR server via network interface to read backup archives. Network configuration is straightforward‚Äîjust set up a standard IPv4 address and configure DNS servers as needed. After configuring the IP address, clicking ‚ÄúRestore Volume‚Äù will bring up the backup location selection window. Here we select the VBR backup server. Note that for more secure recovery, you need to create a Token for the relevant backup archive on the backup server. After creating the token, save it carefully‚Äîit defaults to being valid for 24 hours. On the backup server connection screen, enter the IP address and port, select ‚ÄúRecovery Token,‚Äù input the newly generated token, and click Next to connect. If there are issues with self-signed certificate trust, you might see a warning like I did. This isn‚Äôt a major issue‚Äîsimply select Accept. At this point, your restore points will appear. Select the restore point to proceed. The system will automatically read current partitions. If partition sizes are the same, you can automatically select the relevant devices on the right for mapping. After mapping is complete, press S to begin automatic recovery. Other recovery methods include instant VM recovery, file-level recovery, and export to VHD and VMDK formats. ","date":"2024-11-25","objectID":"/en/2024/11/veeam-agent-for-linux-nosnap/:0:6","tags":["backup"],"title":"Backing Up Various Custom Linux Distributions with Veeam Agent for Linux NOSNAP","uri":"/en/2024/11/veeam-agent-for-linux-nosnap/"},{"categories":["Linux Agent"],"content":"Important Considerations When using the no-snap method for data backup and recovery, Veeam‚Äôs official system support list remains important. While operating systems not on the official support list may work properly, Veeam‚Äôs official support team won‚Äôt provideÂîÆÂêé support for these systems. Any technical issues will need to be resolved by our skilled Linux system administrators. ","date":"2024-11-25","objectID":"/en/2024/11/veeam-agent-for-linux-nosnap/:0:7","tags":["backup"],"title":"Backing Up Various Custom Linux Distributions with Veeam Agent for Linux NOSNAP","uri":"/en/2024/11/veeam-agent-for-linux-nosnap/"},{"categories":["Repository"],"content":"In my previous post, I introduced Veeam‚Äôs Managed Hardened Repository community preview. Today, I‚Äôll walk you through the complete installation and configuration process step by step. For this deployment, I used a VMware virtual machine for convenience. If you have dedicated hardware available, you can deploy on physical servers instead. Should you encounter any issues during deployment, please reach out with your feedback - it helps improve the community preview. ","date":"2024-10-12","objectID":"/en/2024/10/veeam-hardened-repository-iso-2/:0:0","tags":["backup","Veeam","Hardened Repository"],"title":"[Community Preview] Managed Hardened Repository ISO by Veeam (Part 2)","uri":"/en/2024/10/veeam-hardened-repository-iso-2/"},{"categories":["Repository"],"content":"Virtual Machine Configuration Here‚Äôs the setup for this installation: vSphere VM Guest OS type: Red Hat Enterprise Linux 9 vCPUs: 2 RAM: 8GB 2 virtual disks: one 150GB, one 200GB It‚Äôs important to note that whether you‚Äôre installing this system on a virtual machine or physical hardware, you must enable Secure Boot in UEFI. This is a mandatory requirement and one of the important security hardening measures. In the VMware VM configuration page, you can confirm this setting as shown in the image below. By default, this option is enabled for Red Hat 9. ","date":"2024-10-12","objectID":"/en/2024/10/veeam-hardened-repository-iso-2/:0:1","tags":["backup","Veeam","Hardened Repository"],"title":"[Community Preview] Managed Hardened Repository ISO by Veeam (Part 2)","uri":"/en/2024/10/veeam-hardened-repository-iso-2/"},{"categories":["Repository"],"content":"System Installation After booting from the optical drive, you‚Äôll enter the ‚ÄúInstall Hardened Repository‚Äù installation interface. Note that if the installation interface differs from the image below and shows a Rocky Linux 9 installation screen, there may be an issue with the Secure Boot configuration from the previous step. Next, the ISO will proceed with a simple boot process and then enter the graphical installation interface. The installation interface is very straightforward. You can see the system name in the upper left corner indicating ‚ÄúRocky Linux provided by Veeam,‚Äù while there‚Äôs a red ‚ÄúPre-release/Testing‚Äù notice in the upper right corner, advising against production environment use. This interface looks very similar to most Red Hat-based Linux installation interfaces, just more streamlined. On this screen, you need to configure four settings: Keyboard Installation Destination Time \u0026 Date Network \u0026 Host Name These settings are generally quite simple and self-explanatory. Keyboard For keyboard settings, simply click to confirm. Most users will use the US keyboard layout. Installation Destination In this section, you can click to confirm the settings. The installation program will typically automatically detect existing disks, using the smaller one for system installation and the larger space for the VBR Hardened Repository storage. Click Return to go back to the previous page. Time \u0026 Date Here you need to set the time zone and NTP Server. I set the time zone to Asia/Shanghai and added ntp.aliyun.com as the time server. Network In the network settings, network cards will be automatically detected, and you can configure IP addresses and hostnames. If you have multiple network cards, you can configure network bonding here. After these settings are configured, the ‚ÄúBegin Installation‚Äù button will turn blue and become active. Clicking it will start the fully automated installation process. The installation is very fast, taking just a few minutes. Once the system is installed, you can click ‚ÄúReboot System‚Äù to enter the post-installation Hardened Repository system. ","date":"2024-10-12","objectID":"/en/2024/10/veeam-hardened-repository-iso-2/:0:2","tags":["backup","Veeam","Hardened Repository"],"title":"[Community Preview] Managed Hardened Repository ISO by Veeam (Part 2)","uri":"/en/2024/10/veeam-hardened-repository-iso-2/"},{"categories":["Repository"],"content":"Configuring Hardened Repository After the system reboots, you‚Äôll see the Rocky Linux boot screen, indicating that the system has been successfully installed. Select the first option to enter the Hardened Repository system. Once in the system, you‚Äôll see a very simple command-line welcome interface as shown below. It will indicate that this is a Veeam Hardened Repository system, display its IP address (10.10.1.83 in this case), and provide a login prompt. Enter ‚Äúvhradmin‚Äù to log in. The default password is ‚Äúvhradmin,‚Äù but note that on the first login, you‚Äôll be prompted to change the password. This password change has strict complexity and time requirements. Please prepare a password that meets the following complexity requirements before logging in: At least one digit At least one lowercase letter At least one special character 15 or more characters No more than 3 consecutive characters from the same category (e.g., no 4 consecutive lowercase letters or 4 consecutive digits) Password can only be changed once per day Once you complete the password change, you‚Äôll enter the initial configuration interface. The first step is to accept the License Agreement. After clicking ‚ÄúI Accept,‚Äù you‚Äôll enter the Configurator‚Äôs main menu. This Configurator has some basic configurations. Network settings, Time Settings, and Change hostname were already configured during the installation phase, but they can be adjusted in this menu as well. In addition to these, there are several other configuration functions: Proxy Settings Change Password Reset time lock Start SSH Logout Reboot Shutdown Most of these configurations are straightforward from their names. Two deserve special attention: Proxy Settings helps administrators configure systems without direct internet access to reach repository.veeam.com through a proxy for online updates. Reset time lock unlocks the system time when the Hardened Repository has been shut down for an extended period and significant time changes have occurred. Start SSH The most critical function is Start SSH. You must enable this for the initial configuration and registration in VBR - without it, VBR cannot complete the setup. After the initial configuration is complete, remember to return here and stop SSH. After clicking ‚ÄúStart SSH,‚Äù the screen will display all the information needed for configuration in VBR, including username, password, hostname, IP address, system fingerprint, etc. At this point, you need to return to VBR for configuration. Keep this screen displayed and do not click the ‚ÄúContinue‚Äù button until the configuration is complete. In VBR, add and select the Hardened Repository type, then proceed to add the Linux host. Enter the username and password here, but do not check Use \"su\" if \"sudo\" fails. From here, you can simply click ‚ÄúNext‚Äù through the screens to complete the addition of this Linux host. After adding the host, you‚Äôll return to the Repository addition wizard. In the Repository wizard, you need to select the mounted space directory as shown below: The directory path is /mnt/veeam-repository01. The file system under this path has been correctly formatted as XFS and supports the fast clone feature. After configuration is complete, you can see the configuration result in the Repository list. Return to the Hardened Repository Linux console. If the timeout period has expired, you‚Äôll need to log back in and stop SSH. Your Hardened Repository system is now fully configured and ready for backup and restore testing. ","date":"2024-10-12","objectID":"/en/2024/10/veeam-hardened-repository-iso-2/:0:3","tags":["backup","Veeam","Hardened Repository"],"title":"[Community Preview] Managed Hardened Repository ISO by Veeam (Part 2)","uri":"/en/2024/10/veeam-hardened-repository-iso-2/"},{"categories":["Repository"],"content":"Since Veeam v11, Veeam introduced the Hardened Backup Repository, which has been widely adopted by Veeam customers worldwide. Many customers have built their own hardened repositories using Linux systems, providing Veeam with secure and reliable data storage that has successfully resisted various ransomware attacks. Over the past few years, to help everyone configure hardened repositories more conveniently, I‚Äôve created several scripts and tools: Using This Method, Your Backup Data Will No Longer Fear Ransomware Veeam Hardened Linux Repository Configurator Further Security Hardening of Ubuntu Systems for Veeam Hardened Repositories On September 30th, the Veeam R\u0026D team officially released another deployment method for the Hardened Repository - a Linux ISO for building systems ‚Äúfrom scratch.‚Äù Administrators can use this Veeam-packaged ISO to quickly deploy bare-metal servers, install the Hardened Repository operating system, and once installation is complete, the system will have already deployed a series of Veeam Hardened Repository best practices. Administrators can then perform subsequent configuration and management in VBR. ","date":"2024-10-03","objectID":"/en/2024/10/veeam-hardened-repository-iso/:0:0","tags":["backup"],"title":"[Community Preview] Managed Hardened Repository ISO by Veeam (Part 1)","uri":"/en/2024/10/veeam-hardened-repository-iso/"},{"categories":["Repository"],"content":"Feature Overview This is a Veeam-packaged Linux system installation disk that uses Rocky Linux. After this system installation is complete, it automatically applies the DISA STIG security configuration profile to the underlying system, disables SSH, and enables time modification protection. The system includes the Hardened Repository Configurator tool, which can: Configure system network settings Set up HTTP proxy Modify hostname Change the password for the vhradmin user Temporarily enable SSH Upgrade OS and Veeam components Reset time change protection Log out/restart/shutdown Auto-logout after 10 minutes ","date":"2024-10-03","objectID":"/en/2024/10/veeam-hardened-repository-iso/:0:1","tags":["backup"],"title":"[Community Preview] Managed Hardened Repository ISO by Veeam (Part 1)","uri":"/en/2024/10/veeam-hardened-repository-iso/"},{"categories":["Repository"],"content":"System Requirements This Linux system can be installed on any physical hardware listed in the official Red Hat compatibility list. For CPU and memory requirements, please follow the best practice requirements listed in the Veeam help documentation. For storage, you must prepare at least two physical volumes, such as /dev/sda, /dev/sdb, and the volume for installing the operating system must have a minimum capacity of 100GB, otherwise errors will occur during the system installation process. The system only supports storage systems with built-in RAID cards or disk controllers. It cannot work properly with LUNs mounted to the server via iSCSI or FC. Soft RAID and fake RAID systems are also not supported. All storage configurations must be completed before system installation. Once the system installation begins, the installer will detect relevant disks and automatically format them. During the system installation process, the installer will automatically select the disk with the smallest capacity to install the operating system. Therefore, when configuring disk selection, please ensure that the disk intended for the system installation is smaller than the data disks. ","date":"2024-10-03","objectID":"/en/2024/10/veeam-hardened-repository-iso/:0:2","tags":["backup"],"title":"[Community Preview] Managed Hardened Repository ISO by Veeam (Part 1)","uri":"/en/2024/10/veeam-hardened-repository-iso/"},{"categories":["Repository"],"content":"Operating System Security Design Logic This Hardened Repository installation disk is designed with the following security configurations: Automatically applies the DISA STIG security configuration profile. This includes password complexity requirements, application whitelisting, UEFI secure boot, etc. Disables all network service listeners after installation, including SSH. Two users are configured on this system: veeamsvc and vhradmin. veeamsvc is used to run all VBR services, and the password is automatically generated by the Hardened Repository Configurator. This user has sudo permissions and will be used for one-time configuration when configuring the Hardened Repository in VBR. The vhradmin account has no sudo permissions and can only run the Hardened Repository Configurator program for basic system maintenance. The default password for this account is ‚Äúvhradmin‚Äù, and this password must be changed upon first login. All security automatic updates come from the repository.veeam.com source. If you need to receive automatic updates, you need to enable access to this website. Currently, this hardened repository system is available as a community preview with version number 0.1.15. Interested friends can download and try it from the Veeam Community Forum. Since this is a technical preview, it is not recommended for production use, and there is currently no official Veeam technical support. In the future, Veeam plans to release an official complete product version, at which time Veeam‚Äôs official technical support will provide comprehensive technical support for this ISO-deployed Linux system. It should also be noted that during this preview phase, the product does not support upgrading to future official versions. When the official version is released, a complete reinstallation will still be required. All technical support for this community technical preview can be asked and answered directly in the forum download thread. If needed, you can also leave a message on my official account to contact me. That‚Äôs all for this issue. In the next installment, I‚Äôll bring you a detailed installation guide. ","date":"2024-10-03","objectID":"/en/2024/10/veeam-hardened-repository-iso/:0:3","tags":["backup"],"title":"[Community Preview] Managed Hardened Repository ISO by Veeam (Part 1)","uri":"/en/2024/10/veeam-hardened-repository-iso/"},{"categories":[],"content":"In our rapidly evolving digital world, staying ahead isn‚Äôt just an advantage‚Äîit‚Äôs essential. VMware Explore 2024 serves as a premier platform that brings together global IT professionals, showcases cutting-edge technology achievements, and explores future innovation trends. This year, the event takes place in the beautiful city of Barcelona from November 4th to 7th, promising an inspiring and enlightening technical feast for all attendees. Whether you‚Äôre a seasoned IT professional or just beginning your journey in technology, VMware Explore offers invaluable learning opportunities and industry insights for everyone. Attendees will have the chance to experience the latest technological innovations firsthand, gain insights from industry leaders, connect with peers from around the world, and draw inspiration to expand their thinking. This year‚Äôs VMware Explore 2024 Barcelona is set to be truly exceptional. Beyond the usual keynote presentations, technology showcases, and interactive experiences, the conference has prepared a rich array of breakout sessions and specialized discussions covering cutting-edge topics such as cloud computing, security, and modern applications. Every detail has been meticulously designed to deliver the most enriching and profound attendee experience possible. The European edition of VMware Explore this year will be held at the Barcelona Convention Center. The event organizers have officially opened registration for the European stop. Interested parties can learn more at the following link: Official Registration According to the early bird program announced on the official website, registering before July 29th will save you ‚Ç¨200. ","date":"2024-07-04","objectID":"/en/2024/07/vmware-explore-barcelona/:0:0","tags":["VMware"],"title":"A Look Ahead at VMware Explore Barcelona 2024","uri":"/en/2024/07/vmware-explore-barcelona/"},{"categories":[],"content":"Venue VMware Explore 2024 Barcelona will take place at Fira Gran Via, a modern exhibition center that stands as one of Europe‚Äôs most important convention venues, renowned for its advanced facilities and convenient transportation. Located in the heart of Barcelona, Fira Gran Via not only provides an ideal venue for large international conferences and exhibitions but also offers attendees a rich urban experience. State-of-the-Art Infrastructure Fira Gran Via features 8 exhibition halls with a total exhibition area exceeding 240,000 square meters. Its architectural design, crafted by renowned architect Toyoo It≈ç, blends modern aesthetics with functionality. Each hall is equipped with state-of-the-art technical facilities to ensure events run smoothly. From efficient air conditioning systems to high-speed network connectivity, every aspect of the venue is designed to provide attendees with the optimal experience. Convenient Transportation Fira Gran Via boasts a prime location with excellent transportation accessibility. Whether using public transportation or driving, attendees can easily reach the venue. The convention center is conveniently located near Barcelona Metro Line L9, connecting the city center and airport, facilitating quickÂæÄËøî for attendees. Additionally, multiple bus routes serve the area around the venue, ensuring convenient access from any corner of the city. Comprehensive Support Services Beyond top-tier conference facilities, Fira Gran Via offers extensive support services, including multiple restaurants, caf√©s, and relaxation areas where attendees can unwind during busy conference schedules. The venue features a modern business center providing printing, copying, and courier services, ensuring attendees receive comprehensive support whenever needed. ","date":"2024-07-04","objectID":"/en/2024/07/vmware-explore-barcelona/:0:1","tags":["VMware"],"title":"A Look Ahead at VMware Explore Barcelona 2024","uri":"/en/2024/07/vmware-explore-barcelona/"},{"categories":[],"content":"Hotels For attendees of VMware Explore 2024 Barcelona, a comfortable and convenient accommodation environment is just as essential as the exciting event program. To this end, the event organizers have carefully selected multiple hotels across different categories, from economical three-star hotels to luxurious five-star establishments, meeting the diverse needs of attendees. These hotels include both international chain brands and local specialty properties, offering highly competitive negotiated rates to ensure your Barcelona stay is both comfortable and cost-effective. Hotel List Link Three-Star Hotels B Hotel: Located in the city center with convenient transportation access, offering clean, comfortable rooms and free Wi-Fi, making it an excellent choice for budget-conscious accommodation. Four-Star Hotels Alexandra Hotel ‚Äì Curio by Hilton: This hotel provides high-quality services and amenities, including free Wi-Fi, meeting rooms, and restaurants, making it an ideal choice for business travelers. Renaissance Barcelona Fira: Featuring modern rooms, a fitness center, and a rooftop swimming pool, suitable for both business and leisure travelers. Five-Star Hotels InterContinental Barcelona: This five-star hotel offers luxurious rooms, multiple dining options, and a spa center, making it the perfect choice for those seeking a premium experience. Meli√° Barcelona Sarri√†: Located in the city center, this luxury hotel provides elegant rooms, a rooftop pool, and comprehensive spa services, meeting all your expectations for upscale accommodation. ","date":"2024-07-04","objectID":"/en/2024/07/vmware-explore-barcelona/:0:2","tags":["VMware"],"title":"A Look Ahead at VMware Explore Barcelona 2024","uri":"/en/2024/07/vmware-explore-barcelona/"},{"categories":[],"content":"Past Events and Future Outlook Previous Events As one of the IT industry‚Äôs most anticipated annual gatherings, VMware Explore has historically attracted thousands of professionals, industry leaders, and technology enthusiasts. From its origins as VMworld, this event has consistently served as an important platform for technological innovation, knowledge sharing, and industry networking. VMware Explore 2023 Locations: VMware Explore 2023 was held in Las Vegas, USA, and Barcelona, Spain, attracting attendees from around the globe. Technology Showcase: The latest cloud computing, virtualization, and network security technologies were displayed, with numerous industry-leading companies launching innovative products and solutions. Keynote Highlights: Industry leaders delivered engaging keynote speeches, including predictions about future technology trends and sharing of success stories. Interactive Experiences: Hands-on labs and technical workshops were extremely popular, with attendees experiencing the latest technologies firsthand and gaining in-depth understanding of product features. VMware Explore 2022 Location: VMware Explore 2022 was held in San Francisco. Innovation Showcase: The event highlighted cloud-native applications and edge computing, with several breakthrough technology launches that left a lasting impression. Community Engagement: Rich social activities and themed parties provided excellent opportunities for attendees to network and connect. Each edition of VMware Explore has pushed the boundaries of technological advancement, inspiring countless attendees‚Äô innovative thinking and professional passion through diverse presentations, exhibitions, and interactive sessions. This Year‚Äôs Outlook VMware Explore 2024 Barcelona This year‚Äôs VMware Explore 2024 will be held in vibrant and charming Barcelona, expected to once again become the industry‚Äôs focal point. Here are some projections for this year‚Äôs event: Premier Speakers: This year will feature more industry leaders and technical experts sharing their insights and experiences, with in-depth discussions on cutting-edge topics including cloud computing, network security, and virtualization. Latest Technology Showcase: VMware Explore 2024 will showcase the latest technological advancements and innovative solutions, including breakthroughs in cloud computing, edge computing, artificial intelligence, and machine learning. Rich Breakout Sessions: Multiple breakout sessions will cover a wide range of topics from technical architecture to practical applications, meeting the needs of attendees with different backgrounds and interests. Enhanced Interactive Experiences: This year‚Äôs interactive sessions will be even more comprehensive, including additional hands-on labs, technical workshops, and one-on-one expert consultations to help attendees gain deeper understanding of technical details. Networking and Social Opportunities: A series of carefully planned social activities and themed parties will provide attendees with more opportunities for communication and collaboration, creating a true industry community. ","date":"2024-07-04","objectID":"/en/2024/07/vmware-explore-barcelona/:0:3","tags":["VMware"],"title":"A Look Ahead at VMware Explore Barcelona 2024","uri":"/en/2024/07/vmware-explore-barcelona/"},{"categories":[],"content":"Additional Resources Official Website: Registration Link Accommodation: Hotel Link Blog: Official Blog Posts ","date":"2024-07-04","objectID":"/en/2024/07/vmware-explore-barcelona/:1:0","tags":["VMware"],"title":"A Look Ahead at VMware Explore Barcelona 2024","uri":"/en/2024/07/vmware-explore-barcelona/"},{"categories":[],"content":"In VDP v12.1, not only have security scanning capabilities been added during and after backup processes, but significant enhancements have also been made to monitoring and compliance management. To better help administrators improve backup system security, VBR has introduced a fully automated security compliance checking capability called Security \u0026 Compliance Analyzer. Additionally, in the Enterprise Edition, a completely new Threat Center dashboard has been launched. ","date":"2024-05-06","objectID":"/en/2024/05/vdp-v12-1-security-feature-deep-dive-03/:0:0","tags":["Backup","Security"],"title":"VDP v12.1 Security Features Deep Dive Series (Part 3) - Comprehensive Threat Monitoring","uri":"/en/2024/05/vdp-v12-1-security-feature-deep-dive-03/"},{"categories":[],"content":"Security \u0026 Compliance Analyzer This component actually existed in v12, where it was called Best Practices Analyzer, but the first version‚Äôs functionality wasn‚Äôt quite comprehensive and its detection capabilities were somewhat limited. In the new version, Best Practices Analyzer has been renamed to Security \u0026 Compliance Analyzer, and its capabilities have been significantly enhanced. In v12.1, Security \u0026 Compliance Analyzer includes 31 security checks that examine security best practices for both the operating system where VBR is installed and the backup infrastructure. How to Use Security \u0026 Compliance Analyzer is very straightforward to use. In the VBR console‚Äôs Home interface, simply click the toolbar button at the top to access it. Once you enter, Security \u0026 Compliance Analyzer automatically starts scanning the current environment. The scan completes within a few minutes, and the results for each check are displayed in the status bar on the right. Green ‚úÖ indicates the check passed and complies with security best practices; red ‚ùå means the best practice check failed and the current environment needs optimization; additionally, there‚Äôs a yellow ‚ö†Ô∏è status indicating that the current environment cannot be detected. For details on these 31 detection items, you can refer to the official documentation. In addition to manual checks through the interface, Security \u0026 Compliance Analyzer also supports scheduled scans to automatically check the current environment. The system can automatically run all checks at a specific time each day and send notifications to specified administrator emails upon completion. This approach ensures that all security measures in the environment are continuously managed and monitored, preventing arbitrary modifications and system configuration disruptions. Post-Scan Remediation Some security issues identified in these scans can be addressed through operating system security hardening techniques. To make it more convenient for administrators, Veeam has collected these hardening procedures and created one-click hardening scripts. Administrators can reference and modify these scripts according to their actual needs for system hardening. These scripts can be found at this knowledge base link: KB4525. Of course, security and convenience are always relative. If administrators believe certain options must be retained, Veeam also provides a Suppress button to exclude specific checks from detection. ","date":"2024-05-06","objectID":"/en/2024/05/vdp-v12-1-security-feature-deep-dive-03/:0:1","tags":["Backup","Security"],"title":"VDP v12.1 Security Features Deep Dive Series (Part 3) - Comprehensive Threat Monitoring","uri":"/en/2024/05/vdp-v12-1-security-feature-deep-dive-03/"},{"categories":[],"content":"Threat Center Threat Detection Platform In the VDP Enterprise Edition (this feature requires Enterprise Edition license activation and proper installation and configuration of Veeam ONE components), a completely new dashboard panel integrated with Veeam ONE has been added. Backup and security administrators can immediately view important security-related information about the current backup system without switching consoles to the Veeam ONE Dashboard. In the VBR console, an Analytics section has been added to the navigation bar. Under this view, there are 4 built-in dashboards: Threat Center, Overview, Backup Heatmap, and Jobs Calendar. These dashboards all come from Veeam ONE Dashboard, and administrators can also access these dashboards directly through Veeam ONE Dashboard. In the current first release, the Threat Center embedded in VBR has some minor issues - the content temporarily doesn‚Äôt support custom configuration. If you have specific requirements for display content, you can access the Threat Center page in Veeam ONE Dashboard, where you can freely customize the relevant content. Threat Center Display Content Threat Center consists of 4 parts. In the upper-left corner is a Data Platform scorecard. Veeam ONE calculates platform scores as percentages based on collected data across dimensions including platform security compliance, data recoverability health, data protection status, and backup immutability status. If scores are too low, yellow and red status indicators will be shown. In the upper-right corner is a malicious attack detection map. Based on Repository locations, Threat Center displays the geographical locations of potential malicious attack activities on a world map. In the lower-left corner is an RPO anomaly analysis table. This table identifies business systems that haven‚Äôt met their expected RPO targets among all workloads that need protection. In the lower-right corner is SLA compliance status. If any backup jobs have failed, abnormal red blocks will appear in this red-green heatmap. Issues that occurred during the past period will be prominently displayed in this area. Threat Center Configuration In Veeam ONE Dashboard, you can configure the content displayed by Threat Center and the scope of data collection. The four parts mentioned above are 4 small components of the dashboard. In the upper-right corner of each of these 4 components, there‚Äôs a configuration button that opens the relevant configuration wizard. Data Platform Scorecard Configuration The scorecard consists of 4 parts, so in this component‚Äôs wizard, there are corresponding configurations for each of the 4 different scores, including the objects and types of data collected. Administrators can adjust the scoring scope of the scorecard based on their areas of concern. Malicious Attack Detection Map Configuration This component‚Äôs configuration includes two parts: one for detection time range and display method, and another for geographical location configuration. Here, geographical locations use an offline place name database built into Veeam ONE. Administrators can use the built-in English place names or set custom place names and geographical latitude/longitude coordinates through the Custom button. After setting the location for each Repository, this component can prominently display infected data centers on the map. RPO Anomaly Analysis Configuration This setting supports selection of infrastructure objects, RPO time range, and sorting by top N workloads. Administrators can customize the displayed content based on the data they‚Äôre actually concerned about. SLA Compliance Status Configuration This setting supports selection of integrated architecture objects, job type selection, statistical time range, and target SLA values. Administrators can set the most relevant data based on their actual situation. Since Veeam ONE is a multi-user system, all the above configurations only take effect for the currently logged-in user. Therefore, differe","date":"2024-05-06","objectID":"/en/2024/05/vdp-v12-1-security-feature-deep-dive-03/:0:2","tags":["Backup","Security"],"title":"VDP v12.1 Security Features Deep Dive Series (Part 3) - Comprehensive Threat Monitoring","uri":"/en/2024/05/vdp-v12-1-security-feature-deep-dive-03/"},{"categories":[],"content":"Following up on yesterday‚Äôs post, let‚Äôs dive into the second major update: YARA Scan and Antivirus Scan. Beyond its ability to perform online scanning of backup data streams, Veeam Backup \u0026 Replication (VBR) now supports secondary scanning of already backed-up data. Version 12.1 introduces two powerful scanning engines: one that leverages antivirus software installed on the Mount Server, and another that utilizes YARA as the scanning engine. ","date":"2024-04-29","objectID":"/en/2024/04/vdp-v12-1-security-feature-deep-dive-02/:0:0","tags":["Backup","Security"],"title":"VDP v12.1 Security Feature Deep Dive Series (Part 2) - Malware Scanning","uri":"/en/2024/04/vdp-v12-1-security-feature-deep-dive-02/"},{"categories":[],"content":"Understanding YARA YARA (which stands for Yet Another Recursive Acronym) is a tool primarily used by security experts and researchers to identify and classify malware. You can find the official documentation at https://yara.readthedocs.io/en/latest/ and the GitHub repository at https://github.com/virustotal/yara. YARA excels at malware research and detection by scanning text or binary patterns within files. The tool typically consists of two main components: the YARA scanning engine itself, which can be installed across various platforms, and YARA rules‚Äîcustom matching patterns written by users to meet specific requirements. The workflow is straightforward: the YARA engine loads your custom rules and scans target content, then outputs the results. With VDP v12.1, YARA integration means backup and security administrators can now directly invoke YARA rules from the VBR console to scan backup archives‚Äîno need to manually set up and maintain a separate YARA environment. Working with YARA Rules YARA rule syntax is actually quite simple. You can reference the official documentation at https://yara.readthedocs.io/en/stable/writingrules.html and find plenty of rule templates on GitHub at https://github.com/Yara-Rules/rules. VBR comes pre-loaded with three classic YARA rule templates that serve as excellent starting points for your own rules. Of course, these days you don‚Äôt even have to write rules from scratch‚Äîvarious GPT models can help you generate YARA rules effortlessly. For instance: How YARA Scanning Works Simply save the GPT-generated content into a file with a .yar or .yara extension and place it in the C:\\Program Files\\Veeam\\Backup and Replication\\Backup\\YaraRules directory. VBR will automatically detect and load these rules. When you initiate a scan, VBR mounts the backup archive to the Mount Server and uses the YARA engine on that server to load and apply your selected YARA rules. Since this scanning operates at the text and binary level, it‚Äôs not limited to just malicious code detection‚Äîyou can actually scan for any critical information you‚Äôre looking for. ","date":"2024-04-29","objectID":"/en/2024/04/vdp-v12-1-security-feature-deep-dive-02/:0:1","tags":["Backup","Security"],"title":"VDP v12.1 Security Feature Deep Dive Series (Part 2) - Malware Scanning","uri":"/en/2024/04/vdp-v12-1-security-feature-deep-dive-02/"},{"categories":[],"content":"Antivirus Scanning Antivirus scanning was first introduced in VBR v10 as part of the Secure Restore feature, where VBR would call upon antivirus software installed on the Mount Server to scan backup archives. In v12.1, this capability has been integrated into the Scan Backup functionality, with expanded support for more antivirus solutions. Antivirus Configuration Version 12.1 includes built-in support for six major antivirus engines: Symantec Protection Engine, ESET, Windows Defender, Kaspersky Security, Bitdefender Endpoint Security Tools, and Trellix (formerly the well-known McAfee). Beyond these six solutions, Veeam also supports additional antivirus software through the AntivirusInfos.xml configuration file. You can modify the XML file located in the %ProgramFiles%\\Common Files\\Veeam\\Backup and Replication\\Mount Service directory on your Mount Server to configure other antivirus solutions via CLI command-line calls. For detailed XML configuration syntax, check out the official documentation at https://helpcenter.veeam.com/docs/backup/vsphere/av_scan_xml.html?ver=120. ","date":"2024-04-29","objectID":"/en/2024/04/vdp-v12-1-security-feature-deep-dive-02/:0:2","tags":["Backup","Security"],"title":"VDP v12.1 Security Feature Deep Dive Series (Part 2) - Malware Scanning","uri":"/en/2024/04/vdp-v12-1-security-feature-deep-dive-02/"},{"categories":[],"content":"Configuration Methods In VBR, there are multiple ways to initiate scanning: Direct Backup Archive Scanning: Select a supported backup archive, right-click, or choose the Scan Backup button from the toolbar to launch either the antivirus scanning or YARA scanning dialog. After launching Scan Backup, the scanning dialog opens where you can use either engine to perform security scans on the entire backup chain using three different scanning methods. Secure Restore Integration: During full VM or disk restore operations, enable antivirus scanning or YARA scanning in the Secure Restore steps. SureBackup Integration: Enable antivirus scanning or YARA scanning options within your SureBackup jobs. Viewing Scan Results If scan results detect matching content, VBR will mark the scanned backup archive with an ‚ÄúInfected‚Äù status, indicating that malware has been discovered. Complete scan logs are recorded in the VBR directory: C:\\ProgramData\\Veeam\\Backup\\FLRSessions\\Windows\\FLR__\u003cmachinename\u003e_\\Antivirus Similar to the online malware attack analysis we discussed earlier, detailed scan status is also recorded in VBR‚Äôs History, where you can search and review scan results. These are the new backup archive scanning methods introduced in VDP v12.1, designed to help administrators avoid secondary infections after incidents occur and ensure that recovered data consists of clean system archives. ","date":"2024-04-29","objectID":"/en/2024/04/vdp-v12-1-security-feature-deep-dive-02/:0:3","tags":["Backup","Security"],"title":"VDP v12.1 Security Feature Deep Dive Series (Part 2) - Malware Scanning","uri":"/en/2024/04/vdp-v12-1-security-feature-deep-dive-02/"},{"categories":[],"content":"I‚Äôm genuinely excited to share this deep dive into Veeam Data Platform v12.1‚Äôs security enhancements. When Veeam released this major update late last year, they packed it with significant security features that deserve proper attention. Starting today, I‚Äôll be exploring each of these capabilities in detail, breaking down how they work and how to make the most of them. For this first installment, let‚Äôs dive into ransomware detection. In v12.1, Veeam introduced a comprehensive malware detection module that consists of two core components: Inline Entropy Scan and Index Scan. Both work together to provide multiple layers of protection against sophisticated attacks. ","date":"2024-04-28","objectID":"/en/2024/04/vdp-v12-1-security-feature-deep-dive-01/:0:0","tags":["Backup","Security"],"title":"VDP v12.1 Security Feature Deep Dive Series (Part 1) - Ransomware Detection","uri":"/en/2024/04/vdp-v12-1-security-feature-deep-dive-01/"},{"categories":[],"content":"Inline Entropy Scan: Real-time Protection During Backup Let‚Äôs start with Inline Entropy Scan, which is disabled by default and requires manual activation. Once enabled, it becomes a global setting that applies to all supported backup sources during the backup process. What makes this particularly interesting is that Inline Scan leverages a sophisticated data analysis model trained on Veeam‚Äôs extensive experience in data protection. The system performs real-time analysis during backup operations and generates alerts when it detects specific anomaly patterns: Mass encryption detection: The system identifies when large volumes of data are being encrypted, with five adjustable sensitivity levels. Higher sensitivity settings can trigger alerts even for smaller-scale encryption activities. Ransomware artifact detection: The system flags when ransomware creates telltale text content, including Tor addresses (similar to V3 onion addresses), ransom notes, and other characteristic indicators. How It Works The scanning process runs during backup job execution. The VBR server analyzes each data block received during the backup process, utilizing a new service called Veeam Data Analyzer Service to manage this analysis. Here‚Äôs the workflow: Initial analysis: The data analysis occurs at the Backup Proxy or Agent level. When analysis begins, the Proxy stores a temporary RIDX file containing scanned disk source data and potential ransomware indicators, such as encrypted data patterns, file types, onion addresses, and ransom notes. Data transfer: After backup completion, this data is transmitted to the VBRCatalog folder on the VBR server. Comparative analysis: VBR compares the received RIDX file against historical archives in the VBRCatalog folder to determine if a malicious attack has occurred. If anomalies are detected, the system generates event notifications and marks the backup archive as Suspicious. Configuration and Exclusion Methods To enable Inline Entropy Scan, navigate to the VBR console‚Äôs global settings menu in the upper-left corner. There you‚Äôll find the new Malware Detection option added in v12.1. The configuration interface includes a checkbox to enable scanning and a slider to adjust sensitivity levels. By default, the checkbox is unchecked, and sensitivity is set to Normal. For systems that require exclusion, you can use global exclusion options. Access these through the same global settings menu, where you‚Äôll find the new Malware Exclusion option in v12.1. Here you can add specific virtual machines or Veeam Agents to exclude from scanning. ","date":"2024-04-28","objectID":"/en/2024/04/vdp-v12-1-security-feature-deep-dive-01/:0:1","tags":["Backup","Security"],"title":"VDP v12.1 Security Feature Deep Dive Series (Part 1) - Ransomware Detection","uri":"/en/2024/04/vdp-v12-1-security-feature-deep-dive-01/"},{"categories":[],"content":"Index Scan: File-level Analysis Beyond the real-time Inline scanning, VBR also leverages file system indexing capabilities for malicious file analysis. This functionality builds upon VBR‚Äôs Guest Processing feature, specifically the ‚ÄúIndex guest files‚Äù capability. While globally enabled by default, it requires the Index guest files option to be checked in each backup job‚Äôs Guest Processing settings to take effect. Index Scan focuses on detecting several specific anomaly patterns: Known suspicious file detection: The scan matches against known suspicious file extensions defined in the SuspiciousFiles.xml file, generating alerts when matches are found. Mass file renaming: Triggers alerts when more than 200 files are renamed with the same extension, a common tactic in ransomware attacks. Mass file deletion: Flags suspicious activity when more than 25 files with special extensions are deleted or when 50% of files are removed. How It Works This scanning runs during backup job execution through the Guest Processing service, which captures file indexing information from each virtual or physical machine and transmits it to the VBR server‚Äôs VBRCatalog directory. The Veeam Data Analyzer Service then analyzes this data. The SuspiciousFiles.xml file serves as the scan‚Äôs signature database. VBR includes a factory-default database, and backup administrators can update this file through online or offline methods. Configuration and Exclusion Methods Global configuration mirrors the Inline Scan setup. Access the Malware Detection option in VBR‚Äôs global settings menu, where you‚Äôll find the Index Scan section in the second part. By default, this checkbox is selected. Below it, there‚Äôs an option for automatic online updates of the SuspiciousFiles.xml file. If your VBR server has internet access, this file can be updated automatically. For manual updates, refer to Veeam KB4514. After global enablement, each backup job must have the Index function specifically enabled. To exclude particular jobs from scanning, simply disable the Index option in those backup jobs. ","date":"2024-04-28","objectID":"/en/2024/04/vdp-v12-1-security-feature-deep-dive-01/:0:2","tags":["Backup","Security"],"title":"VDP v12.1 Security Feature Deep Dive Series (Part 1) - Ransomware Detection","uri":"/en/2024/04/vdp-v12-1-security-feature-deep-dive-01/"},{"categories":[],"content":"Malware Event Management When either scan type triggers an alert, the Malware Detection section in the Inventory interface displays bolded malware attack warnings, listing the affected virtual or physical machines. Results from both scan types are marked with a Suspicious status. The History section includes a new category of events that details content detected during each backup scan. Selecting any event reveals options in the toolbar or right-click menu to view detailed event information, showing exactly what malicious activity was detected. The details section provides comprehensive event logs with specific information about each detected incident. ","date":"2024-04-28","objectID":"/en/2024/04/vdp-v12-1-security-feature-deep-dive-01/:0:3","tags":["Backup","Security"],"title":"VDP v12.1 Security Feature Deep Dive Series (Part 1) - Ransomware Detection","uri":"/en/2024/04/vdp-v12-1-security-feature-deep-dive-01/"},{"categories":[],"content":"Conclusion That covers the online ransomware detection methods in VBR v12.1. These multi-layered detection capabilities provide robust protection against modern ransomware threats. While I hope you never need to rely on these detection features, having them properly configured and understood can make all the difference when facing sophisticated attacks. In the next installment of this series, we‚Äôll explore additional security features introduced in v12.1. Stay tuned for more deep dives into Veeam‚Äôs security enhancements. ","date":"2024-04-28","objectID":"/en/2024/04/vdp-v12-1-security-feature-deep-dive-01/:0:4","tags":["Backup","Security"],"title":"VDP v12.1 Security Feature Deep Dive Series (Part 1) - Ransomware Detection","uri":"/en/2024/04/vdp-v12-1-security-feature-deep-dive-01/"},{"categories":[],"content":"I‚Äôve previously shared two articles about using K10 for instant recovery of Kubernetes applications. This feature has specific requirements for Kubernetes environments. Back then, I walked you through the manual deployment process in detail. Today, I‚Äôm excited to bring you a one-click deployment script that makes everything incredibly simple. If you have a basic VMware environment and can connect to GitHub/k8s.io networks, this script will be a game-changer. Just run the script, wait about 10 minutes, and you‚Äôll have a ready-to-use single-node K3s environment. Script repository: https://github.com/Coku2015/k3s_vsphere ","date":"2024-02-21","objectID":"/en/2024/02/automate-deploy-k3s-with-vsphere-csi/:0:0","tags":["VMware","Kubernetes","Instant Recovery"],"title":"One-Click Deployment Script: K3S+vSphere CSI","uri":"/en/2024/02/automate-deploy-k3s-with-vsphere-csi/"},{"categories":[],"content":"Prerequisites Before using this script, you‚Äôll need to prepare a VM template and customization specification for automated deployment. The script will automatically call these resources to deploy your K3s environment. ","date":"2024-02-21","objectID":"/en/2024/02/automate-deploy-k3s-with-vsphere-csi/:1:0","tags":["VMware","Kubernetes","Instant Recovery"],"title":"One-Click Deployment Script: K3S+vSphere CSI","uri":"/en/2024/02/automate-deploy-k3s-with-vsphere-csi/"},{"categories":[],"content":"VM Template I recommend using Ubuntu 20.04 LTS as the base environment for running K3s, and suggest creating your VM template based on this version. For the template VM, modest hardware specifications are sufficient: 1 vCPU, 2GB RAM, and 50GB disk space. There are several ways to create a VM template. The most straightforward approach is performing a minimal installation from an ISO. After installation completes, you‚Äôll need to make some adjustments to enable fully automated remote configuration. First, enable key-based authentication for remote login: # Create SSH key pair for remote connection on your Linux machine $ ssh-keygen # After creation, you'll get two files: id_rsa (private key) and id_rsa.pub (public key) # Copy the public key to the template machine, assuming ubuntu is the username $ ssh-copy-id ubuntu@ubuntu_template_vm # Test the connection - it should still prompt for password $ ssh ubuntu@ubuntu_template_vm Next, SSH into this Ubuntu machine, switch to root with sudo -i, and run the following commands for further configuration: # Disable password authentication for SSH key-based login $ sed -i 's/#\\?PasswordAuthentication yes/PasswordAuthentication no/' /etc/ssh/sshd_config # Restart SSH service $ systemctl restart sshd # Enable passwordless sudo (modify if username is not ubuntu) $ echo 'ubuntu ALL=(ALL) NOPASSWD:ALL' \u003e\u003e /etc/sudoers # Fix VMware customization issues - see VMware KB56409 for details $ sed -i '/^\\[Unit\\]/a After=dbus.service' /lib/systemd/system/open-vm-tools.service $ awk 'NR==11 {$0=\"#D /tmp 1777 root root -\"} 1' /usr/lib/tmpfiles.d/tmp.conf | tee /usr/lib/tmpfiles.d/tmp.conf # Disable Cloud Init $ touch /etc/cloud/cloud-init.disabled # Update system packages $ apt clean $ apt update -y $ apt upgrade -y # Remove machine-id to avoid conflicts after template deployment $ rm /etc/machine-id $ touch /etc/machine-id Once you‚Äôve completed these configurations, exit SSH and test the connection again. Verify that password authentication is no longer required and that sudo -i works without a password prompt. If everything works as expected, congratulations - your template is ready! Simply shut down this virtual machine and convert it to a template. ","date":"2024-02-21","objectID":"/en/2024/02/automate-deploy-k3s-with-vsphere-csi/:1:1","tags":["VMware","Kubernetes","Instant Recovery"],"title":"One-Click Deployment Script: K3S+vSphere CSI","uri":"/en/2024/02/automate-deploy-k3s-with-vsphere-csi/"},{"categories":[],"content":"VM Customization Specification Besides creating the template, we also need to configure a VM customization specification. In vSphere Client, find the ‚ÄúVM Customization Specifications‚Äù button in the shortcuts and click to enter. Click the ‚ÄúCreate‚Äù button to open the creation wizard. Set a name and select Linux as the operating system. This name will be used in the subsequent script. Configure the computer name. Select ‚ÄúUse the virtual machine name‚Äù to make it match the VM name, then enter any appropriate domain name in the field below. This step cannot be skipped - you must enter some text. Select the timezone. I‚Äôm choosing Asia/Shanghai for my location. No configuration needed for the custom script section - simply click Next. Configure network settings. Select ‚ÄúManually select custom settings‚Äù, then select Network adapter 1 below and click Edit for further configuration. In the network settings dialog, under IPv4, select ‚ÄúPrompt the user for an IPv4 address when a specification is used‚Äù on the left, and fill in your environment‚Äôs subnet mask and gateway on the right. Leave IPv6 unconfigured by default, then click OK to save. Set up DNS by entering your environment‚Äôs default DNS server addresses that can access the internet. Click Finish to save the settings. Your customization specification is now configured and ready to be used in the script by referencing the name you set in step 3. ","date":"2024-02-21","objectID":"/en/2024/02/automate-deploy-k3s-with-vsphere-csi/:1:2","tags":["VMware","Kubernetes","Instant Recovery"],"title":"One-Click Deployment Script: K3S+vSphere CSI","uri":"/en/2024/02/automate-deploy-k3s-with-vsphere-csi/"},{"categories":[],"content":"Script Usage Guide ","date":"2024-02-21","objectID":"/en/2024/02/automate-deploy-k3s-with-vsphere-csi/:2:0","tags":["VMware","Kubernetes","Instant Recovery"],"title":"One-Click Deployment Script: K3S+vSphere CSI","uri":"/en/2024/02/automate-deploy-k3s-with-vsphere-csi/"},{"categories":[],"content":"Environment Topology Overview: On your Linux control machine, use git clone to download the script repository: $ git clone https://github.com/Coku2015/k3s_vsphere.git Navigate to the script directory after downloading: $ cd k3s_vsphere Open the script with vi editor and find the environment variables section at the beginning. Modify the parameters to match your environment: ####################### Environment Variables Section ###################### ### Modify the following environment variables to match your environment ### MY_SSH_USER=\"ubuntu\" MY_VSPHERE_SERVER=\"172.16.0.100\" MY_VSPHERE_USERNAME=\"administrator@vsphere.local\" MY_VSPHERE_PASSWORD=\"VMware123!\" MY_DATACENTER=\"MyDatacenter\" MY_VM_TEMPLATE=\"Ubuntu20.04LTS\" MY_DATASTORE=\"localdatastore\" ####################### Environment Section End ########################### The first variable, MY_SSH_USER, is the username for your Ubuntu template. The other information consists of standard vSphere access details - fill them in according to your actual environment. After saving and exiting, you‚Äôre ready to run the script. Note that the script requires root privileges to install necessary software. Execute the script with the following command: $ bash deploy_k3s_with_vspherecsi.sh The script will prompt you for three configuration parameters for this deployment: VM name prefix (the script will automatically add 4 random digits as a unique identifier) VM IP address (enter an available IP from your environment) K3s version (check k3s.io for available versions - theoretically any stable version should work): +----------------------------------------------------------------------+ | K3S with vSphere CSI automation script | +----------------------------------------------------------------------+ | This script is used to create a single node k3s cluster on vSphere. | +----------------------------------------------------------------------+ | Intro: https://blog.backupnext.cloud | | Bug Report: Lei.wei@veeam.com | +----------------------------------------------------------------------+ Please enter the VM name: (Default VM name will be 'k3s-cluster-\u003c4 random number\u003e'): Please enter the IP address for the VM: (Default IP address will be '192.168.1.\u003crandom number\u003e'):10.10.1.103 Please enter the k3s version: (Default version will be 'v1.28.6+k3s2'):v1.27.10+k3s2 After entering these parameters, the script begins automated deployment. In about 10 minutes, you‚Äôll have a ready-to-use K3s test environment just like I do! ","date":"2024-02-21","objectID":"/en/2024/02/automate-deploy-k3s-with-vsphere-csi/:2:1","tags":["VMware","Kubernetes","Instant Recovery"],"title":"One-Click Deployment Script: K3S+vSphere CSI","uri":"/en/2024/02/automate-deploy-k3s-with-vsphere-csi/"},{"categories":["Repository"],"content":"After the release of Veeam v12, the official documentation provides methods for further system security hardening after building a Veeam hardened repository based on Ubuntu 20.04, and offers a fully automated configuration script. Therefore, after using my Configurator to build the Ubuntu repository, you can use this automated configuration script for more secure hardening. Since the official script includes some US military compliance configurations that are not suitable for Chinese users, I have modified Veeam‚Äôs official script and republished it to make it suitable for Chinese users. Script download location: https://github.com/Coku2015/veeam-hardened-repository System Requirements: Must be run as root user Must be run on a clean installation of Ubuntu 20.04 Only supports Veeam Backup \u0026 Replication v12 and above Usage Instructions: Connect to the Ubuntu 20.04 server via SSH Copy the script content to the server Run the script using the following command: sudo bash veeam.harden.sh \u003e output.txt 2\u003e\u00261 Note: If you need more detailed output, simply run the following command: sudo bash veeam.harden.sh ","date":"2024-02-02","objectID":"/en/2024/02/veeam-hardened-ubuntu/:0:0","tags":["Backup","Security","Ubuntu","Veeam"],"title":"Further Security Hardening for Ubuntu Systems Used as Veeam Hardened Repositories","uri":"/en/2024/02/veeam-hardened-ubuntu/"},{"categories":["Repository"],"content":"Script Hardening Content Overview UBTU-20-010005 - The Ubuntu operating system must allow users to directly initiate session locking for all connection types. UBTU-20-010007 - The Ubuntu operating system must enforce a 24-hour/1-day minimum password lifetime. New users‚Äô passwords must have a 24-hour/1-day minimum password validity period restriction. UBTU-20-010008 - The Ubuntu operating system must enforce a 60-day maximum password lifetime restriction. New users‚Äô passwords must have a 60-day maximum password validity period restriction. UBTU-20-010013 - After an inactivity timeout, the Ubuntu operating system must automatically terminate user sessions. UBTU-20-010014 - The Ubuntu operating system must require users to re-authenticate when elevating privileges or changing roles. UBTU-20-010016 - The Ubuntu operating system default filesystem permissions must be defined so that all authenticated users can only read and modify their own files. UBTU-20-010035 - The Ubuntu operating system must use strong authenticators to establish non-local maintenance and diagnostic sessions. UBTU-20-010036 - The Ubuntu operating system must immediately terminate all network connections associated with SSH traffic after a period of inactivity. UBTU-20-010037 - The Ubuntu operating system must immediately terminate all network connections associated with SSH traffic at session end or after 10 minutes of inactivity. UBTU-20-010038 - Before granting any local or remote system connection, the Ubuntu operating system must display the standard mandatory DoD notice and consent banner. UBTU-20-010043 - The Ubuntu operating system must configure the SSH daemon to use Message Authentication Codes (MAC) that employ FIPS 140-2 approved cryptographic hashes to prevent unauthorized information disclosure and/or detect changes to information during transmission. UBTU-20-010047 - The Ubuntu operating system must not allow unattended or automatic login via SSH. UBTU-20-010048 - The Ubuntu operating system must be configured to disable remote X connections unless required to meet documented and validated mission requirements. UBTU-20-010049 - The Ubuntu operating system SSH daemon must prevent remote hosts from connecting to the proxy display. UBTU-20-010050 - The Ubuntu operating system must enforce password complexity by requiring at least one uppercase character. UBTU-20-010051 - The Ubuntu operating system must enforce password complexity by requiring at least one lowercase character. UBTU-20-010052 - The Ubuntu operating system must enforce password complexity by requiring at least one numeric character. UBTU-20-010053 - The Ubuntu operating system must require a change of at least 8 characters when changing passwords. UBTU-20-010054 - The Ubuntu operating system must enforce a minimum password length of at least 15 characters. UBTU-20-010055 - The Ubuntu operating system must enforce password complexity by requiring at least one special character. UBTU-20-010056 - The Ubuntu operating system must prohibit the use of dictionary words as passwords. UBTU-20-010057 - The Ubuntu operating system must be configured so that pwquality is used when changing passwords or establishing new passwords. UBTU-20-010070 - The Ubuntu operating system must prohibit password reuse for at least five generations. UBTU-20-010072 - The Ubuntu operating system must automatically lock accounts until an administrator releases the lock after 3 failed login attempts. UBTU-20-010074 - The Ubuntu operating system must be configured so that scripts that check file integrity run at least every 30 days or less are the default scripts. UBTU-20-010075 - The Ubuntu operating system must enforce a delay of at least 4 seconds between login prompts following a failed login attempt. UBTU-20-010100 - The Ubuntu operating system must generate audit records for all account creation, modification, disabling, and termination events affecting /etc/passwd. UBTU-20-010101 - The Ubuntu operating system m","date":"2024-02-02","objectID":"/en/2024/02/veeam-hardened-ubuntu/:1:0","tags":["Backup","Security","Ubuntu","Veeam"],"title":"Further Security Hardening for Ubuntu Systems Used as Veeam Hardened Repositories","uri":"/en/2024/02/veeam-hardened-ubuntu/"},{"categories":[],"content":"In the Veeam data protection platform, application support is extremely comprehensive, ranging from automatic application-aware processing for image-level backups to specialized application plugin backups. Veeam covers almost all mainstream data sources in the market. However, many people often wonder why MySQL backup isn‚Äôt prominently featured in the Veeam data protection platform. Today, I‚Äôll explain what‚Äôs going on and how you should approach MySQL backup and recovery using Veeam. ","date":"2023-12-11","objectID":"/en/2023/12/mysql-backup-and-restore/:0:0","tags":["MySQL","VBR","Backup"],"title":"MySQL Backup and Restore Best Practices with Veeam","uri":"/en/2023/12/mysql-backup-and-restore/"},{"categories":[],"content":"MySQL Data Storage Engines Before discussing MySQL backup, we need to talk about MySQL‚Äôs data storage engines because different engines directly determine MySQL‚Äôs data backup and recovery capabilities. In MySQL, InnoDB is the most commonly used storage engine by default. Tables created with the Create Table command without specifying an Engine parameter will use the InnoDB engine by default, and Oracle officially recommends using the InnoDB engine for typical MySQL usage unless there are special requirements. Of course, besides this engine, MySQL also supports other engines for special cases, such as MyISAM, MEMORY, CSV, BLACKHOLE, and others. For more information about storage engines, you can refer to the official documentation. The InnoDB engine has very strong self-recovery capabilities. Currently, all solutions for online physical hot backups of MySQL are designed around InnoDB engine‚Äôs recovery features, and Veeam also leverages this characteristic to implement MySQL data backup. When a database using the InnoDB engine experiences an abnormal server shutdown, recovering the database only requires starting the MySQL service. At this point, InnoDB automatically checks the database‚Äôs Redo log and undo log, entering the crash recovery process. For details about this process, you can refer to the official InnoDB Recovery documentation. This characteristic is very suitable for Veeam‚Äôs snapshot backups, whether they‚Äôre agentless virtual machine snapshots or Veeamsnap snapshots from the Linux Agent. We know that snapshot states are crash-consistent, so when MySQL Server starts from this state, it can naturally enter the self-crash recovery process smoothly and complete service startup without any manual intervention. After system recovery, this process can be verified through the /var/log/mysql/error.log file with the following information: [System] [MY-013576] [InnoDB] InnoDB initialization has started. [System] [MY-013577] [InnoDB] InnoDB initialization has ended. [System] [MY-010229] [Server] Starting XA crash recovery... [System] [MY-010232] [Server] XA crash recovery finished. [System] [MY-010931] [Server] /usr/sbin/mysqld: ready for connections. Version: '8.0.35-0ubuntu0.20.04.1' socket: '/var/run/mysqld/mysqld.sock' port: 3306 (Ubuntu). For the MyISAM engine, due to its storage format, it can also support backup through physical backup methods. The only difference is that MyISAM engine‚Äôs consistency handling isn‚Äôt as flexible as InnoDB‚Äôs, so before copying files for physical backup, you need to perform a table locking operation to ensure database consistency. ","date":"2023-12-11","objectID":"/en/2023/12/mysql-backup-and-restore/:1:0","tags":["MySQL","VBR","Backup"],"title":"MySQL Backup and Restore Best Practices with Veeam","uri":"/en/2023/12/mysql-backup-and-restore/"},{"categories":[],"content":"Veeam Data Protection Platform MySQL Backup Therefore, in Veeam software, backing up MySQL databases needs to be discussed separately: InnoDB engine - The entire backup process can be done directly at the machine level. Normally perform disk or filesystem snapshots, and after backing up all files from the snapshot point, the database backup is complete simultaneously without any additional settings or steps. MyISAM engine - It‚Äôs usually recommended to add the FLUSH TABLES tbl_list WITH READ LOCK; command to perform table locking operations. After locking, MyISAM table files (*.MYD, *.MYI, *.SDI) only need to be backed up as files. When using agentless virtual machine snapshots, pre-freeze and post-unfreeze scripts are typically added to handle locking and unlocking operations. When using Veeam Agent backup, you just need to enable application-aware processing, and Veeam Agent can automatically determine the current MySQL storage engine and automatically execute the above locking and unlocking operations for MyISAM engine tables. Database administrators might wonder at this point, what about incremental backups? Is the backup data compressed? You don‚Äôt need to worry about these at all. Veeam‚Äôs Change Block Tracking technology and deduplication compression technology are very well applied in full image backups, allowing backup administrators to easily handle data deduplication and compression. Application of Veeam CDP Technology in MySQL Real-time Synchronization If your MySQL runs on VMware vSphere, congratulations! Veeam CDP technology can be seamlessly applied to MySQL real-time synchronization replication disaster recovery scenarios. At this point, you don‚Äôt need to worry about MySQL consistency when using the InnoDB engine at all - all operations are handed over to the infrastructure administrator to be managed by Veeam and VMware. After using Veeam B\u0026R 12.1, you can even roll back to any MySQL state every 2 seconds through file-level recovery, and for MySQL disaster recovery testing, SureReplica technology can also play a role in fully automated testing on CDP replicas, ensuring data recoverability. MySQL Data Recovery After backing up through Veeam, MySQL data recovery is also very convenient, with many available methods: Machine failure - Instant VM Recovery Data disk failure - Instant Disk Recovery Database failure - Instant Disk Recovery, Disk Publishing, File-level Recovery Data logical errors - Combining Data Labs and file-level recovery and other methods ","date":"2023-12-11","objectID":"/en/2023/12/mysql-backup-and-restore/:2:0","tags":["MySQL","VBR","Backup"],"title":"MySQL Backup and Restore Best Practices with Veeam","uri":"/en/2023/12/mysql-backup-and-restore/"},{"categories":[],"content":"MySQL Backup and Recovery in Practice with VBR Next, let‚Äôs look at a practical example to see exactly how MySQL database backup and recovery work. Environment Description Virtualization platform: VMware vSphere 7.0 OS: Ubuntu 20.04 MySQL: 8.0.35 VBR: v12.1 Data Backup - InnoDB To simulate hot database backup during continuous data writing, I prepared a Python script that inserts a row of time data every second. This table is very simple, as shown below: mysql\u003e SELECT * from time LIMIT 5; +----+------------+----------+ | id | date | time | +----+------------+----------+ | 5 | 2023-12-13 | 14:06:26 | | 6 | 2023-12-13 | 14:07:04 | | 7 | 2023-12-13 | 14:17:14 | | 8 | 2023-12-13 | 14:17:15 | | 9 | 2023-12-13 | 14:17:16 | +----+------------+----------+ 5 rows in set (0.00 sec) The Python script is as follows: #!/usr/bin/python3 import MySQLdb import time while True: db = MySQLdb.connect(\"localhost\", \"lei\", \"P@ssw0rd\", \"leitestdb\") curs=db.cursor() try: curs.execute (\"\"\"INSERT INTO time values(0, CURRENT_DATE(), NOW())\"\"\") db.commit() except: db.rollback() db.close() time.sleep(1) The backup job in VBR is nothing special - just a regular VMware virtual machine backup job. No need to enable application-aware processing, just backup directly. Data Recovery Scenario 1: Machine Failure When a system-level failure occurs, you can perform full machine instant recovery through VBR. Not only can the server be recovered, but the database can also be perfectly recovered. After starting instant VM recovery in the VBR console, MySQL can be back online within 2 minutes. Let‚Äôs look at the recovered database. The database successfully recovered through InnoDB‚Äôs self-recovery mode using crash recovery. lei@MySQL-01:~$ sudo cat /var/log/mysql/error.log [sudo] password for lei: 2023-12-15T03:35:54.523723Z 0 [System] [MY-010116] [Server] /usr/sbin/mysqld (mysqld 8.0.35-0ubuntu0.20.04.1) starting as process 936 2023-12-15T03:35:54.603505Z 1 [System] [MY-013576] [InnoDB] InnoDB initialization has started. 2023-12-15T03:35:55.634428Z 1 [System] [MY-013577] [InnoDB] InnoDB initialization has ended. 2023-12-15T03:35:55.892988Z 0 [System] [MY-010229] [Server] Starting XA crash recovery... 2023-12-15T03:35:55.901965Z 0 [System] [MY-010232] [Server] XA crash recovery finished. 2023-12-15T03:35:55.971499Z 0 [Warning] [MY-010068] [Server] CA certificate ca.pem is self signed. 2023-12-15T03:35:55.971547Z 0 [System] [MY-013602] [Server] Channel mysql_main configured to support TLS. Encrypted connections are now supported for this channel. 2023-12-15T03:35:56.039984Z 0 [System] [MY-011323] [Server] X Plugin ready for connections. Bind-address: '127.0.0.1' port: 33060, socket: /var/run/mysqld/mysqlx.sock 2023-12-15T03:35:56.040153Z 0 [System] [MY-010931] [Server] /usr/sbin/mysqld: ready for connections. Version: '8.0.35-0ubuntu0.20.04.1' socket: '/var/run/mysqld/mysqld.sock' port: 3306 (Ubuntu). Let‚Äôs check at what time point the backup data is located: mysql\u003e select * from time order by id desc LIMIT 10; +-----+------------+----------+ | id | date | time | +-----+------------+----------+ | 361 | 2023-12-14 | 10:20:00 | | 360 | 2023-12-14 | 10:19:59 | | 359 | 2023-12-14 | 10:19:58 | | 358 | 2023-12-14 | 10:19:57 | | 357 | 2023-12-14 | 10:19:56 | | 356 | 2023-12-14 | 10:19:55 | | 355 | 2023-12-14 | 10:19:54 | | 354 | 2023-12-14 | 10:19:53 | | 353 | 2023-12-14 | 10:19:52 | | 352 | 2023-12-14 | 10:19:51 | +-----+------------+----------+ 10 rows in set (0.00 sec) As you can see, the last record in the backup data was written at 2023-12-14 10:20:00, and the virtual machine snapshot completion time during the earlier backup was exactly 10:20:21. Data Recovery Scenario 2: MySQL Full Database Recovery This scenario mostly occurs when the host environment is normal, but the database has problems. In this case, there are many operation methods to choose from in Veeam for recovery. Let‚Äôs first look at the most comfortable operation method from a backup administrator‚Äôs perspect","date":"2023-12-11","objectID":"/en/2023/12/mysql-backup-and-restore/:3:0","tags":["MySQL","VBR","Backup"],"title":"MySQL Backup and Restore Best Practices with Veeam","uri":"/en/2023/12/mysql-backup-and-restore/"},{"categories":[],"content":"Summary When using Veeam for MySQL backup, if your environment only has the InnoDB engine, then you don‚Äôt need to consider any special handling operations during the backup process at all. You can directly use image-level snapshot backups to perfectly handle various MySQL backup and recovery scenarios. When your environment has the MyISAM engine, you have two options: one is to use Veeam Agent to let Veeam Agent handle locking and unlocking operations, and the other is to manually add locking and unlocking operations before and after snapshots through the script functionality in virtual machine backup application-aware processing. When your environment has other types of storage engines, I recommend that youÊúÄÂ•Ω use a script to pause the database and perform cold backup. While this will bring minute-level brief downtime, it ensures data consistency. The above are the best practices for Veeam backup and recovery of MySQL. Welcome to follow my blog to learn more about Veeam backup technologies. ","date":"2023-12-11","objectID":"/en/2023/12/mysql-backup-and-restore/:4:0","tags":["MySQL","VBR","Backup"],"title":"MySQL Backup and Restore Best Practices with Veeam","uri":"/en/2023/12/mysql-backup-and-restore/"},{"categories":[],"content":"Just yesterday, Veeam officially GA‚Äôd the important updates for their entire data protection platform product line in the second half of this year. Almost every product has been updated with a new version. If you‚Äôre a Veeam power user, when you visit your Veeam homepage at https://my.veeam.com, you‚Äôll see a full screen where all products show ‚ÄúNew‚Äù status - these are all newly available versions released this week for download. The most important part of this product update is certainly the v12.1 update of the flagship VDP platform. Less than a year after the last major version v12 update, the Veeam R\u0026D team has delivered v12.1, which adds new features second only to a major version update. The most dazzling aspect is this year‚Äôs super-hot AI large model technology, which has been integrated into backup, recovery, disaster recovery, and even daily operations to enhance the backup system‚Äôs capabilities. You could say this update makes your data protection platform smarter. ","date":"2023-12-07","objectID":"/en/2023/12/vdp23h2-update/:0:0","tags":["VDP","VBR","Backup"],"title":"Veeam's Major H2 2023 Product Line Update","uri":"/en/2023/12/vdp23h2-update/"},{"categories":[],"content":"Major Feature Updates ","date":"2023-12-07","objectID":"/en/2023/12/vdp23h2-update/:1:0","tags":["VDP","VBR","Backup"],"title":"Veeam's Major H2 2023 Product Line Update","uri":"/en/2023/12/vdp23h2-update/"},{"categories":[],"content":"Network Security Detection and Discovery Inline Streaming Malware Detection - During the backup data transmission process, content analysis is performed on the data stream, and it can be compared and analyzed with known historical data stream states to determine the state change of data blocks from unencrypted to encrypted. Using the Veeam-trained AI model built into the product, it distinguishes malicious encryption behaviors and detects malicious attack signals. Suspicious File System Behavior Detection - Unlike streaming analysis, after data backup is completed, for the backed-up file system, through Index indexing technology, it quickly scans and analyzes known malware extensions, ransomware notices, and malware indicators. This analysis technology can also perform historical backup data comparisons, further analyzing through data activities at different times to achieve suspicious behavior judgment. This technology built by Veeam includes virus definition databases similar to antivirus software vendors and supports online and offline virus database updates. Early Threat Detection - A completely new Incident API has been opened for integration with third-party EDR tools, including current mainstream NDR, MDR, XDR, etc. Once attack signals are discovered in other systems, these third-party systems can sound the alarm and notify the backup system to ‚Äúclose the door and beat the dog.‚Äù ","date":"2023-12-07","objectID":"/en/2023/12/vdp23h2-update/:1:1","tags":["VDP","VBR","Backup"],"title":"Veeam's Major H2 2023 Product Line Update","uri":"/en/2023/12/vdp23h2-update/"},{"categories":[],"content":"Enhanced Ransomware Incident Recovery Response Capabilities YARA Engine Scanning - In addition to using antivirus software to scan backup archives, this update also adds the industry-popular YARA engine, which makes scanning malware more convenient and efficient. At the same time, this engine‚Äôs scanning is smarter, providing 3 different scanning modes. Avoid Secondary Infection - Based on tracking different events‚Äô ransomware behaviors, Veeam has built-in important crawler markers for malicious infections. In the graphical interface, you can clearly see which archives have infection risks and which are safe. During recovery, you can quickly select clean restore points to avoid secondary infection. Event Forwarding Capability - Integrated standard Syslog service capabilities, which can forward most events to Syslog systems for further response and analysis. ","date":"2023-12-07","objectID":"/en/2023/12/vdp23h2-update/:1:2","tags":["VDP","VBR","Backup"],"title":"Veeam's Major H2 2023 Product Line Update","uri":"/en/2023/12/vdp23h2-update/"},{"categories":[],"content":"Ensuring Security and Compliance Four-Eyes Authorization - Two-person four-eyes, also called A-B role dual authorization, this is a traditional security process in IT. In backup systems, Veeam has also introduced such security management methods. For important operations, A-B roles need to jointly authorize to complete them. KMS Key Management System Integration - Eliminate the insecurity of manual password management and use key management systems for data encryption and decryption. Veeam supports industry mainstream KMS key management systems for backup data encryption through the standard KMIP 1.4 protocol, avoiding backup data leakage risks. Backup System Security Compliance Monitoring - Added more than 20 security self-checks. This part is an enhancement of v12 capabilities. The backup system will self-check security and regularly send security reports to customers to ensure the entire security architecture meets requirements and has not been compromised. Veeam Threat Center - A brand-new center panel display that directly and intuitively displays the 3-2-1-1-0 best practices on the console. Take a look every morning when you come to work, and you‚Äôll know whether your data is secure now. ","date":"2023-12-07","objectID":"/en/2023/12/vdp23h2-update/:1:3","tags":["VDP","VBR","Backup"],"title":"Veeam's Major H2 2023 Product Line Update","uri":"/en/2023/12/vdp23h2-update/"},{"categories":[],"content":"Other Major Updates Object Storage Backup - New member of unstructured data backup, especially cloud-native applications, image hosting, intelligent video monitoring systems, static website hosting, and various other object storage usage scenarios. Now the Veeam platform can backup and restore this data. CDP Capability Enhancement - Both performance and functionality have been greatly improved. Laboratory data shows that a single VBR supports second-level real-time replication of about 7000 VMs, achieving continuous data protection without pressure. And v12.1‚Äôs CDP also supports Veeam‚Äôs widely acclaimed regular features such as file-level recovery, application object recovery, and fully automated data lab recovery verification. More importantly, the streaming malware detection system added in v12.1 can also work here. After discovering IO exceptions, it can restore to historical time points with second-level precision, greatly reducing data loss. Veeam AI Assistant - Built-in large model GPT, this large model is trained based on Veeam‚Äôs official website operation manuals, specializing in various incomprehensions. If you get the software and don‚Äôt know how to use it, the first thing is to open the assistant and ask questions. ","date":"2023-12-07","objectID":"/en/2023/12/vdp23h2-update/:1:4","tags":["VDP","VBR","Backup"],"title":"Veeam's Major H2 2023 Product Line Update","uri":"/en/2023/12/vdp23h2-update/"},{"categories":[],"content":"Other Updates Let me talk about some of my favorite small updates. Instant Disk Publishing - Actually, this is the previous data integration API, which has now become an instant disk recovery that can be directly operated in the graphical interface. This way, any Veeam disk image archive can be directly mounted to any Windows and Linux machines. After mounting, data recovery, data mining, data analysis, and other operations can be performed. Data Lab Lite Version - A lightweight data lab specifically designed for security scanning and YARA scanning, which can be used even without a virtualization environment. Instant PostgreSQL Database Recovery - The second version of Veeam Explorer for PostgreSQL, which completes Veeam‚Äôs signature capability. Linux Agent Deployer - Deployment gadget that can centrally manage Linux Agents without entering passwords on VBR. Veeam Plugin Adds DB2 Support - Supports DB2 on both Linux and AIX, and can support complex architectures such as single-node, HADR architecture, IBM PowerHA, TSA, and Pacemaker. Veeam Explorer Adds SAP HANA Support - Full graphical operation for SAP HANA is here. Backup and recovery can now be easily performed in the VBR console. Enterprise Manager Chinese Version Support - The console for daily use, Enterprise Manager, is now completely in Chinese version. It can manage, backup, recover, and even provide self-service. Everything that can and cannot be done is here. ","date":"2023-12-07","objectID":"/en/2023/12/vdp23h2-update/:2:0","tags":["VDP","VBR","Backup"],"title":"Veeam's Major H2 2023 Product Line Update","uri":"/en/2023/12/vdp23h2-update/"},{"categories":[],"content":"Supported Platform Updates Full feature support for VMware vSphere 8.0 U2 Full feature support for VMware Cloud Director 10.5 Full feature support for Microsoft Windows 11 23H2 version Linux part, full support for Debian 12.1, 12.2, Fedora 39, RHEL 8.9, 9.2 and 9.3, Ubuntu 23.10 macOS 14 Sonoma support There are many other updates that I won‚Äôt list all here. Interested friends can go to the official website to see the detailed What‚Äôs New manual, or you can directly download the trial version to try it out. ","date":"2023-12-07","objectID":"/en/2023/12/vdp23h2-update/:3:0","tags":["VDP","VBR","Backup"],"title":"Veeam's Major H2 2023 Product Line Update","uri":"/en/2023/12/vdp23h2-update/"},{"categories":[],"content":"Series Table of Contents: VRO Fundamentals (Part 1) - Introduction VRO Fundamentals (Part 2) - Installation and Deployment VRO Fundamentals (Part 3) - Basic Components ¬∑ Part 1 VRO Fundamentals (Part 4) - Basic Components ¬∑ Part 2 VRO Fundamentals (Part 5) - First Steps to Successful Disaster Recovery Planning VRO Fundamentals (Part 6) - Data Labs VRO Fundamentals (Part 7) - Plan Steps ¬∑ Part 1 VRO Fundamentals (Part 8) - Plan Steps ¬∑ Part 2 VRO Fundamentals (Part 9) - Document Template Analysis VRO Fundamentals (Part 10) - Implementing Fully Automated Container Disaster Recovery with VRO and K10 For this final article in the series, I‚Äôll walk you through a practical implementation of using VRO to achieve fully automated container disaster recovery with K10, step by step. ","date":"2023-11-10","objectID":"/en/2023/11/vro-v6-guide-10/:1:0","tags":["VAO","VRO"],"title":"VRO Fundamentals (Part 10) - Implementing Fully Automated Container Disaster Recovery with VRO and K10","uri":"/en/2023/11/vro-v6-guide-10/"},{"categories":[],"content":"Basic Lab Environment Configuration vSphere 7.0 Kubernetes cluster running on vSphere VMs Kasten K10 installed and configured for container backup VRO v6 deployed and integrated with VBR v12 ","date":"2023-11-10","objectID":"/en/2023/11/vro-v6-guide-10/:2:0","tags":["VAO","VRO"],"title":"VRO Fundamentals (Part 10) - Implementing Fully Automated Container Disaster Recovery with VRO and K10","uri":"/en/2023/11/vro-v6-guide-10/"},{"categories":[],"content":"Introduction to VRO and K10 Integration As containerized applications become increasingly critical to business operations, the need for robust disaster recovery solutions for Kubernetes environments has never been more important. Veeam Recovery Orchestrator (VRO) v6, combined with Kasten K10, provides a comprehensive solution for automated container disaster recovery that extends Veeam‚Äôs proven DR capabilities to Kubernetes workloads. ","date":"2023-11-10","objectID":"/en/2023/11/vro-v6-guide-10/:3:0","tags":["VAO","VRO"],"title":"VRO Fundamentals (Part 10) - Implementing Fully Automated Container Disaster Recovery with VRO and K10","uri":"/en/2023/11/vro-v6-guide-10/"},{"categories":[],"content":"Why Combine VRO with K10? K10 excels at Kubernetes-native backup and recovery, providing application-consistent backups, policy-based automation, and multi-cloud mobility. However, when it comes to enterprise-grade disaster recovery orchestration, compliance reporting, and automated testing, VRO brings additional capabilities that are essential for production environments: Automated DR Orchestration: VRO can orchestrate complex multi-step recovery processes Comprehensive Testing: Built-in DataLabs for non-disruptive DR testing Compliance Reporting: Automated documentation generation for audit requirements Integration with Existing Infrastructure: Seamless integration with vSphere and traditional VM workloads ","date":"2023-11-10","objectID":"/en/2023/11/vro-v6-guide-10/:3:1","tags":["VAO","VRO"],"title":"VRO Fundamentals (Part 10) - Implementing Fully Automated Container Disaster Recovery with VRO and K10","uri":"/en/2023/11/vro-v6-guide-10/"},{"categories":[],"content":"Prerequisites for Integration Before implementing VRO with K10, ensure you have the following components in place: ","date":"2023-11-10","objectID":"/en/2023/11/vro-v6-guide-10/:4:0","tags":["VAO","VRO"],"title":"VRO Fundamentals (Part 10) - Implementing Fully Automated Container Disaster Recovery with VRO and K10","uri":"/en/2023/11/vro-v6-guide-10/"},{"categories":[],"content":"1. Kubernetes Cluster Requirements # Verify cluster readiness kubectl cluster-info kubectl get nodes kubectl get storageclass ","date":"2023-11-10","objectID":"/en/2023/11/vro-v6-guide-10/:4:1","tags":["VAO","VRO"],"title":"VRO Fundamentals (Part 10) - Implementing Fully Automated Container Disaster Recovery with VRO and K10","uri":"/en/2023/11/vro-v6-guide-10/"},{"categories":[],"content":"2. K10 Installation and Configuration Ensure K10 is properly installed with these key components: K10 dashboard accessible Storage profiles configured Backup policies in place Export location set up ","date":"2023-11-10","objectID":"/en/2023/11/vro-v6-guide-10/:4:2","tags":["VAO","VRO"],"title":"VRO Fundamentals (Part 10) - Implementing Fully Automated Container Disaster Recovery with VRO and K10","uri":"/en/2023/11/vro-v6-guide-10/"},{"categories":[],"content":"3. VRO Infrastructure VRO v6 server deployed Integration with VBR v12 configured Appropriate licensing for container workloads Network connectivity between VRO and Kubernetes cluster ","date":"2023-11-10","objectID":"/en/2023/11/vro-v6-guide-10/:4:3","tags":["VAO","VRO"],"title":"VRO Fundamentals (Part 10) - Implementing Fully Automated Container Disaster Recovery with VRO and K10","uri":"/en/2023/11/vro-v6-guide-10/"},{"categories":[],"content":"Architecture Overview The integration architecture follows this pattern: [Kubernetes Cluster] ‚Üê‚Üí [K10] ‚Üê‚Üí [Object Storage] ‚Üê‚Üí [VRO] ‚Üê‚Üí [vSphere/VBR] ‚Üì ‚Üì ‚Üì ‚Üì Container K10 Backup Backup VRO Orchestration Workloads Operations Storage and Automation ","date":"2023-11-10","objectID":"/en/2023/11/vro-v6-guide-10/:5:0","tags":["VAO","VRO"],"title":"VRO Fundamentals (Part 10) - Implementing Fully Automated Container Disaster Recovery with VRO and K10","uri":"/en/2023/11/vro-v6-guide-10/"},{"categories":[],"content":"Step-by-Step Implementation ","date":"2023-11-10","objectID":"/en/2023/11/vro-v6-guide-10/:6:0","tags":["VAO","VRO"],"title":"VRO Fundamentals (Part 10) - Implementing Fully Automated Container Disaster Recovery with VRO and K10","uri":"/en/2023/11/vro-v6-guide-10/"},{"categories":[],"content":"Step 1: Configure K10 Backup Export First, ensure K10 can export backups to a location accessible by VRO: # Example K10 export profile configuration apiVersion: config.kio.kasten.io/v1alpha1 kind: ExportProfile metadata: name: vro-storage-profile namespace: kasten-io spec: type: ObjectStore objectStore: type: S3 name: vro-s3-store region: us-east-1 bucket: k10-backups accessKey: \u003cyour-access-key\u003e secretKey: \u003cyour-secret-key\u003e ","date":"2023-11-10","objectID":"/en/2023/11/vro-v6-guide-10/:6:1","tags":["VAO","VRO"],"title":"VRO Fundamentals (Part 10) - Implementing Fully Automated Container Disaster Recovery with VRO and K10","uri":"/en/2023/11/vro-v6-guide-10/"},{"categories":[],"content":"Step 2: Set Up VRO Integration Configure VRO to recognize K10 backup locations: Add Storage Location in VRO Navigate to Infrastructure ‚Üí Storage Add new object storage location pointing to K10 export bucket Configure credentials and connection settings Create Container Resource Group Create a new resource group for container workloads Map Kubernetes namespaces to VRO resource groups Define recovery objectives (RPO/RTO) ","date":"2023-11-10","objectID":"/en/2023/11/vro-v6-guide-10/:6:2","tags":["VAO","VRO"],"title":"VRO Fundamentals (Part 10) - Implementing Fully Automated Container Disaster Recovery with VRO and K10","uri":"/en/2023/11/vro-v6-guide-10/"},{"categories":[],"content":"Step 3: Define Orchestration Plan Create a comprehensive orchestration plan for container DR: ","date":"2023-11-10","objectID":"/en/2023/11/vro-v6-guide-10/:6:3","tags":["VAO","VRO"],"title":"VRO Fundamentals (Part 10) - Implementing Fully Automated Container Disaster Recovery with VRO and K10","uri":"/en/2023/11/vro-v6-guide-10/"},{"categories":[],"content":"Step 4: Configure Automated Testing Set up regular DR testing using VRO DataLabs: Create DataLab Environment Isolated network segment for testing Clone of production storage Automated environment provisioning Define Test Scenarios Application functionality tests Data integrity verification Performance benchmarking Security validation ","date":"2023-11-10","objectID":"/en/2023/11/vro-v6-guide-10/:6:4","tags":["VAO","VRO"],"title":"VRO Fundamentals (Part 10) - Implementing Fully Automated Container Disaster Recovery with VRO and K10","uri":"/en/2023/11/vro-v6-guide-10/"},{"categories":[],"content":"Step 5: Implement Monitoring and Alerting Configure comprehensive monitoring: # Example monitoring configuration apiVersion: v1 kind: ConfigMap metadata: name: vro-monitoring namespace: monitoring data: prometheus.yml: | scrape_configs: - job_name: 'vro-metrics' static_configs: - targets: ['vro-server:9100'] - job_name: 'k10-metrics' static_configs: - targets: ['k10-service:8080'] ","date":"2023-11-10","objectID":"/en/2023/11/vro-v6-guide-10/:6:5","tags":["VAO","VRO"],"title":"VRO Fundamentals (Part 10) - Implementing Fully Automated Container Disaster Recovery with VRO and K10","uri":"/en/2023/11/vro-v6-guide-10/"},{"categories":[],"content":"Advanced Configuration Options ","date":"2023-11-10","objectID":"/en/2023/11/vro-v6-guide-10/:7:0","tags":["VAO","VRO"],"title":"VRO Fundamentals (Part 10) - Implementing Fully Automated Container Disaster Recovery with VRO and K10","uri":"/en/2023/11/vro-v6-guide-10/"},{"categories":[],"content":"Multi-Cloud Recovery Scenarios VRO enables sophisticated multi-cloud recovery strategies: Cross-Cloud Restore Restore from on-premises to cloud Cloud-to-cloud disaster recovery Hybrid cloud scenarios Application Mobility Migrate applications between regions Blue-green deployment strategies A/B testing environments ","date":"2023-11-10","objectID":"/en/2023/11/vro-v6-guide-10/:7:1","tags":["VAO","VRO"],"title":"VRO Fundamentals (Part 10) - Implementing Fully Automated Container Disaster Recovery with VRO and K10","uri":"/en/2023/11/vro-v6-guide-10/"},{"categories":[],"content":"Custom Script Integration Extend VRO capabilities with custom scripts: # Example PowerShell script for application verification param( [string]$Namespace, [string]$AppName ) # Verify pod status $pods = kubectl get pods -n $Namespace -l app=$AppName -o json $runningPods = ($pods.items | Where-Object { $_.status.phase -eq \"Running\" }).Count if ($runningPods -eq 0) { Write-Error \"No running pods found for application $AppName\" exit 1 } # Verify service connectivity $service = kubectl get svc $AppName -n $Namespace -o json if (-not $service) { Write-Error \"Service not found for application $AppName\" exit 1 } Write-Host \"Application $AppName verification successful\" ","date":"2023-11-10","objectID":"/en/2023/11/vro-v6-guide-10/:7:2","tags":["VAO","VRO"],"title":"VRO Fundamentals (Part 10) - Implementing Fully Automated Container Disaster Recovery with VRO and K10","uri":"/en/2023/11/vro-v6-guide-10/"},{"categories":[],"content":"Best Practices and Recommendations ","date":"2023-11-10","objectID":"/en/2023/11/vro-v6-guide-10/:8:0","tags":["VAO","VRO"],"title":"VRO Fundamentals (Part 10) - Implementing Fully Automated Container Disaster Recovery with VRO and K10","uri":"/en/2023/11/vro-v6-guide-10/"},{"categories":[],"content":"1. Backup Strategy Frequency: Align K10 backup policies with business RPO requirements Retention: Implement appropriate retention policies for compliance Testing: Regular validation of backup integrity ","date":"2023-11-10","objectID":"/en/2023/11/vro-v6-guide-10/:8:1","tags":["VAO","VRO"],"title":"VRO Fundamentals (Part 10) - Implementing Fully Automated Container Disaster Recovery with VRO and K10","uri":"/en/2023/11/vro-v6-guide-10/"},{"categories":[],"content":"2. Recovery Planning Documentation: Maintain comprehensive runbooks for DR procedures Automation: Minimize manual intervention in recovery processes Validation: Automated post-recovery verification ","date":"2023-11-10","objectID":"/en/2023/11/vro-v6-guide-10/:8:2","tags":["VAO","VRO"],"title":"VRO Fundamentals (Part 10) - Implementing Fully Automated Container Disaster Recovery with VRO and K10","uri":"/en/2023/11/vro-v6-guide-10/"},{"categories":[],"content":"3. Performance Optimization Resource Allocation: Ensure adequate resources for backup/restore operations Network Optimization: Optimize network paths for data transfer Storage Planning: Choose appropriate storage classes for different workloads ","date":"2023-11-10","objectID":"/en/2023/11/vro-v6-guide-10/:8:3","tags":["VAO","VRO"],"title":"VRO Fundamentals (Part 10) - Implementing Fully Automated Container Disaster Recovery with VRO and K10","uri":"/en/2023/11/vro-v6-guide-10/"},{"categories":[],"content":"Troubleshooting Common Issues ","date":"2023-11-10","objectID":"/en/2023/11/vro-v6-guide-10/:9:0","tags":["VAO","VRO"],"title":"VRO Fundamentals (Part 10) - Implementing Fully Automated Container Disaster Recovery with VRO and K10","uri":"/en/2023/11/vro-v6-guide-10/"},{"categories":[],"content":"Backup Failures K10 Backup Issues Check K10 logs: kubectl logs -n kasten-io deployment/k10 Verify storage connectivity Validate resource quotas VRO Integration Problems Review VRO server logs Check credential configuration Validate network connectivity ","date":"2023-11-10","objectID":"/en/2023/11/vro-v6-guide-10/:9:1","tags":["VAO","VRO"],"title":"VRO Fundamentals (Part 10) - Implementing Fully Automated Container Disaster Recovery with VRO and K10","uri":"/en/2023/11/vro-v6-guide-10/"},{"categories":[],"content":"Recovery Challenges Application Start-up Issues Verify pod readiness probes Check resource constraints Validate configuration maps Data Integrity Concerns Implement checksum verification Use application-level validation Document data consistency points ","date":"2023-11-10","objectID":"/en/2023/11/vro-v6-guide-10/:9:2","tags":["VAO","VRO"],"title":"VRO Fundamentals (Part 10) - Implementing Fully Automated Container Disaster Recovery with VRO and K10","uri":"/en/2023/11/vro-v6-guide-10/"},{"categories":[],"content":"Compliance and Governance VRO enhances compliance posture through: Automated Documentation DR plan execution reports Test execution history Compliance audit trails Policy Enforcement Immutable backup policies Automated retention management Access control enforcement ","date":"2023-11-10","objectID":"/en/2023/11/vro-v6-guide-10/:10:0","tags":["VAO","VRO"],"title":"VRO Fundamentals (Part 10) - Implementing Fully Automated Container Disaster Recovery with VRO and K10","uri":"/en/2023/11/vro-v6-guide-10/"},{"categories":[],"content":"Future Considerations As container environments evolve, consider these enhancements: GitOps Integration Infrastructure as code for DR configurations Automated policy updates Version control for DR plans AI/ML Integration Predictive failure analysis Automated optimization recommendations Intelligent resource scaling ","date":"2023-11-10","objectID":"/en/2023/11/vro-v6-guide-10/:11:0","tags":["VAO","VRO"],"title":"VRO Fundamentals (Part 10) - Implementing Fully Automated Container Disaster Recovery with VRO and K10","uri":"/en/2023/11/vro-v6-guide-10/"},{"categories":[],"content":"Conclusion The integration of VRO v6 with Kasten K10 provides enterprise organizations with a comprehensive solution for container disaster recovery. This combination leverages K10‚Äôs Kubernetes-native capabilities with VRO‚Äôs enterprise-grade orchestration, testing, and compliance features. Key benefits achieved: Fully Automated DR: Minimal manual intervention required Comprehensive Testing: Regular validation of DR capabilities Compliance Ready: Automated documentation and reporting Multi-Cloud Support: Flexible recovery options across environments Enterprise Integration: Seamless integration with existing Veeam infrastructure As container adoption continues to grow, having a robust disaster recovery strategy becomes increasingly critical. The VRO and K10 integration provides the foundation needed to ensure business continuity for containerized applications while maintaining the governance and compliance requirements expected in enterprise environments. This concludes our VRO Fundamentals series. I hope these articles have provided valuable insights into implementing enterprise-grade disaster recovery with Veeam Recovery Orchestrator. Thank you for following along, and feel free to reach out with any questions or feedback! ","date":"2023-11-10","objectID":"/en/2023/11/vro-v6-guide-10/:12:0","tags":["VAO","VRO"],"title":"VRO Fundamentals (Part 10) - Implementing Fully Automated Container Disaster Recovery with VRO and K10","uri":"/en/2023/11/vro-v6-guide-10/"},{"categories":[],"content":"In our previous article, we set up the basic Kubernetes environment. Now let‚Äôs dive deep into the backup and restore process. ","date":"2023-11-05","objectID":"/en/2023/11/kubernetes-pvc-instant-recovery-02/:0:0","tags":["VMware","Kubernetes","Instant Recovery"],"title":"Instant Recovery: Deep Dive into Kubernetes Container Instant Recovery Technology (Part 2) - Backup and Restore","uri":"/en/2023/11/kubernetes-pvc-instant-recovery-02/"},{"categories":[],"content":"K10 Installation and Configuration First up is K10 installation - nothing particularly special here. Just follow the official installation guide from the website and use Helm for installation. The only thing to note is that for instant recovery support, K10 needs to be version 6.0.8 or higher, while VBR requires version 12 or above. Here are the K10 installation parameters I used for your reference: # Update Helm repository helm repo update \u0026\u0026 helm fetch kasten/k10 # Create Namespace kubectl create ns kasten-io # Install K10 helm install k10 kasten/k10 --namespace=kasten-io \\ --set global.airgapped.repository=ccr.ccs.tencentyun.com/kasten \\ --set metering.mode=airgap \\ --set auth.tokenAuth.enabled=true \\ --set externalGateway.create=true After installation, you can access the K10 dashboard through the LoadBalancer for further configuration. For K10 web access, I configured token authentication. Since we‚Äôre using version 1.25, you need to follow these steps to get the token: # Create temporary token kubectl --namespace kasten-io create token k10-k10-token --duration=24h # Use this token to create secret for k10-k10 account desired_token_secret_name=k10-k10-token kubectl apply --namespace=kasten-io --filename=- \u003c\u003cEOF apiVersion: v1 kind: Secret type: kubernetes.io/service-account-token metadata: name: ${desired_token_secret_name} annotations: kubernetes.io/service-account.name: \"k10-k10\" EOF kubectl get secret ${desired_token_secret_name} --namespace kasten-io -ojsonpath=\"{.data.token}\" | base64 --decode In this demo, K10 will use vSphere virtual disk snapshots for data backup operations, while utilizing VBR‚Äôs Repository as the storage backend. Once you‚Äôre on the K10 dashboard, find Location in the Profile section on the right side. We need to configure K10 with both an S3 object storage and a VBR Repository. The S3 object storage is used for storing metadata and YAML configurations, while the VBR repository stores vmdk data backup, which is essentially the PVC backup. Under Profile, you‚Äôll also find Infrastructure. Use the New Profile button to add a new vCenter connection. The configuration is very straightforward - almost identical to adding vCenter to any device. Just need the three essentials: IP address, username, and password. ","date":"2023-11-05","objectID":"/en/2023/11/kubernetes-pvc-instant-recovery-02/:1:0","tags":["VMware","Kubernetes","Instant Recovery"],"title":"Instant Recovery: Deep Dive into Kubernetes Container Instant Recovery Technology (Part 2) - Backup and Restore","uri":"/en/2023/11/kubernetes-pvc-instant-recovery-02/"},{"categories":[],"content":"Backup Configuration Next, let‚Äôs configure the backup policy. When using vSphere CSI, the backup policy is slightly different. In the Snapshot Retention section, you‚Äôll notice that K10 automatically detects this is VMware CSI and provides VMware platform‚Äôs best practices for snapshot retention. It also indicates that K10 doesn‚Äôt need to retain local snapshots, so I set the Snapshot retention to 0. In the Export Location Profile, you can select Wasabi S3 object storage as the primary backup Export target. Actually, the S3 doesn‚Äôt store vmdk data here - it only stores application metadata and YAML configurations. The VBR Location Profile is unavailable at this stage. After enabling Enable Backups via Snapshot Exports, a new option appears: Export snapshot data in block mode. Check this option, and you can select the Veeam Backup Location Profile. Other configurations are pretty standard. Here‚Äôs what the configured policy looks like: After the backup runs automatically, you can check the detailed backup Action information from the Dashboard. The VBR export part is handled by Kanister: In VBR, you can see that K10‚Äôs Policy and K10‚Äôs backup archives have also appeared: For more information about K10 operations in VBR, you can refer to the official Veeam documentation. ","date":"2023-11-05","objectID":"/en/2023/11/kubernetes-pvc-instant-recovery-02/:2:0","tags":["VMware","Kubernetes","Instant Recovery"],"title":"Instant Recovery: Deep Dive into Kubernetes Container Instant Recovery Technology (Part 2) - Backup and Restore","uri":"/en/2023/11/kubernetes-pvc-instant-recovery-02/"},{"categories":[],"content":"Instant Recovery Alright, now we‚Äôre getting to the main event - using K10 for container instant recovery. The instant recovery is performed in the K10 console. In K10‚Äôs graphical interface, find the backed-up archive and click the restore button. You‚Äôll see the previously backed-up restore points. Just like other container restores, after selecting a restore point, a restore settings window will pop up. K10 can automatically detect vSphere CSI support, and you‚Äôll see the Enable Instant Recovery option in the restore options. Simply select this option, and K10 will automatically use this capability during the restore process. Let‚Äôs make some basic configurations, like changing the namespace name to create a new application, then click restore. The instant recovery task will begin. After a short wait, you can see that the container has been restored. At this point, if you check VBR, you‚Äôll see that a new FCD instant recovery task has started and completed. The data is still mounted to vSphere through Veeam‚Äôs classic vPower technology. Let‚Äôs use kubectl get pv,pvc to check the current data volume status. From Kubernetes‚Äô perspective, it‚Äôs completely unaware - a seamless restore. Now, if you check the container volume situation in vSphere, you‚Äôll find that the classic vPower technology-mounted NFS volume is already being used by the container‚Äôs PV and PVC. Next, we still need to use the Migrate to Production feature, leveraging either Storage vMotion or Veeam Quick Migration functionality, to migrate the virtual disk files to the virtualization platform. The system will automatically use storage vMotion or quick migration to complete the data migration. The entire migration process happens while the k8s application is online and running normally - completely transparent. After migration is complete, you can see in the vSphere Client that the container volume is now running on vSAN. And that‚Äôs it for container instant recovery! For those who enjoyed this, go ahead and try it out yourself. And don‚Äôt forget to hit that like, follow, and share button! ","date":"2023-11-05","objectID":"/en/2023/11/kubernetes-pvc-instant-recovery-02/:3:0","tags":["VMware","Kubernetes","Instant Recovery"],"title":"Instant Recovery: Deep Dive into Kubernetes Container Instant Recovery Technology (Part 2) - Backup and Restore","uri":"/en/2023/11/kubernetes-pvc-instant-recovery-02/"},{"categories":[],"content":"Do you remember last year when I introduced VMware‚Äôs FCD disks and experimented with instant data recovery on K8s using VBR‚Äôs Instant Disk Recovery? This year, this feature has finally been officially released in the latest K10 in collaboration with VBR. Today, let me walk you through a demo to see how it works. My demo will be split into two parts: the first part will guide you through building a K3S cluster that can use vSphere Cloud Native Storage, and then in the second part, we‚Äôll explore K10‚Äôs backup and recovery capabilities. ","date":"2023-11-02","objectID":"/en/2023/11/kubernetes-pvc-instant-recovery-01/:0:0","tags":["VMware","Kubernetes","Instant Recovery"],"title":"Instant Recovery: A Deep Dive into Kubernetes Container Instant Recovery Technology (Part 1) - Building the Foundation Environment","uri":"/en/2023/11/kubernetes-pvc-instant-recovery-01/"},{"categories":[],"content":"vSphere CSI Installation and Configuration Using the Instant Recovery feature is inseparable from vSphere. The first prerequisite is that the Kubernetes Storage Class must use vSphere Cloud Native Storage (CNS). For detailed vSphere CSI configuration, you can refer to the official VMware documentation ","date":"2023-11-02","objectID":"/en/2023/11/kubernetes-pvc-instant-recovery-01/:1:0","tags":["VMware","Kubernetes","Instant Recovery"],"title":"Instant Recovery: A Deep Dive into Kubernetes Container Instant Recovery Technology (Part 1) - Building the Foundation Environment","uri":"/en/2023/11/kubernetes-pvc-instant-recovery-01/"},{"categories":[],"content":"k3s Node/Cluster Installation and Configuration For this demo, my experimental environment is deployed on a NUC11 Panther Canyon in my home lab. This NUC is configured with 64GB of memory and one NVME SSD hard drive, running vSphere 7u3. In this environment, I‚Äôm using the lightweight K3S version 1.25s1 for Kubernetes, installed on Ubuntu 20.04, configured as a single-node experimental environment. By default, K3S deployment disables most Cloud Providers, so I need to adjust the K3S installation parameters and additionally install VMware Cloud Manager. # Installation command curl -sfL https://get.k3s.io | INSTALL_K3S_VERSION=\"v1.25.8+k3s1\" INSTALL_K3S_EXEC=\"server --disable-cloud-controller --disable=servicelb --disable=traefik --disable-network-policy --disable=local-storage\" sh -s - After installation completes, don‚Äôt rush to start it yet. Actually, we‚Äôre still missing some parameters that need to be configured in the /etc/systemd/system/k3s.service file. Open the k3s.service file with a VI editor, find ExecStart in the [Service] section, and add two additional startup parameters: --kubelet-arg=cloud-provider=external and --kubelet-arg=provider-id=vsphere://$master_node_id. After adding them, the final part of the k3s.service file looks like this: ExecStart=/usr/local/bin/k3s \\ server \\ '--disable-cloud-controller' \\ '--disable=servicelb' \\ '--disable=traefik' \\ '--disable-network-policy' \\ '--disable=local-storage' \\ '--kubelet-arg=cloud-provider=external' \\ '--kubelet-arg=provider-id=vsphere://$master_node_id' \\ After modification, you can reload the k3s service and then restart it. sudo systemctl daemon-reload sudo service k3s restart Afterward, you can access the cluster normally through the config file provided by k3s. export KUBECONFIG=/etc/rancher/k3s/k3s.yaml kubectl get pods --all-namespaces ","date":"2023-11-02","objectID":"/en/2023/11/kubernetes-pvc-instant-recovery-01/:1:1","tags":["VMware","Kubernetes","Instant Recovery"],"title":"Instant Recovery: A Deep Dive into Kubernetes Container Instant Recovery Technology (Part 1) - Building the Foundation Environment","uri":"/en/2023/11/kubernetes-pvc-instant-recovery-01/"},{"categories":[],"content":"vSphere CSI Installation Next, we need to mount the vSphere datastore for k3s to use. This requires preparing some configuration files - a total of 4 files, where 1 is a conf file and 3 are yaml files. They are as follows: vsphere-cloud-controller-manager.yaml csi-vsphere.conf vsphere-csi-driver.yaml storageclass.yaml vsphere-cloud-controller-manager.yaml File This file can be obtained as a template from the official Kubernetes GitHub repository. Different k8s versions have different templates. I‚Äôm using version 1.25, so I downloaded the corresponding file for 1.25: curl -O https://ghproxy/https://raw.githubusercontent.com/kubernetes/cloud-provider-vsphere/master/releases/v1.25/vsphere-cloud-controller-manager.yaml This file cannot be used directly after download; you need to modify the vCenter address and permission information inside it. The first part that needs modification is the stringData in the Secret, where you need to fill in the vCenter IP, username, and password according to the template example. Then the second part that needs modification is the content under data in the ConfigMap‚Äôs vsphere.conf, where you can see some information about vCenter. Additionally, if you cannot access gcr.io, you also need to modify the container image addresses in the DaemonSet. In my Tencent personal image repository, I‚Äôve already placed the 1.25.2 image at the following address: ccr.ccs.tencentyun.com/vsphere-csi/manager:v1.25.2 After modification, you can set this file aside for later use. csi-vsphere.conf File This file is used to create secret users under the vmware-system-csi namespace. The template can also be found on the official VMware website. Below is the content I modified for use in my demo: [Global] [VirtualCenter \"\u003cipaddress or fqdn\u003e\"] insecure-flag = \"true\" user = \"\u003caccount\u003e\" password = \"\u003cpassword\u003e\" port = \"443\" datacenters = \"\u003cdatacenter name\u003e\" vsphere-csi-driver.yaml File This file can also be obtained directly from VMware‚Äôs GitHub repository. The content inside doesn‚Äôt need modification after download and can be used directly. curl -O https://ghproxy/https://raw.githubusercontent.com/kubernetes-sigs/vsphere-csi-driver/v3.0.0/manifests/vanilla/vsphere-csi-driver.yaml However, if like me you cannot access gcr.io, you still need to modify the image addresses used in this file. You can use these from my Tencent personal image repository: ccr.ccs.tencentyun.com/vsphere-csi/csi-attacher:v4.2.0 ccr.ccs.tencentyun.com/vsphere-csi/csi-resizer:v1.7.0 ccr.ccs.tencentyun.com/vsphere-csi/driver:v3.0.0 ccr.ccs.tencentyun.com/vsphere-csi/livenessprobe:v2.9.0 ccr.ccs.tencentyun.com/vsphere-csi/syncer:v3.0.0 ccr.ccs.tencentyun.com/vsphere-csi/csi-provisioner:v3.4.0 ccr.ccs.tencentyun.com/vsphere-csi/csi-snapshotter:v6.2.1 ccr.ccs.tencentyun.com/vsphere-csi/csi-node-driver-registrar:v2.7.0 storageclass.yaml File Finally, we need to prepare the yaml file for the storage class. This template can also be found on the official VMware website. In my demo, I made some modifications to the file. kind: StorageClass apiVersion: storage.k8s.io/v1 metadata: name: standard annotations: storageclass.kubernetes.io/is-default-class: \"true\" provisioner: csi.vsphere.vmware.com parameters: datastoreurl: ds:///vmfs/volumes/578a0d70-0be672b6-a3f7-34e6d7803208/ This template only has two parts that need modification. One is the name field under metadata, which you can name as needed. The other is datastoreurl, which requires going to vCenter, finding the corresponding datastore, and looking for this information in the summary interface, as shown in the image. CSI Installation Alright, after preparing the above files, we can begin the installation. The entire installation process is relatively simple, with commands as follows: # Install ccm kubectl apply -f vsphere-cloud-controller-manager.yaml # Create csi management namespace kubectl create namespace vmware-system-csi # Disable scheduling kubectl taint nodes $nodeid node-role.kubernetes.io/control-pla","date":"2023-11-02","objectID":"/en/2023/11/kubernetes-pvc-instant-recovery-01/:1:2","tags":["VMware","Kubernetes","Instant Recovery"],"title":"Instant Recovery: A Deep Dive into Kubernetes Container Instant Recovery Technology (Part 1) - Building the Foundation Environment","uri":"/en/2023/11/kubernetes-pvc-instant-recovery-01/"},{"categories":[],"content":"Configure LoadBalancer In my demo, I also configured an additional local LoadBalancer to assign IP addresses to my applications. Here, I chose MetalLB. The installation is also very simple. In my environment, I used version 0.13.9, downloaded the yaml file from the official website, and then modified the image repository. curl -O https://ghproxy/https://raw.githubusercontent.com/metallb/metallb/v0.13.9/config/manifests/metallb-native.yaml The modified images also have versions in my Tencent image repository: ccr.ccs.tencentyun.com/vsphere-csi/metallb-controller:v0.13.9 ccr.ccs.tencentyun.com/vsphere-csi/metallb-speaker:v0.13.9 In addition to this standard LB application yaml, we also need an IP address configuration metallb-config.yaml. The template is also available on the official website, which I‚Äôve slightly modified: apiVersion: metallb.io/v1beta1 kind: IPAddressPool metadata: name: first-pool namespace: metallb-system spec: addresses: - 10.10.1.230-10.10.1.240 --- apiVersion: metallb.io/v1beta1 kind: L2Advertisement metadata: name: l2-config namespace: metallb-system spec: ipAddressPools: - first-pool Deploy using the kubectl apply command: # Deploy metallb kubectl apply -f metallb-native.yaml # Configure metallb kubectl apply -f metallb-config.yaml With this configuration complete, applications can be used directly. For K10, you only need to simply specify the externalGateway parameter as true, and metallb can automatically assign access addresses for K10, which is very convenient. That‚Äôs all for the foundation environment setup. In the next installment, we‚Äôll detail K10‚Äôs backup and instant recovery. ","date":"2023-11-02","objectID":"/en/2023/11/kubernetes-pvc-instant-recovery-01/:2:0","tags":["VMware","Kubernetes","Instant Recovery"],"title":"Instant Recovery: A Deep Dive into Kubernetes Container Instant Recovery Technology (Part 1) - Building the Foundation Environment","uri":"/en/2023/11/kubernetes-pvc-instant-recovery-01/"},{"categories":[],"content":"Series Table of Contents: VRO Basic Guide (Part 1) - Introduction VRO Basic Guide (Part 2) - Installation and Deployment VRO Basic Guide (Part 3) - Basic Components (Part 1) VRO Basic Guide (Part 4) - Basic Components (Part 2) VRO Basic Guide (Part 5) - First Steps to a Successful Disaster Recovery Plan VRO Basic Guide (Part 6) - Data Lab VRO Basic Guide (Part 7) - Plan Step (Part 1) VRO Basic Guide (Part 8) - Plan Step (Part 2) VRO Basic Guide (Part 9) - Document Template Analysis VRO Basic Guide (Part 10) - Using VRO with K10 for Complete Automated Container Disaster Recovery In this final part of the series, I‚Äôll introduce VRO‚Äôs documentation system. VRO can automatically generate all the system documentation needed for disaster recovery for administrators. The document content is automatically generated by the VRO system based on Orchestration Plan settings and execution. The power of the VRO documentation system lies in the fact that all content is automatically generated by the system based on configuration and runtime, so administrators only need to focus on their disaster recovery work, leaving all subsequent basic support and tedious document creation to VRO. Each document generated by VRO contains two parts. The first part is the Report Template defined by the disaster recovery administrator; the second part is the dynamic content generated by the system based on the Report Type. Regardless of the document type, the beginning part of each document will use the content defined in the Report Template, while the second part will automatically fill in relevant content based on different Report Types. Let‚Äôs first look at a practical example to understand what content comes from the Report Template and what is automatically generated based on the Report Type, as shown in the figure below: The left side shows a Readiness Check Report finally generated by VRO, while the right side shows the Report Template opened in an editor. As you can see, the content highlighted in the red box comes from the Report Template, while the latter part of the document on the left is content automatically generated based on this Report Type. ","date":"2023-10-31","objectID":"/en/2023/10/vro-v6-guide-09/:1:0","tags":["VRO"],"title":"VRO Basic Guide (Part 9) - Document Template Analysis","uri":"/en/2023/10/vro-v6-guide-09/"},{"categories":[],"content":"Report Type First, let‚Äôs talk about Report Type. If you‚Äôre clever, you may have already noticed in the previous introductions to Orchestration Plans that there are some Reports that can be generated in the right-click menu or toolbar of each Plan. They are: Report Type Purpose Plan Definition Report Records disaster recovery plan setting details Readiness Check Report Disaster recovery plan availability check report, including availability checks for recovery target locations and disaster recovery centers Datalab Test Report Data Lab test report Execution Report Disaster recovery execution status report These Reports are all the Report documents that VRO can generate. Each of these documents has pre-designed content built into VRO, which can be combined with the Report Template defined by the disaster recovery administrator to ultimately form a complete, readable Report. This part of the content already built into VRO cannot be changed by us. The system will automatically generate this content based on the actual report type, current disaster recovery plan settings, and the plan‚Äôs operation and execution, so we don‚Äôt need to make any changes to the settings here. Therefore, this part of the content currently only includes an English version, and we have no way to modify the relevant information. Of course, if our Plan contains Chinese information, VRO can still correctly pass it to the Report and generate relevant content. ","date":"2023-10-31","objectID":"/en/2023/10/vro-v6-guide-09/:2:0","tags":["VRO"],"title":"VRO Basic Guide (Part 9) - Document Template Analysis","uri":"/en/2023/10/vro-v6-guide-09/"},{"categories":[],"content":"Report Template The Report Template content is something that administrators can customize according to their own needs for the first part of each document. In the VRO factory software, default templates in 8 languages are already built-in. It should be noted that these default templates cannot be edited, but they can be directly called by the Report system and used in Orchestration Plans. If you need to edit these templates or create your own templates, you must first Clone a copy of your own from these templates, and then make modifications based on this copy. Editing these documents requires Word, requiring Word 2010 SP2 or higher versions. This means that you need to have Word 2010 SP2 or higher installed on the computer currently opening the VRO webpage to perform normal editing. After clicking the Edit button in the VRO interface, the system will automatically switch from the web browser to Microsoft Word for editing. Unlike normal Word editing, this template editing is editing a dynamic document, where you can add many variables from VRO, allowing the VRO system to automatically fill them in when generating Reports. ","date":"2023-10-31","objectID":"/en/2023/10/vro-v6-guide-09/:3:0","tags":["VRO"],"title":"VRO Basic Guide (Part 9) - Document Template Analysis","uri":"/en/2023/10/vro-v6-guide-09/"},{"categories":[],"content":"How to Edit Dynamic Documents with Word First, you need to select a built-in Template as the object you want to edit, and click the Clone button to start creating your own Template. For example, I‚Äôll select Veeam Default Template (ZH) here. In the Clone Template dialog box, select which Scope to assign to your name, then give this Template a distinctive name and fill in a description to complete the template creation. After creation, you can see this template in the Template list, and the toolbar buttons above can also operate on this template. You can click Edit to edit the content. Here, VAO does not provide a built-in document editor. This Edit button will directly call Word on the computer where the current browser is located for editing, requiring that the administrator must have correctly installed Microsoft Word. After clicking Edit, it will switch to the Word program. It should be noted that Word will not open the document immediately, but requires access permission. The permission required here must be the user currently logged into VAO in the browser, otherwise this Word will not be able to open the document template. After opening the document, you can proceed with normal Word editing. This document is not fully editable - you will find that many areas are highlighted in yellow. This highlighted content is the editable area where you can freely add needed text and image content. Therefore, you can see that the document‚Äôs title, header, and footer cannot be modified, while other parts are modifiable. Because this is a dynamic document, we can call many VRO variable contents here to get data. The VRO system has already provided us with some examples. In this cloned document, if you observe these texts carefully, you will find that some text content is surrounded by []. This part is the dynamic variable content in this document. This editing is slightly different from our normal Word editing. Let‚Äôs see how to perform the operations. To edit this variable data, first we can input a text content in the normal way. To distinguish it from ordinary text, it is recommended to add [] just like the VAO default document, such as: [Hi, I am a variable]. In the toolbar above, find Developer and open Design Mode. After opening Design Mode, you will find that this document becomes very strange, with much previously hidden content now visible. Don‚Äôt be scared by this additional content - it doesn‚Äôt actually exist and will automatically hide when you close Design Mode. This is just the result of our variable settings. Next, we set up [Hi, I am a variable]. Select this text, then click the first Aa button to the left of Design Mode to turn this text into a variable like those in the template. Then click Properties below Design Mode to open the variable setting dialog box. It is implemented using Word‚Äôs content controls. Setting the properties of this content control completes the process. This variable setting is very simple - you only need to enter a title and a tag. Generally, these two should be set the same, with the title filled in according to the tag content. VRO has built-in the following available tags. All tags start with \"~\". Select the needed tag and fill it into the property box above, then click OK. Variable Name Description ~Created Report generation time ~TimeZone Report generation time zone ~PlanType VAO plan type ~PlanName VAO plan name ~PlanDescription VAO plan description ~PlanContactName Disaster recovery plan contact name ~PlanContactEmail Disaster recovery plan contact email ~PlanContactTel Disaster recovery plan contact phone ~Site Site name ~SiteScopeName Site scope name ~SiteDescription Site description ~SiteContactName Site contact name ~SiteContactEmail Site contact email ~SiteContactTel Site contact phone ~ServerName Server name ~VmsInPlan Virtual machines in this plan ~GroupsInPlan Virtual machine groups in this plan ~ReportType Report type ~TargetRTO Target expected RTO for this plan ~TargetRPO Target ex","date":"2023-10-31","objectID":"/en/2023/10/vro-v6-guide-09/:4:0","tags":["VRO"],"title":"VRO Basic Guide (Part 9) - Document Template Analysis","uri":"/en/2023/10/vro-v6-guide-09/"},{"categories":[],"content":"Series Table of Contents: VRO Getting Started Guide (1) - Introduction VRO Getting Started Guide (2) - Installation and Deployment VRO Getting Started Guide (3) - Basic Components ¬∑ Part 1 VRO Getting Started Guide (4) - Basic Components ¬∑ Part 2 VRO Getting Started Guide (5) - First Steps to a Successful Disaster Recovery Plan VRO Getting Started Guide (6) - Data Lab VRO Getting Started Guide (7) - Plan Step ¬∑ Part 1 VRO Getting Started Guide (8) - Plan Step ¬∑ Part 2 VRO Getting Started Guide (9) - Document Template Analysis VRO Getting Started Guide (10) - Using VRO with K10 for Fully Automated Container Disaster Recovery In the previous article, I introduced the basic configuration and usage of Plan Steps. Today, I‚Äôll provide a detailed breakdown of custom scripts within Plan Steps. I‚Äôll walk you through using custom scripts through a practical example. ","date":"2023-06-16","objectID":"/en/2023/06/vro-v6-guide-08/:1:0","tags":["VAO","VRO"],"title":"VRO Getting Started Guide (8) - Plan Step ¬∑ Part 2","uri":"/en/2023/06/vro-v6-guide-08/"},{"categories":[],"content":"Creation and Configuration Configuring custom scripts requires logging into the VRO platform with an account belonging to the Administrators group. After entering the Administration console, you can find Plan Steps under Configuration. Here you can manage all Plan Steps. Besides creating custom Steps, you can also make personalized configurations to the built-in Steps here. Click the Add button to enter the creation wizard. The process is very simple - give it a catchy name, such as Remote Advanced Operations Test, then click Next to proceed. In the Script step, find the File field and click Browse to select the prepared PowerShell script from the current client. The uploaded script will display detailed content in Preview. Click Next to proceed. In the Step Visibility step, if you don‚Äôt want all disaster recovery administrators to see this advanced script, you can uncheck the checkbox on this interface. Finally, as usual, the Summary will provide an overview, and clicking Finish will complete the creation. However, this is just the creation complete - don‚Äôt think you can immediately use it. Let me emphasize this particularly important point: custom scripts can have two different execution locations - one is execution on the disaster recovery machine, and the other is execution on VBR. This must be manually configured by clicking the Step name after creating the Plan Step, finding Edit to modify it. At this point, you‚Äôll notice that in addition to the creation wizard steps, there‚Äôs an additional step called Step Parameters where you can make more detailed configurations, including modifying the default execution location. The default value is execution on VBR. For example, the test I‚Äôm doing today needs to be adjusted to change it to In-Guest OS. It‚Äôs important to note that the configuration of this Step is global, meaning if this Step is provided for all Scopes to use, this configuration content is shared by all Scopes and cannot be changed in scheduled tasks. Therefore, if necessary, administrators need to define these Plan Steps individually based on actual requirements in the Plan Steps management page. ","date":"2023-06-16","objectID":"/en/2023/06/vro-v6-guide-08/:2:0","tags":["VAO","VRO"],"title":"VRO Getting Started Guide (8) - Plan Step ¬∑ Part 2","uri":"/en/2023/06/vro-v6-guide-08/"},{"categories":[],"content":"Hello! My Script Now, let‚Äôs configure a Script and run it. Let‚Äôs start with something simple, with the following content: ########### #Lei Wei - 02/28/20 # # This script represents advanced operations, please look carefully # # v1.0 $S = Get-Date; Add-Content c:\\VRO_log.txt \"$S - Recording date \" If everything goes well, you‚Äôll see the following information in VRO: ","date":"2023-06-16","objectID":"/en/2023/06/vro-v6-guide-08/:3:0","tags":["VAO","VRO"],"title":"VRO Getting Started Guide (8) - Plan Step ¬∑ Part 2","uri":"/en/2023/06/vro-v6-guide-08/"},{"categories":[],"content":"Let‚Äôs Make It More Complex This script is really simple and almost impossible to fail. But if it‚Äôs more complex, can VRO capture these errors to make it easier for our administrators to know what problems occurred in the system? Please see the following code: ########### #Lei Wei - 02/27/20 # # This script represents advanced operations, please look carefully # # v1.1 try { $S = Get-Date; Add-Content c:\\VRO_log.txt \"$S - Recording date. \" Write-Host \"Precise timing, advanced operation successful\" } Catch { Write-Error \" Something went wrong, failed!\" Write-Error $_.Exception.Message } After switching to this PowerShell script, you can see the successful execution record in the VRO interface below. Besides recording success or failure, the information from the script in my settings is also passed into the VRO interface. ","date":"2023-06-16","objectID":"/en/2023/06/vro-v6-guide-08/:4:0","tags":["VAO","VRO"],"title":"VRO Getting Started Guide (8) - Plan Step ¬∑ Part 2","uri":"/en/2023/06/vro-v6-guide-08/"},{"categories":[],"content":"More Parameter Passing The scripts used by VRO can be even more complex. For example, VRO can pass some parameters to the script. Let‚Äôs continue modifying the above script as follows: ########### #Lei Wei - 02/27/20 # # This script represents advanced operations, please look carefully # # v1.2 Param( [Parameter(Mandatory=$true)] [string]$planName, [string]$text ) try { $S = Get-Date; Add-Content c:\\VRO_log.txt \"$S - Recording date. \" Write-Host \"Precise timing, advanced operation successful\" Write-Host \"Precise timing, advanced operation successful, $planName, $text !\" } Catch { Write-Error \" Something went wrong, failed!\" Write-Error $_.Exception.Message } In this script, we‚Äôve configured two parameters: $planName and $text. If you want to correctly use parameters in VRO and pass relevant parameters to the script, you need to add additional parameters to this Plan Step. This can be done through the Add button on the right side of the Plan Step. It‚Äôs important to note that the parameters we Add must have names that match the parameter names in the script to be passed correctly. As shown in the figure below, we set planName and text. Here, the default value for planName is set to $plan_name$, which is one of the system built-in variables in VRO. In our parameter passing, we can use these variables directly. The specific list will pop up for us to select when clicking the Edit button. For $text, we directly input the Default Value instead of using VRO built-in system variables, with the input content: ‚ÄúComplete parameter passing‚Äù. Finally, let‚Äôs see what the execution result of this advanced script operation in the Orchestration Plan looks like, and what will appear in our Step Details and Report: How does that feel? Isn‚Äôt VRO great? Hurry up and give it a try! ","date":"2023-06-16","objectID":"/en/2023/06/vro-v6-guide-08/:5:0","tags":["VAO","VRO"],"title":"VRO Getting Started Guide (8) - Plan Step ¬∑ Part 2","uri":"/en/2023/06/vro-v6-guide-08/"},{"categories":[],"content":"Series Table of Contents: VRO Basic Tutorial (Part 1) - Introduction VRO Basic Tutorial (Part 2) - Installation and Deployment VRO Basic Tutorial (Part 3) - Basic Components ¬∑ Part 1 VRO Basic Tutorial (Part 4) - Basic Components ¬∑ Part 2 VRO Basic Tutorial (Part 5) - First Steps to a Successful DR Plan VRO Basic Tutorial (Part 6) - Data Lab VRO Basic Tutorial (Part 7) - Plan Step ¬∑ Part 1 VRO Basic Tutorial (Part 8) - Plan Step ¬∑ Part 2 VRO Basic Tutorial (Part 9) - Document Template Analysis VRO Basic Tutorial (Part 10) - Using VRO with K10 for Fully Automated Container DR In previous posts, we‚Äôve discussed in detail the creation process of Orchestration Plans. Beyond these basic creation steps within each Orchestration Plan, the most important aspect of this system is its automated workflow. This automation is implemented through PowerShell scripts. In VRO, these PowerShell automation scripts are encapsulated within Plan Steps, which are scheduled, executed, and parameter-passed by VRO‚Äôs Orchestration Plans. Each Orchestration Plan, when created, includes several default Plan Steps that essentially cover the power-on and power-off operations involved in every disaster recovery scenario. Administrators can edit Orchestration Plans and add additional Steps as needed. ","date":"2023-06-14","objectID":"/en/2023/06/vro-v6-guide-07/:1:0","tags":["VAO","VRO"],"title":"VRO Basic Tutorial (Part 7) - Plan Step ¬∑ Part 1","uri":"/en/2023/06/vro-v6-guide-07/"},{"categories":[],"content":"Detailed Management and Usage of Orchestration Plans In the VRO main interface, find Orchestration Plans on the left side and click to enter the Orchestration Plans dashboard. Select a Plan you want to edit and click on the Plan name to enter that Plan. In Plan Details, you can see five buttons from left to right: Run, Halt, Check, Undo, and Edit. These include three classic buttons: Run is the execute button, Halt is the pause button, and Undo is the cancel button. Besides these three, Check is the button to verify the Plan‚Äôs ready status‚Äîif the ready status fails, this plan will most likely fail during execution. Edit is the button we‚ÄôllËØ¶ÁªÜ‰ªãÁªç today, which is our main button for adding automation workflows. After clicking Edit, you can enter the Plan‚Äôs editing interface. In the Plan Edit interface, the entire layout is arranged from left to right. The leftmost frame contains plan groupings. After clicking content in the left frame, the frames to the right will sequentially display the contained objects and available operations under that object. In the leftmost frame, there are two default groups: Pre-Plan Steps and Post-Plan Steps, along with user-defined groups. The user-defined groups located between the two default groups contain the most adjustable content. You can open the configuration wizard through Add or Properties to make some configurations. These configurations are basically the same as some content mentioned during the creation of Orchestration Plans. In other words, after creating a Plan, if you need to adjust some parameters from the creation process, you can come here to make those adjustments. For the Pre-Plan Steps and Post-Plan Steps groups, these two Steps don‚Äôt contain any actual machines, so users cannot adjust any properties of these Plans. However, VRO allows us to add some Steps to these two Plan Steps groups, which enables us to execute some custom processes before or after VRO officially executes the Plan. After clicking Pre-Plan Step, the right frame will show specific Step options. By default, there are no entries inside, but you can add them using the Add button, as shown below. Here are the VRO system-built Steps that can be added: Generate Event - Generate a Windows event, recorded in the Windows event viewer. Send Email - Send email notifications. Veeam Job Actions - Manipulate backup or replication jobs on VBR, with 4 operations: Enable, Disable, Start, and Stop. VM Power Actions - Control VM power operations on vCenter, which is very useful for shutting down non-critical machines before DR site switchover to free up resources. Any other user-defined PowerShell scripts. For user-defined groups, they contain the actual machines that need to perform restore or failover. When I select a specific machine, VRO will allow me to define the Steps that need to be added when this machine performs restore or failover. For already added Steps, you can also modify their execution order and define detailed parameters. Here are the factory-built Steps available, which I‚Äôve categorized simply: Application verification: 12 (AD, Exchange, SharePoint, SQL, and IIS) Virtual machine verification: 2 (heartbeat and ping) Event notification: 2 (Windows Event and email) Resource operations: 3 (VM power operations, Windows service startup, source VM shutdown) ","date":"2023-06-14","objectID":"/en/2023/06/vro-v6-guide-07/:2:0","tags":["VAO","VRO"],"title":"VRO Basic Tutorial (Part 7) - Plan Step ¬∑ Part 1","uri":"/en/2023/06/vro-v6-guide-07/"},{"categories":[],"content":"Plan Step Common Parameters Each Plan Step includes a basic Common Parameter that controls the basic execution conditions of this Plan Step, containing the following: During Failback \u0026 Undo: Determines whether to execute the script during Failback and Undo Failover operations During Lab Test: Determines whether to use the script during Datalab testing Critical step: Defines whether this Step is important for the entire Plan‚Äîif yes, stop the plan immediately upon failure Timeout: Defines the execution timeout for the entire Step Retries: Defines the number of failure retries These parameters can be adjusted individually for each step in every Orchestration Plan. ","date":"2023-06-14","objectID":"/en/2023/06/vro-v6-guide-07/:3:0","tags":["VAO","VRO"],"title":"VRO Basic Tutorial (Part 7) - Plan Step ¬∑ Part 1","uri":"/en/2023/06/vro-v6-guide-07/"},{"categories":[],"content":"Custom Scripts VRO also provides custom script functionality, allowing administrators to directly call and use PowerShell scripts on the VBR server or recovered systems to accomplish various advanced operations. For example, consider an application architecture in a data center as follows: A typical three-tier architecture with Oracle database on AIX servers, and middleware and application servers running on VMware vSphere. During initial DR system design, the Oracle database was replicated using OGG, achieving data-level synchronization. For such an architecture, when using VBR, Veeam typically recommends users to also protect the virtualization platform to ensure that when the primary data center fails, both application systems and databases can switch to the DR site. After using Veeam‚Äôs solution, users typically discover that VBR not only excellently completes virtualization platform DR replication tasks, but its DR testing capabilities are also extremely powerful. The system genuinely restores systems and provides post-recovery testing access, completing the entire drill process with real operations, and it‚Äôs fully automated. However, administrators quickly discover an awkward point: the application system doesn‚Äôt have database data support. Even if restored, it cannot work normally. Such testing still cannot ultimately be equivalent to actual DR scenarios. ","date":"2023-06-14","objectID":"/en/2023/06/vro-v6-guide-07/:4:0","tags":["VAO","VRO"],"title":"VRO Basic Tutorial (Part 7) - Plan Step ¬∑ Part 1","uri":"/en/2023/06/vro-v6-guide-07/"},{"categories":[],"content":"VRO to the Rescue With VRO‚Äôs help, this can be perfectly solved. The entire process would be: Start the application system‚Äôs Failover/Restore Plan. In the Step before the actual recovery process, add PowerShell scripts to communicate with the AIX at the DR site. After the script executes on AIX, a new LPAR is deployed. Another script attaches a virtual network card to the newly deployed LPAR and connects it to the isolated sandbox network we created in the virtualization environment. This isolated network cannot directly route to production, making it a relatively isolated environment. The third script starts the latest copy of the Oracle database running on this new LPAR. Once everything is prepared, start the application and middleware replicas on the virtualized DR platform. In this isolated environment, the running applications and middleware can access the AIX database. We‚Äôre not done yet. The systems are running‚Äîlet them fly for a while. You can perform a series of tests, development, and other operations on them. After extensive testing, the systems are no longer needed, and the DR administrator is notified that they can be reclaimed. The DR administrator operates VRO to proceed to the next step. VMs on vSphere are Undo Failed Over to their pre-test state. This is very simple, almost identical to VBR. A new script is triggered, notifying AIX to delete this LPAR and its database, ensuring test data is not replicated back to production. Isn‚Äôt this process excellent? Such a process can not only involve coordination with AIX but also integrate with various systems, whether HPUX or Oracle Exadata. Oh, and public cloud‚Äîlet‚Äôs join this DR party together. With VRO, none of this is a problem. Therefore, with custom scripts and scheduled task orchestration, VRO is incredibly powerful and can do almost anything that PowerShell can achieve. In the next post, I‚ÄôllËØ¶ÁªÜ‰ªãÁªç in detail how to make the most of these custom scripts. ","date":"2023-06-14","objectID":"/en/2023/06/vro-v6-guide-07/:5:0","tags":["VAO","VRO"],"title":"VRO Basic Tutorial (Part 7) - Plan Step ¬∑ Part 1","uri":"/en/2023/06/vro-v6-guide-07/"},{"categories":[],"content":"Series Contents: VRO v6 Getting Started Guide (Part 1) - Introduction VRO v6 Getting Started Guide (Part 2) - Installation and Deployment VRO v6 Getting Started Guide (Part 3) - Basic Components ¬∑ Part 1 VRO v6 Getting Started Guide (Part 4) - Basic Components ¬∑ Part 2 VRO v6 Getting Started Guide (Part 5) - First Steps Toward Successful Disaster Recovery Planning VRO v6 Getting Started Guide (Part 6) - Data Lab VRO v6 Getting Started Guide (Part 7) - Plan Steps ¬∑ Part 1 VRO v6 Getting Started Guide (Part 8) - Plan Steps ¬∑ Part 2 VRO v6 Getting Started Guide (Part 9) - Document Template Analysis VRO v6 Getting Started Guide (Part 10) - Using VRO with K10 for Fully Automated Container Disaster Recovery What would Veeam products be without a Data Lab? In VRO, the enhanced version of the Data Lab offers even more powerful functionality than its counterpart in VBR. Today, let‚Äôs dive into this enhanced data lab feature. VRO‚Äôs Data Lab currently supports the following types of Plans: Replica Plan Restore Plan (vSphere and Agent) Storage Plan In the Data Lab, all these Plan types initiate the complete recovery process. However, once this process starts, it has absolutely no impact on the production system. VRO correctly selects the Data Lab network and completes all specified recovery steps to conduct comprehensive disaster recovery testing. Unlike the Virtual Lab in VBR, in VRO the Data Lab can be started independently. Once launched, the Data Lab essentially creates an isolated network environment for us. The basic network services for this isolated network are provided by the Data Lab‚Äôs Proxy, while the underlying dependency applications are provided by the Lab Group. To start a Data Lab in VRO, simply open the VRO console, find Datalabs on the left side panel and select it. In the middle content display area, you‚Äôll see the allocated Data Labs. Select one and click the Run button at the top to start this Data Lab. After the Data Lab starts, you can think of it as the Data Lab‚Äôs router being activated. At this point, any machines placed in this network can properly utilize the Data Lab network. ","date":"2023-06-07","objectID":"/en/2023/06/vro-v6-guide-06/:1:0","tags":["VAO","VRO"],"title":"VRO v6 Getting Started Guide (Part 6) - Data Lab","uri":"/en/2023/06/vro-v6-guide-06/"},{"categories":[],"content":"Datalab Testing Under the Verify button of an Orchestration Plan, you can find the Run Datalab test button. Clicking this button launches a DataLab test wizard. By selecting appropriate options through this wizard, you can conduct a nearly realistic drill of the entire disaster recovery plan. The entire drill process will even 100% simulate the actual Plan execution, including all configured custom scripts, with the only difference being that it selects the Data Lab‚Äôs isolated network when allocating networks. Therefore, administrators can clearly understand the recovery status and required recovery time in the actual disaster recovery environment through such drill processes. When executing Datalab tests, there are virtually no significant differences in steps between the three types of Plans. Today, I‚Äôll use the Restore Plan as an example to illustrate the entire process. After opening the Datalab Test wizard, we first need to select the Test Method. The difference between Quick Test and Full Restore Test is the distinction between instant recovery and complete recovery. When conducting Datalab Tests, we generally choose Quick Test, while for long-term use of test environments, we can select Full Restore Test. In the Datalab step, we see that after starting the Datalab earlier, the Datalab here is already in a running state. We can select it and then click Next. In the Recovery Location step, I choose to restore to the original location. Since this is a Datalab test, Datalab will automatically rename my test machines. Click Next. In the Power Options step, you can choose to shut down immediately after testing or continue running for some time after testing. Using this method, we can start the Data Lab for building various experimental environments. In the Ransomware Scan step, leveraging VBR‚Äôs Secure Restore capability, VRO can automatically find restore points that are not contaminated by ransomware among all restore points to achieve clean restoration. In the Summary, following the international convention, summarize the previous options and click Finish to start the Data Lab test. After the Data Lab starts, clicking the Plan name allows you to enter the detailed verification steps of the Data Lab for viewing, as shown in the figure below. ","date":"2023-06-07","objectID":"/en/2023/06/vro-v6-guide-06/:2:0","tags":["VAO","VRO"],"title":"VRO v6 Getting Started Guide (Part 6) - Data Lab","uri":"/en/2023/06/vro-v6-guide-06/"},{"categories":[],"content":"Scheduled Testing In addition to manual execution of Datalab tests, VRO can also automatically execute Datalab Tests according to scheduled tasks. In VRO‚Äôs dashboard, find the Lab Calendar section, where you can see the Create Schedule button, which is used to set up fully automated Datalab test scheduled tasks. After clicking the Create Schedule button, the Create Test Schedule wizard will launch. In the Scope step, first select the Scope, set permissions, and click Next. In the Schedule Info step, set the name and description of the scheduled task. For example, I set it to Daily Verification here. Click Next. In the Choose Plans step, select the Plans that need verification, then click Add to add them. In this step, you can select multiple Plans, so that these Plans can all be tested according to the settings of this scheduled task. In the Datalab step, select a Datalab and click Next. In the Recurrence and Start step, set the scheduled task. For example, I set it to run the test plan every Monday, Wednesday, and Friday here. Click Next. In the Restore Options step, select the recovery mode. It‚Äôs recommended to choose Quick Test for routine testing. Click Next. In the Power Options step, select the default option ‚ÄúTest then power off immediately‚Äù and click Next. In the Ransomware Scan step, you can choose virus scanning. Here we keep the default unchecked and click Next. In the Summary step, you can view the above settings and copy this information using ‚Äúcopy to clipboard‚Äù. Click the Finish button to end the wizard and complete the setup. Returning to the VRO dashboard Lab Calendar interface, we can see that daily verification plans have appeared in the calendar. If you click on one of the scheduled task names again, you can re-edit this scheduled task, and you can also delete and disable this scheduled task. The above covers the specific setup and usage methods for the Data Lab in VRO. For more content, welcome to follow my official account, ","date":"2023-06-07","objectID":"/en/2023/06/vro-v6-guide-06/:3:0","tags":["VAO","VRO"],"title":"VRO v6 Getting Started Guide (Part 6) - Data Lab","uri":"/en/2023/06/vro-v6-guide-06/"},{"categories":[],"content":"Series Table of Contents: VRO Basic Guide (Part 1) - Introduction VRO Basic Guide (Part 2) - Installation and Deployment VRO Basic Guide (Part 3) - Basic Components ¬∑ Part 1 VRO Basic Guide (Part 4) - Basic Components ¬∑ Part 2 VRO Basic Guide (Part 5) - First Steps to Successful Disaster Recovery Planning VRO Basic Guide (Part 6) - Data Laboratory VRO Basic Guide (Part 7) - Plan Step ¬∑ Part 1 VRO Basic Guide (Part 8) - Plan Step ¬∑ Part 2 VRO Basic Guide (Part 9) - Document Template Analysis VRO Basic Guide (Part 10) - Using VRO with K10 for Fully Automated Container Disaster Recovery With the previous configurations completed, our VRO is ready for normal use. We can log into the VRO console using users with Administrator or Plan Authors roles. In the console, you can access VRO‚Äôs customized dashboard, which includes disaster recovery execution plans (Plan), disaster recovery status checks (Readiness Check), disaster recovery testing status (Datalab Testing), and disaster recovery SLA (RPO and RTO status). In the main console, administrators can also view the infrastructure inventory. Based on the content defined by each role, they can view the machines (Groups) they manage and their own disaster recovery environments (Recovery Location) from the Inventory. Next, I‚Äôll introduce VRO‚Äôs most important capability and specific usage method - Orchestration Plan. ","date":"2023-06-01","objectID":"/en/2023/06/vro-v6-guide-05/:1:0","tags":["VAO","VRO"],"title":"VRO Basic Guide (Part 6) - First Steps to Successful Disaster Recovery Planning","uri":"/en/2023/06/vro-v6-guide-05/"},{"categories":[],"content":"How to Create Orchestration Plans As mentioned in our initial introduction, there are five main categories of Orchestration Plans. All automated operation processes will be incorporated into disaster recovery through these Plans. Here, I recommend that as a first step, try not to add overly complex automation scripts. Instead, use the system‚Äôs built-in Plan Steps with minimal processes to understand these Plans. Once you‚Äôre familiar with the system‚Äôs working mechanism, you can gradually add suitable custom scripts. Operation Steps: Create an Orchestration Plan. Enter Orchestration Plans on the left side. In the content display area on the right, you‚Äôll see a row of 4 buttons at the top. In the dropdown menu where the Manage button is located, you can find the New button. This button will launch the Orchestration Plan creation wizard. After opening the wizard, you first need to set the Plan Info. Generally, fill in this content according to the actual situation, as it will be used in the reports. In the wizard‚Äôs Scope step, you need to select which Scope to use for creating this Orchestration Plan. As mentioned in the basic components, each Scope contains a series of disaster recovery elements, while the Orchestration Plan combines these elements to form an executable plan. The choice of Scope determines which users can access this Plan. In today‚Äôs example, we‚Äôll select the Admin Scope. In the wizard‚Äôs Plan Type step, you can select one of the five main categories. In today‚Äôs example, we‚Äôll select Restore to proceed to the next step. The remaining options will have slightly different wizards, which I‚Äôll leave for you to explore on your own. In the wizard‚Äôs Recovery Location step, select a DR Location. We will restore our backed-up machines to the ESXi at the DR site. For Recovery Location settings, you can refer to the previous content. In the wizard‚Äôs VM Group step, all available VM Groups under the current Scope will be listed in Available Group. Use the Add button to add the required Groups to the Plan Groups pane on the right. You can also use View VMs to see the VMs contained in the currently selected VM Groups in detail. In the VM Recovery Options step, you need to set four items: If any VM recovery fails then: If there are multiple VMs in the Plan that need recovery, and one VM recovery fails, this option determines how the subsequent Plan will proceed. You can continue executing the plan to recover other VMs or stop the plan directly. Recover the VMs in each Group: Whether to recover in sequence or simultaneously. If you select In parallel, they will proceed simultaneously. If you select In Sequence, they will execute in order. Recover simultaneously max of VMs: Select an appropriate quantity. The default is 10. Generally, administrators should choose reasonably based on their computing resources. It‚Äôs best to perform some testing before deciding on the final number here. Restore VM Tags: There‚Äôs a ‚ö†Ô∏è under this checkbox. Generally, when restoring to a new location as a new VM, most people won‚Äôt select this option to restore Tags, to avoid confusion with production VMs. In the VM Steps step, you can select many Steps that can be used during the recovery process. By default, the system automatically selects Restore VM and Check VM Heartbeat. I recommend that administrators who are just getting familiar with VRO add various Steps one by one to test the functionality of each operation. After determining a needed Step, you can then design it into your final Plan. In this step, administrators can add various custom PowerShell scripts. With such extensions, administrators can flexibly control and manage various systems. In the Protect VM Groups step, you can add automated protection settings for the recovered disaster recovery resources. This step is very important for fully automated disaster recovery systems, ensuring the next step of protection after disaster recovery. In today‚Äôs example, we‚Äôll keep this option as default,","date":"2023-06-01","objectID":"/en/2023/06/vro-v6-guide-05/:2:0","tags":["VAO","VRO"],"title":"VRO Basic Guide (Part 6) - First Steps to Successful Disaster Recovery Planning","uri":"/en/2023/06/vro-v6-guide-05/"},{"categories":[],"content":"Managing Orchestration Plans For created Plans, administrators can perform the following operations: Launch: Run, Halt, Undo, and Schedule Manage: Enable, Disable, New, Edit, Reset, Delete, and Properties Verify: Datalab test and Readiness check Report operations Generally, newly created Orchestration Plans are in Disable state, meaning the icon in front is gray. You need to click Manage-\u003eEnable to activate it before it can work normally. After performing recovery or failover operations, administrators need to use the Manage-\u003eReset button to reset this Plan so it can continue working, or administrators can delete previously completed Plans and redefine new Plans. This concludes today‚Äôs content - the basic creation method for Orchestration Plans. Today‚Äôs example only briefly introduced the Restore Plan method. The remaining four types of Plans are left for you to explore on your own. ","date":"2023-06-01","objectID":"/en/2023/06/vro-v6-guide-05/:3:0","tags":["VAO","VRO"],"title":"VRO Basic Guide (Part 6) - First Steps to Successful Disaster Recovery Planning","uri":"/en/2023/06/vro-v6-guide-05/"},{"categories":[],"content":"Series Table of Contents: VRO Basic Guide (Part 1) - Introduction VRO Basic Guide (Part 2) - Installation and Deployment VRO Basic Guide (Part 3) - Basic Components ¬∑ Volume 1 VRO Basic Guide (Part 4) - Basic Components ¬∑ Volume 2 VRO Basic Guide (Part 5) - First Step to Successful Disaster Recovery Plan VRO Basic Guide (Part 6) - Data Labs VRO Basic Guide (Part 7) - Plan Step ¬∑ Volume 1 VRO Basic Guide (Part 8) - Plan Step ¬∑ Volume 2 VRO Basic Guide (Part 9) - Document Template Analysis VRO Basic Guide (Part 10) - Using VRO with K10 for Fully Automated Container Disaster Recovery ","date":"2023-05-30","objectID":"/en/2023/05/vro-v6-guide-04/:1:0","tags":["VAO","VRO"],"title":"VRO Basic Guide (Part 4) - Basic Components ¬∑ Volume 2","uri":"/en/2023/05/vro-v6-guide-04/"},{"categories":[],"content":"Resource Grouping - Compute Resource/Storage Resource/VM Group Before diving into the operational permissions of Scope, I‚Äôd like to first explain the resource grouping methods. These special grouping approaches will be used in the operational permissions discussed later. This grouping method applies to VMs, Hosts, and Storage. The groupings used in VRO are read from the embedded Veeam ONE, which means the actual grouping is completed within Veeam ONE. Generally, the specific operations here can be divided into two main categories: The first category involves grouping through Veeam ONE Business View‚Äôs native grouping methods. The second category involves grouping ESXi, Clusters, or Datastores using vSphere Tags. Once grouping is complete, VRO can read this information. Regardless of whether you use vSphere Tags, I recommend using Categorization in Veeam ONE Business View to complete resource grouping setup. Below, I‚Äôll use Compute Resources grouping as an example to introduce this grouping method. The operation steps are as follows: Open the VRO embedded Veeam ONE console through Veeam ONE Monitor Client, find the Hosts category in the Business View, right-click, and select the ‚ÄúAdd Category‚Ä¶‚Äù menu from the context menu. In the first step ‚ÄúName and Object type‚Äù of the Add Category wizard, enter the category name. For example, I entered ‚ÄúDR Compute‚Äù here, keep Type as Host, and click Next. In the second step ‚ÄúCategorization Method‚Äù of the wizard, select the second option ‚ÄúMultiple conditions‚Äù and click Next. (Of course, you could also select other options here, but in this example today, I won‚Äôt go into detail about these classification methods). In the third step ‚ÄúGrouping Criteria‚Äù of the wizard, click ‚ÄúAdd‚Ä¶‚Äù on the right to add new groupings. This step is very important as the groupings added here will appear in the Compute Resources of VRO‚Äôs Recovery Location setup wizard. After clicking Add, a new wizard will appear to add groupings. First, give this grouping a name. For example, I set ‚ÄúCompute Resource Group 1‚Äù here, then click Next. In the second step ‚ÄúGrouping Conditions‚Äù of the grouping wizard, a default Condition will appear. We need to select it and click the Remove button on the right. In today‚Äôs example, we‚Äôll use manual selection for grouping. After deleting this Condition, click Next. In the third step ‚ÄúNotification‚Äù of the grouping wizard, keep the default options without any changes. The Notification settings here are not used in VRO and don‚Äôt need to be configured. Click Save to complete. Back in the third step ‚ÄúGrouping Criteria‚Äù of the Add Category wizard, repeat steps 4-7 above to add multiple groupings, or use the Clone button to clone groupings and modify the name after cloning. Finally, click Save to save the category settings. After completing the category settings, under Hosts in Business View, you‚Äôll see the Category and Group just created. Since we‚Äôll use manual method for categorization, there won‚Äôt be corresponding Hosts under the Group for now. Select Hosts in Business View, and in the content display area on the right, find and switch to the Hosts tab. In the Hosts list, find the hosts you want to group, right-click the host, and select ‚ÄúManual Categorization‚Äù from the context menu. In the Edit Categorization dialog that appears, select ‚ÄúNot Mapped‚Äù category on the left, then select the Group name on the right, and click OK. This completes the grouping, which can now be used in VRO. For VM Group and Storage Resources settings, you can also complete them using the above method. ","date":"2023-05-30","objectID":"/en/2023/05/vro-v6-guide-04/:2:0","tags":["VAO","VRO"],"title":"VRO Basic Guide (Part 4) - Basic Components ¬∑ Volume 2","uri":"/en/2023/05/vro-v6-guide-04/"},{"categories":[],"content":"Scope Inclusions Next, let‚Äôs talk about Scope Inclusions, which are the specific operations available in VRO disaster recovery system permission management. In previous versions, this module was called ‚ÄúPlan Components,‚Äù but in v6 it was renamed to ‚ÄúScope Inclusions.‚Äù The content is essentially the same. The following components need to be configured for each Scope. The previous article introduced the specific configuration locations. Now let‚Äôs see what these objects are and how to configure them. ","date":"2023-05-30","objectID":"/en/2023/05/vro-v6-guide-04/:3:0","tags":["VAO","VRO"],"title":"VRO Basic Guide (Part 4) - Basic Components ¬∑ Volume 2","uri":"/en/2023/05/vro-v6-guide-04/"},{"categories":[],"content":"Groups Groups define which machines can be managed under each Scope. However, unlike selecting machines in VBR, in Groups, virtual machines or physical machines are not presented in their original structure and name. VRO‚Äôs Groups automatically lists the following types of objects: Virtual machines or physical machines protected by Veeam backup jobs - these appear in the list as [Job Name - VBR Host Name]. Virtual machines protected by Veeam Replication or CDP - these appear in the list as [Job Name - VBR Host Name]. Virtual machines contained in vSphere Datastore - these appear in the list as [Datastore]. Veeam agent protection groups - these appear in the list as [Protection Group Name - VBR Host Name]. vCenter Server tags - these appear in the list as [Category Name - Tag Name]. In addition to automatic classification, administrators can also perform manual classification through Veeam ONE‚Äôs embedded Business View, making classification more flexible, even configuring complex regular expressions to achieve complex filtering and grouping. In these classifications, Agent jobs and Agent protection groups will both contain corresponding Windows or Linux machines for Agents, resulting in duplicate machines appearing; while in the virtual machine section, backup jobs, Datastore, or vCenter tags will also have duplicate virtual machines. In practice, when setting up Orchestration Plans, different types of classifications can be mixed in one Plan, and duplicate machines won‚Äôt be counted twice. The Orchestration Plan can automatically extract appropriate Restore Points or Replicas from the Repository for restoration. Although this object selection method is somewhat brain-intensive, it provides administrators with great grouping flexibility and numerous choices. ","date":"2023-05-30","objectID":"/en/2023/05/vro-v6-guide-04/:3:1","tags":["VAO","VRO"],"title":"VRO Basic Guide (Part 4) - Basic Components ¬∑ Volume 2","uri":"/en/2023/05/vro-v6-guide-04/"},{"categories":[],"content":"Recovery Locations Recovery Locations are the physical computing resources that our Orchestration Plan will use during recovery. They include three core resources: Compute, Storage, and Network. In vSphere terms, they correspond as follows: VRO Recovery Locations Name vSphere Resource Compute ESXi, Cluster Storage Datastore Network Port group names on virtual switches In VRO, we cannot directly select a specific ESXi or Datastore as our Recovery Location. We can only obtain them through the Business View engine in VRO‚Äôs embedded Veeam ONE. This is why I introduced the resource grouping method at the beginning of this article. We first need to use the resource grouping method from the beginning of this article to group Compute Resources and Storage Resources according to certain rules. Only after these grouping settings are completed can we create Recovery Locations. Recovery Locations settings require entering the Administration interface and finding the Configuration category on the right. After entering the Recovery Location interface, you‚Äôll see that VRO has already built-in a default Recovery Location named ‚ÄúOriginal VM Location.‚Äù This restores to the virtual machine‚Äôs original location. For this default Recovery Location, we can only edit it and cannot delete it. The editable content is also very limited. We can create new Recovery Locations for restoring to a new location. We can create multiple Recovery Locations here. Through the Add button, we can open the addition wizard: There are three types of Recovery Locations here: Storage, Restore, and Cloud. In this example, we‚Äôll choose the Restore scenario. Friends interested in Storage and Cloud scenarios can refer to the official documentation for details. In the Recovery Location Name step, enter an appropriate name and click Next. In the Recovery Option step, by default, recovery for both Agent and vSphere is enabled. Keep this unchanged and click Next. In the Compute Resources step, select the Compute Resource groups read from Veeam ONE and click Add. You can select multiple items here and use the View Resource button to view added clusters or hosts. Click Next after adding. In the Storage Resources step, similarly, select appropriate Storage groups. Click Next after adding. In the Storage Options step, you can set the usage limit for vSphere Storage to ensure vSphere storage isn‚Äôt exhausted. In this step, you can also set whether to use backup copy from the DR site as the restore data source. If recovering from the DR site, this option must be selected. In the Agent Network step, you can select network mapping rules for Agent-recovered machines, mapping from source networks to appropriate port groups in vSphere. For example, I set all machines from 10.10.1.0/24 in the source network to correspond to the VLAN1 port group. In the VM Network step, the settings are the same as the previous step, but apply to virtualized environments. The source selection is port groups on the source vCenter. In the Re-IP step, you can set IP modification rules for Windows machines. In this example, I won‚Äôt add any here, and IP addresses won‚Äôt be modified after recovery. In the Data Sovereignty step, you set the physical location for data recovery, implementing data recovery compliance through VBR‚Äôs Location functionality. This is also left unchecked here, keeping the default. Finally, check if the settings are correct in the Summary, and you‚Äôve completed the Recovery Location creation. After creating Recovery Locations under Configuration, we need to select available Recovery Locations for a specific Scope in Scope Inclusions. Similar to Groups, switch to the Recovery Locations tab, check the needed Recovery Locations, and click Include. ","date":"2023-05-30","objectID":"/en/2023/05/vro-v6-guide-04/:3:2","tags":["VAO","VRO"],"title":"VRO Basic Guide (Part 4) - Basic Components ¬∑ Volume 2","uri":"/en/2023/05/vro-v6-guide-04/"},{"categories":[],"content":"Plan Steps Plan Steps are all the operations we can use in Orchestration Plans. The Veeam system has built-in most steps needed for system recovery or verification. Of course, we can also add some new custom scripts. Adding new custom scripts requires entering Administration with an administrator account, finding Plan Steps under Configuration, and defining new Steps there. Regarding custom Steps, which involve more scripting content, I plan to introduce them in detail in later DR examples, so I won‚Äôt elaborate here. After defining them, you still need to return to Scope Inclusions to select available Plan Steps for a specific Scope. Under the Plan Steps tab, check the needed Steps and click Include to ensure they are included. ","date":"2023-05-30","objectID":"/en/2023/05/vro-v6-guide-04/:4:0","tags":["VAO","VRO"],"title":"VRO Basic Guide (Part 4) - Basic Components ¬∑ Volume 2","uri":"/en/2023/05/vro-v6-guide-04/"},{"categories":[],"content":"Credentials Credentials are the usernames and passwords we need for disaster recovery, used to execute some automated scripts within the operating system. Here, VRO will inherit all already set usernames and passwords from VBR. The slight difference is that for usernames and passwords, we can click Add here to add new ones. What we need to do in this tab is also very simple - just check the usernames and passwords to be used here and click Include. Currently, Credentials here are limited to Windows-type usernames and passwords, but these Simple-type usernames and passwords can sometimes be passed as parameters to Linux Server username and password verification. More secure key-pair login authentication is not yet supported in this password vault. ","date":"2023-05-30","objectID":"/en/2023/05/vro-v6-guide-04/:5:0","tags":["VAO","VRO"],"title":"VRO Basic Guide (Part 4) - Basic Components ¬∑ Volume 2","uri":"/en/2023/05/vro-v6-guide-04/"},{"categories":[],"content":"Template Jobs After VRO completes disaster recovery failover and recovery, it can immediately provide data protection for newly recovered systems, ensuring the system is in a protected state at the earliest time. This functionality requires VRO to have a VBR backup job template as a reference. In each Scope, you can set the Template Job to be used. This Template Job is not set in VRO; it‚Äôs directly obtained from VBR. The retrieval rule is also simple - as long as the VBR Backup Job‚Äôs Description contains [VDRO Template], it can be correctly retrieved by VRO. The above covers all the basic components of VRO. Thank you for reading and following along. ","date":"2023-05-30","objectID":"/en/2023/05/vro-v6-guide-04/:6:0","tags":["VAO","VRO"],"title":"VRO Basic Guide (Part 4) - Basic Components ¬∑ Volume 2","uri":"/en/2023/05/vro-v6-guide-04/"},{"categories":[],"content":"Series Index: VRO Basics (Part 1) - Introduction VRO Basics (Part 2) - Installation \u0026 Deployment VRO Basics (Part 3) - Core Components ¬∑ Part 1 VRO Basics (Part 4) - Core Components ¬∑ Part 2 VRO Basics (Part 5) - The First Step of a Successful DR Plan VRO Basics (Part 6) - DataLabs VRO Basics (Part 7) - Plan Steps ¬∑ Part 1 VRO Basics (Part 8) - Plan Steps ¬∑ Part 2 VRO Basics (Part 9) - Document Template Deep Dive VRO Basics (Part 10) - Using VRO with K10 for Fully Automated Container DR As a disaster recovery management system, access control is critically important. Therefore, I want to start by explaining VRO‚Äôs role-based permission management. In VRO, this permission management system isn‚Äôt called RBAC. Instead, VRO uses Scopes to control all user access permissions. Scopes determine which backup and DR resources users can access in VRO and what operations they can perform on those resources. ","date":"2023-05-26","objectID":"/en/2023/05/vro-v6-guide-03/:1:0","tags":["VAO","VRO"],"title":"VRO Basics (Part 3) - Core Components ¬∑ Part 1","uri":"/en/2023/05/vro-v6-guide-03/"},{"categories":[],"content":"Scope Operation Permissions Let‚Äôs first discuss Scope operation permissions. Similar to other systems‚Äô RBAC permission classification settings, in VRO, these permission categories are called Scope Inclusions, which include the following five types: Groups Recovery Locations Plan Steps Credentials Template Jobs For a Scope that has operational permissions on any resource within these five Scope Inclusions categories, that Scope can use this object. Each of these five major object types can belong to different Scopes simultaneously. Additionally, there‚Äôs a very special object in Scopes ‚Äì DataLab. Each DataLab corresponds one-to-one with a Scope, meaning every Scope has one or more independent DataLabs that belong exclusively to it. Scope Inclusions will be covered in detail in VRO Basics (Part 4) - Core Components ¬∑ Part 2. ","date":"2023-05-26","objectID":"/en/2023/05/vro-v6-guide-03/:2:0","tags":["VAO","VRO"],"title":"VRO Basics (Part 3) - Core Components ¬∑ Part 1","uri":"/en/2023/05/vro-v6-guide-03/"},{"categories":[],"content":"Scope Creation and User Assignment Each Scope can be assigned three different role types: Administrators - Can perform all operations Plan Authors - Can enable, disable, reset, create, edit, and test disaster recovery plans Plan Operators - Can only handle disaster recovery plans that are in an enabled state VRO has a built-in Admin Scope. By default, the Administrator role in this Scope has the highest privileges and can perform all operations. Users can create new Scopes to limit different permissions for different users and allow them to perform different operations. For user-created Scopes, you can modify the name and delete them. The roles for these Scopes are limited to Plan Authors and Plan Operators. Taking Plan Authors as an example, in each Scope‚Äôs Plan Authors role, we can add different users to that Scope. As shown in the figure below: In VRO, this Scope concept can be difficult to understand, but don‚Äôt worry ‚Äì let me use an analogy to explain it: You can think of Scopes as rooms, where each room has a lock with multiple keys. We distribute these keys to different users, so these users can enter Room (Scope A) with key A, Room (Scope B) with key B, and Room (Scope C) with key C. This forms VRO‚Äôs special permission management system: Current rooms (Scopes): A, B, C, D User 1: Has keys for rooms A and B. User 2: Has keys for rooms B, C, and D. User 3: Has key for room D. Converting this to VRO‚Äôs Scope management: Room (Scope A): User 1 Room (Scope B): User 1, User 2 Room (Scope C): User 2 Room (Scope D): User 2, User 3 The method of distributing keys is by setting Users and Scopes in VRO. In VRO, after logging in with a User who has the Administrator Role, you can go to the Administration interface, find Permissions -\u003e Users and Scope to set the above management permissions, as shown below: After completing these settings, when we log back into the VRO system with test01, we can see the current user‚Äôs Scopes displayed on the Dashboard as shown below: Similarly, when the test02 user logs into the system, they will see rooms B, C, and D, while test03 will only see room D after logging in. Configuring Scope Inclusions Go to the Administration interface, under Permissions, you can find Scope Inclusions. On this interface, you can set different available components for each Scope. As shown in the figure below, you can select a Scope in the red box area to switch and configure. You‚Äôll notice this is a checkbox, meaning you can select multiple Scopes simultaneously for related settings. However, for more accurate configuration of related content, I still recommend checking and configuring each Scope individually. ","date":"2023-05-26","objectID":"/en/2023/05/vro-v6-guide-03/:3:0","tags":["VAO","VRO"],"title":"VRO Basics (Part 3) - Core Components ¬∑ Part 1","uri":"/en/2023/05/vro-v6-guide-03/"},{"categories":[],"content":"DataLabs VRO‚Äôs DataLab is essentially the Virtual Lab from VBR. As long as Virtual Lab is configured in VBR, VRO can directly recognize it. After detecting these Virtual Labs, VRO needs to perform an allocation action, assigning these Virtual Labs to different Scopes according to actual usage needs. It‚Äôs important to note that each Virtual Lab can only be assigned to one specific Scope. To assign DataLab, you can use an Administrator account to enter the Administration interface, find Datalab Configuration under Permissions. On this page, check the Virtual Lab name scanned by VRO in the middle column, then click the Edit button. After clicking the Edit button, the Edit DataLab Configuration dialog will open. Here, simply select which Scope to assign it to. As shown below: If you need to adjust or reassign DataLab, you can check the Virtual Lab name, then click the Edit button again to return to the previous wizard interface, and use the Clear button to cancel the association. Lab Groups I believe those familiar with DataLabs will be curious ‚Äì we know that VBR‚Äôs DataLabs functionality includes three core components: Virtual Lab, Application Group, and SureBackup Job. So in VRO, we‚Äôve made DataLab correspond one-to-one with VBR‚Äôs Virtual Lab, but where did the remaining Application Group and SureBackup Job go? In VRO, there‚Äôs also a component that corresponds one-to-one with VBR‚Äôs Application Group ‚Äì that‚Äôs Lab Groups. There‚Äôs no Lab Groups setting in the Administration console. Lab Groups need to be configured by each user logging into their own VRO console with their respective account and entering the DataLabs main page to make settings. Unlike Virtual Lab, Lab Groups are not inherited from VBR‚Äôs Application Groups. In VRO, Lab Groups are created from scratch and need to be created using objects within VRO. Generally, Lab Groups can remain empty, which is completely consistent with what we mentioned in the Application Group explanation. Unless there are business dependencies that require relying on a certain system to run, in that case, we need to put this system that other systems depend on into the Lab Group. As for SureBackup Job, it‚Äôs no longer needed in VRO. This Job is automatically integrated into the Orchestration Plan, so I won‚Äôt elaborate here ‚Äì it will be covered in detail in later chapters. That concludes the main content of this chapter. Thank you for your attention. ","date":"2023-05-26","objectID":"/en/2023/05/vro-v6-guide-03/:4:0","tags":["VAO","VRO"],"title":"VRO Basics (Part 3) - Core Components ¬∑ Part 1","uri":"/en/2023/05/vro-v6-guide-03/"},{"categories":[],"content":"Series Index: VRO Basics (Part 1) ‚Äì Introduction VRO Basics (Part 2) ‚Äì Install \u0026 Deploy VRO Basics (Part 3) ‚Äì Core Components ¬∑ Part 1 VRO Basics (Part 4) ‚Äì Core Components ¬∑ Part 2 VRO Basics (Part 5) ‚Äì First Steps to Successful DR Planning VRO Basics (Part 6) ‚Äì Data Labs VRO Basics (Part 7) ‚Äì Plan Steps ¬∑ Part 1 VRO Basics (Part 8) ‚Äì Plan Steps ¬∑ Part 2 VRO Basics (Part 9) ‚Äì Document Template Analysis VRO Basics (Part 10) ‚Äì Using VRO with K10 for Complete Container DR This post covers obtaining, installing, and initializing Veeam Recovery Orchestrator v6. ","date":"2023-05-25","objectID":"/en/2023/05/vro-v6-guide-02/:1:0","tags":["VAO","VRO"],"title":"VRO Basics (Part 2) ‚Äì Install \u0026 Deploy","uri":"/en/2023/05/vro-v6-guide-02/"},{"categories":[],"content":"VRO Installation Package Download You can download the VRO trial directly from the Veeam website. The installation package I‚Äôm using in today‚Äôs article is from the Veeam Data Platform ‚Äî Premium bundle. Direct link here. This installation package is a complete VRO suite that includes the VRO main program, embedded VBR, and embedded Veeam ONE. Note that although this package contains embedded VBR and embedded Veeam ONE, these two applications cannot be extracted and installed separately. These embedded applications are necessary components for VRO to function and work together with VRO. These embedded VBR and Veeam ONE applications are no different from normal software. After installing VRO, you can access and use them remotely through the standard VBR or Veeam ONE console access methods. Currently, the VBR included in this package is version 12, and Veeam ONE is also version 12. ","date":"2023-05-25","objectID":"/en/2023/05/vro-v6-guide-02/:2:0","tags":["VAO","VRO"],"title":"VRO Basics (Part 2) ‚Äì Install \u0026 Deploy","uri":"/en/2023/05/vro-v6-guide-02/"},{"categories":[],"content":"Installation Prerequisites Three very important points: Do not install VRO on a server that already has VBR or Veeam ONE installed. Do not install VRO on a domain controller. Do not install VRO on a server that already has PostgreSQL installed. Generally, I recommend preparing a fresh Windows server for installing the VRO package. After installation, you can add your existing VBR servers to the VRO environment to be managed by VRO, or you can use the VRO-embedded VBR for regular backup and copy tasks. For more detailed installation prerequisites, please refer to the official prerequisites documentation. ","date":"2023-05-25","objectID":"/en/2023/05/vro-v6-guide-02/:3:0","tags":["VAO","VRO"],"title":"VRO Basics (Part 2) ‚Äì Install \u0026 Deploy","uri":"/en/2023/05/vro-v6-guide-02/"},{"categories":[],"content":"Installation Method The installation package is an ISO file. After mounting the ISO, it will run automatically, and you can find the VRO installation button: The entire installation process is very simple, just like installing other Veeam products. Follow the wizard and click ‚ÄúNext‚Äù to complete the basic installation. Note that during the installation process, you‚Äôll be prompted for a username and password. This username and password will be used by the services and databases of VRO, VBR, and Veeam ONE. Therefore, this account requires minimum permissions as a local Windows administrator on the VRO server (membership in the local Administrators group is sufficient). Although this account is not related to the DR administrator account used for subsequent disaster recovery operations, you‚Äôll need it during the first step of initial configuration to log into the VRO UI interface. Depending on different hardware capabilities, the entire installation process will take approximately 20-30 minutes. After installation is complete, VRO can be used on this server. Since VRO is accessed entirely through a browser, I generally recommend accessing the VRO console from other desktop computers using Chrome or Edge browsers. ","date":"2023-05-25","objectID":"/en/2023/05/vro-v6-guide-02/:4:0","tags":["VAO","VRO"],"title":"VRO Basics (Part 2) ‚Äì Install \u0026 Deploy","uri":"/en/2023/05/vro-v6-guide-02/"},{"categories":[],"content":"Initial Configuration After installation is complete, please do not open the embedded VBR and Veeam ONE consoles first. Instead, open a browser and access the VRO console to start the initial configuration. The system can only work normally after the initial configuration is complete. To access the initial configuration interface, visit: https://\u003cVRO IP\u003e:9898/ At this point, the browser will prompt for credentials. Please use the credentials used during the installation shown above for initial login. Note that these credentials are only used once during the initial configuration. After the initial configuration is complete, you will use the VRO DR administrator credentials set in step 3 of the initial configuration. After logging in with the account, the system enters the initialization wizard. The Welcome page describes some tasks of this basic configuration wizard. Click Next to proceed to the next step of server configuration. In the server configuration step, there are two important items to configure. One is to select DR administrators - open the addition wizard by clicking the ‚ÄúChoose users and groups‚Äù button in the image. On the right, configure which domain the users belong to (Domain), select whether the Account Type is User or Group, and finally select appropriate accounts from the Account list and click Add to complete the user configuration. The accounts configured here will be used for VRO access after this initial configuration. In Server Details, you can configure some basic information for the VRO server. This information will be used in reports. In the infrastructure configuration step, you can add credentials for connecting to infrastructure systems (Add Credentials), deploy Orchestrator Agent (actually this step is adding VBR), connect to vCenter, and connect to storage systems. The vCenter and storage system configurations added in this step will be automatically synchronized to the embedded VBR and Veeam ONE, so no additional configuration is needed in the embedded VBR and Veeam ONE components. Of course, these steps are all optional. We can complete the initial settings in this wizard, or we can adjust and configure them later from VRO‚Äôs Configuration. After configuring the above steps, click Finish to complete all initial configuration. After clicking Finish, the page will refresh and return to the original VRO UI login interface. You can log in to the official VRO UI interface using the account and password set in step 2 above. Welcome to VRO! Now you can officially start using VRO. In the next article, I will detail the various components of VRO. ","date":"2023-05-25","objectID":"/en/2023/05/vro-v6-guide-02/:5:0","tags":["VAO","VRO"],"title":"VRO Basics (Part 2) ‚Äì Install \u0026 Deploy","uri":"/en/2023/05/vro-v6-guide-02/"},{"categories":[],"content":"There‚Äôs something exciting happening in the Veeam ecosystem. With the launch of Veeam Data Platform v12, we‚Äôre seeing a significant evolution in disaster recovery orchestration. The platform‚Äôs Platinum edition now includes Veeam Recovery Orchestrator (VRO) v6‚Äîthe successor to Veeam Availability Orchestrator (VAO). What makes this particularly noteworthy is the massive leap forward from the previous VAO v2. VRO v6 works seamlessly alongside VBR v12 and Veeam ONE v12, delivering comprehensive enhancements that transform how we approach disaster recovery. The improvements are so substantial that I‚Äôve completely refreshed my foundational ‚ÄúVRO Basics‚Äù series to share everything that‚Äôs new and powerful in this release. ","date":"2023-05-24","objectID":"/en/2023/05/vro-v6-guide-01/:0:0","tags":["VAO","VRO"],"title":"VRO Basics (Part 1) ‚Äì Overview","uri":"/en/2023/05/vro-v6-guide-01/"},{"categories":[],"content":"What Is VRO? Think of VRO as Veeam‚Äôs premier orchestration layer that dramatically enhances Veeam Backup \u0026 Replication‚Äôs recovery capabilities. As the highest-tier component in the Veeam Data Platform, VRO v6 supports an impressive range of backup and disaster recovery data sources: vSphere virtual machines protected by VBR backups Windows and Linux systems protected by Veeam Agent backups vSphere Replica archives created through VBR replication Veeam CDP replica archives from continuous data protection Storage volume replicas from NetApp and HPE storage arrays (vSphere environments only) In v6, these data sources power incredibly rich recovery scenarios and capabilities: Policy-driven RPO/RTO enforcement through software-defined automation that ensures your disaster recovery infrastructure meets required service level objectives Fully automated failover processes supporting backup archives, replica archives, and CDP archives with orchestrated workflows Comprehensive disaster recovery validation through DataLabs, where every DR scenario can be rehearsed in complete 1:1 isolation And here‚Äôs where VRO really expands the horizon: recovery destinations now extend beyond traditional vSphere environments to include Microsoft Azure cloud, enabling Direct-to-Azure recovery capabilities. VRO essentially enhances and replaces VBR‚Äôs built-in Recovery, Failover, and SureBackup operations. It takes these three critical functions and adds powerful customization layers‚Äîyou can inject custom steps and scripts that align perfectly with your actual business scenarios. For administrators, thoughtfully designing these additional steps can dramatically reduce the complexity of disaster recovery workflows in IT operations. ","date":"2023-05-24","objectID":"/en/2023/05/vro-v6-guide-01/:1:0","tags":["VAO","VRO"],"title":"VRO Basics (Part 1) ‚Äì Overview","uri":"/en/2023/05/vro-v6-guide-01/"},{"categories":[],"content":"Where Can You Use VRO? VRO adapts to your infrastructure complexity, from simple setups to sophisticated multi-site environments. Let me walk through two fundamental architecture scenarios to illustrate how VRO fits into different designs. ","date":"2023-05-24","objectID":"/en/2023/05/vro-v6-guide-01/:2:0","tags":["VAO","VRO"],"title":"VRO Basics (Part 1) ‚Äì Overview","uri":"/en/2023/05/vro-v6-guide-01/"},{"categories":[],"content":"Single Data Center In a single data center deployment, adding VRO components introduces minimal changes to your existing backup architecture. All your VBR operations continue exactly as before‚Äîday-to-day backup and restore functions remain unchanged. What VRO brings is focused orchestration for your most critical workloads, ensuring their RPO and RTO requirements are consistently met. When critical systems experience downtime, they typically recover in-place, so there‚Äôs no need for dedicated recovery resources. The beauty of this approach is its simplicity‚Äîyou‚Äôre essentially elevating protection for the VMs that matter most without overhauling your entire infrastructure. ","date":"2023-05-24","objectID":"/en/2023/05/vro-v6-guide-01/:2:1","tags":["VAO","VRO"],"title":"VRO Basics (Part 1) ‚Äì Overview","uri":"/en/2023/05/vro-v6-guide-01/"},{"categories":[],"content":"Primary and DR Data Centers This is a more complex but very common scenario: geographically distributed primary and backup data centers. Your primary site handles production workloads, while your secondary site serves as your disaster recovery target. Typically, you‚Äôd already be copying backup archives to the DR site and potentially replicating critical VMs 1:1 to the recovery location. This is where VRO truly shines. The data recovery workflows at your DR site can all be orchestrated through VRO‚Äôs Replica Plans or Restore Plans, and these plans undergo complete recovery validation in corresponding DataLabs. The architecture remains fundamentally similar to the single data center approach, but now you can strategically allocate resources specifically for disaster recovery preparation and execution. ","date":"2023-05-24","objectID":"/en/2023/05/vro-v6-guide-01/:2:2","tags":["VAO","VRO"],"title":"VRO Basics (Part 1) ‚Äì Overview","uri":"/en/2023/05/vro-v6-guide-01/"},{"categories":[],"content":"The Five VRO Plan Types It‚Äôs important to understand that VRO doesn‚Äôt provide backup or replication functionality itself‚Äîall source data processing happens in VBR. Instead, VRO v6 offers five distinct orchestration plans that bring everything together: Replica Plan ‚Äì Recovery plans based on replicas created through VBR replication functionality CDP Replica Plan ‚Äì Recovery plans leveraging replicas created through VBR‚Äôs continuous data protection Restore Plan ‚Äì Recovery plans for restoring VBR vSphere backups and Veeam Agent backups to vSphere environments Storage Plan ‚Äì Recovery plans for restoring VMware Datastores from NetApp and HPE storage volume replications Cloud Plan ‚Äì Recovery plans for restoring VBR vSphere backups and Veeam Agent backups directly to Microsoft Azure Each plan type supports essential operations: Resource availability testing before execution Comprehensive automated reporting One-click fully automated recovery and failover What‚Äôs particularly exciting is how VRO enhances DataLabs functionality‚Äîthis has always been one of Veeam‚Äôs standout features. In VRO, DataLabs not only support testing for Replica Plans and Restore Plans, but also leverage VRO‚Äôs powerful scripting and step addition capabilities to automatically generate complex testing environments. Through this enhancement, complex test cases and environment deployment workflows transform into simple one-button operations, dramatically improving DataLabs efficiency and utilization. ","date":"2023-05-24","objectID":"/en/2023/05/vro-v6-guide-01/:3:0","tags":["VAO","VRO"],"title":"VRO Basics (Part 1) ‚Äì Overview","uri":"/en/2023/05/vro-v6-guide-01/"},{"categories":[],"content":"What Can VRO Do For You? To put it simply, I‚Äôve summarized the key capabilities: Fully automated recovery to both Azure cloud and VMware virtualization environments ‚ÄúZero contamination‚Äù restores through intelligent scanning engines that detect malware before restoration, ensuring recovered data remains uncompromised Comprehensive automated disaster recovery and recovery testing with minimal manual intervention Instantly usable DataLabs creation for isolated testing environments Complete application availability validation to ensure business continuity One-click disaster recovery execution for rapid response capabilities Fully automated dynamic disaster recovery documentation that updates in real-time This marks the beginning of our updated VRO v6 journey. Stay tuned for this comprehensive series where I‚Äôll be sharing: VRO Basics (Part 1) ‚Äì Overview (this post) VRO Basics (Part 2) ‚Äì Installation \u0026 Deployment VRO Basics (Part 3) ‚Äì Core Components ¬∑ Part 1 VRO Basics (Part 4) ‚Äì Core Components ¬∑ Part 2 VRO Basics (Part 5) ‚Äì First Steps Toward a Successful DR Plan VRO Basics (Part 6) ‚Äì DataLabs VRO Basics (Part 7) ‚Äì Plan Steps ¬∑ Part 1 VRO Basics (Part 8) ‚Äì Plan Steps ¬∑ Part 2 VRO Basics (Part 9) ‚Äì Document Template Deep Dive VRO Basics (Part 10) ‚Äì Using VRO with K10 for Automated Container Disaster Recovery ","date":"2023-05-24","objectID":"/en/2023/05/vro-v6-guide-01/:4:0","tags":["VAO","VRO"],"title":"VRO Basics (Part 1) ‚Äì Overview","uri":"/en/2023/05/vro-v6-guide-01/"},{"categories":[],"content":"There‚Äôs something special about discovering hidden features in software‚Äîthe kind that aren‚Äôt in the release notes but make your daily work so much better. Veeam Backup \u0026 Replication v10 introduced some fantastic hidden features, and with the recent v12 release, there are even more gems waiting to be found. Let me share the hidden shortcuts and features I‚Äôve uncovered in v12 that could save you hours of frustration. ","date":"2023-03-28","objectID":"/en/2023/03/v12update-hidden-key/:0:0","tags":["VBR"],"title":"Hidden Shortcuts in Veeam Backup \u0026 Replication v12","uri":"/en/2023/03/v12update-hidden-key/"},{"categories":[],"content":"Ctrl + Right-Click: Your New Best Friend ","date":"2023-03-28","objectID":"/en/2023/03/v12update-hidden-key/:1:0","tags":["VBR"],"title":"Hidden Shortcuts in Veeam Backup \u0026 Replication v12","uri":"/en/2023/03/v12update-hidden-key/"},{"categories":[],"content":"Repair Corrupted VACM Files Here‚Äôs a scenario that keeps backup administrators up at night. With v12, almost all your data can be safely stored in Veeam Hardened Repositories (VHR), protected by WORM functionality. But there‚Äôs a catch: Enterprise Plugins like Oracle RMAN, SAP HANA, and the new SQL Plugins store their backup job metadata (VACM files) outside the hardened repository. If a malicious actor deletes these VACM files, your backups become inaccessible‚Äîa disaster scenario indeed. The solution? Navigate to your Enterprise Plugin backup archive, hold Ctrl, and right-click. You‚Äôll see two new menu options appear, including a Repair button that rebuilds the missing metadata files for your backup jobs. ","date":"2023-03-28","objectID":"/en/2023/03/v12update-hidden-key/:1:1","tags":["VBR"],"title":"Hidden Shortcuts in Veeam Backup \u0026 Replication v12","uri":"/en/2023/03/v12update-hidden-key/"},{"categories":[],"content":"Remove from Configuration: Now Safely Hidden Veeam Hardened Repositories provide excellent security‚Äîeven if attackers compromise your VBR server, they can‚Äôt use the ‚ÄúDelete from disk‚Äù button to wipe your backup archives. However, in v11, there was another button: ‚ÄúRemove from configuration.‚Äù This button doesn‚Äôt delete the actual backup data from your VHR, but it does remove the backup records from VBR‚Äôs database. While useful for backup operations, it also gave attackers a way to hide your backups from the console. In v12, Veeam wisely hid this option to prevent accidental misuse. When you genuinely need it, simply hold Ctrl and right-click to access it. ","date":"2023-03-28","objectID":"/en/2023/03/v12update-hidden-key/:1:2","tags":["VBR"],"title":"Hidden Shortcuts in Veeam Backup \u0026 Replication v12","uri":"/en/2023/03/v12update-hidden-key/"},{"categories":[],"content":"Rebalance Your SOBR Storage If you‚Äôve been using Scale-Out Backup Repositories (SOBR) for a while, especially with mixed-capacity extents storing many VMs, you‚Äôve likely encountered capacity imbalances between your extents. Some drives fill up while others sit mostly empty, creating inefficient storage utilization. v12 introduces a Rebalance feature that evenly distributes backup archives across all your SOBR extents. Like the other hidden features, access it by holding Ctrl and right-clicking on your SOBR. ","date":"2023-03-28","objectID":"/en/2023/03/v12update-hidden-key/:1:3","tags":["VBR"],"title":"Hidden Shortcuts in Veeam Backup \u0026 Replication v12","uri":"/en/2023/03/v12update-hidden-key/"},{"categories":[],"content":"New Right-Click Options for Individual VMs Thanks to the revolutionary per-VM backup chain architecture, v12 brings granular control to your backup operations. In the backup job history, each machine now has its own right-click context menu with two powerful options: Active Full: Create a full backup for just this VM Retry: Retry the backup for this specific machine only Previously, these functions operated on the entire backup job. If you had a job protecting 4 VMs and needed to perform an Active Full, all 4 machines would get full backups simultaneously. Now, you can perform these operations on individual machines, giving you unprecedented control over your backup resources. ","date":"2023-03-28","objectID":"/en/2023/03/v12update-hidden-key/:2:0","tags":["VBR"],"title":"Hidden Shortcuts in Veeam Backup \u0026 Replication v12","uri":"/en/2023/03/v12update-hidden-key/"},{"categories":[],"content":"Hidden Timestamps for Troubleshooting This next feature isn‚Äôt actually new to v12, but it‚Äôs so useful that it‚Äôs worth highlighting. In your backup job history, right-click near the Action column to reveal a hidden column showing the start time of every backup step. This feature is invaluable for troubleshooting, especially when analyzing performance issues. Being able to see exactly when each step began helps you identify bottlenecks and optimize your backup jobs. ","date":"2023-03-28","objectID":"/en/2023/03/v12update-hidden-key/:3:0","tags":["VBR"],"title":"Hidden Shortcuts in Veeam Backup \u0026 Replication v12","uri":"/en/2023/03/v12update-hidden-key/"},{"categories":[],"content":"Explore and Discover That‚Äôs our tour of v12‚Äôs hidden features. These shortcuts demonstrate Veeam‚Äôs commitment to both security and usability‚Äîhiding potentially dangerous operations while making advanced features accessible when needed. Download v12 and start exploring these new capabilities. If you discover other hidden gems, drop a comment below and share your findings with the community. Happy backup administrating! ","date":"2023-03-28","objectID":"/en/2023/03/v12update-hidden-key/:4:0","tags":["VBR"],"title":"Hidden Shortcuts in Veeam Backup \u0026 Replication v12","uri":"/en/2023/03/v12update-hidden-key/"},{"categories":[],"content":"After diving into vSphere with Tanzu for a while, I was blown away by how powerful the platform is. But let‚Äôs be honest‚Äîthe cost of setting up a proper learning environment can be pretty steep. After spending some time researching and experimenting with different approaches, I discovered a way to create a complete nested environment without breaking the bank. I‚Äôm excited to share this automation approach in this blog post, hoping it helps others who want to learn vSphere with Tanzu quickly and affordably. First, here‚Äôs the GitHub repository for all the scripts mentioned in this post: https://github.com/Coku2015/Nested-TKGs-automate-deployment This script is adapted from William Lam‚Äôs excellent work. His original script automates the deployment of VMware‚Äôs complete Tanzu Kubernetes product suite and supports a wide range of scenarios. If you‚Äôre comfortable with advanced scripting, I highly recommend checking out his scripts for more customization options. I‚Äôve divided this guide into two parts: the first covers building the virtual infrastructure foundation, and the second focuses on creating Tanzu Kubernetes clusters. I‚Äôll cover all the prerequisite requirements upfront to make sure you‚Äôre ready to go. ","date":"2022-07-03","objectID":"/en/2022/07/nested-tkgs-lab-automation-script/:0:0","tags":["VMware","Tanzu"],"title":"Automated Nested TKGs Lab Environment Script","uri":"/en/2022/07/nested-tkgs-lab-automation-script/"},{"categories":[],"content":"0. Prerequisites This guide creates a nested vSphere environment where all VMs will be deployed on physical ESXi servers managed by vCenter. Here‚Äôs what you‚Äôll need to reserve on your host system: vCPU: 9 cores Memory: 40.5GB Storage: 1421GB (allocated capacity) Once deployed, this environment will generate four virtual machines: Nested ESXi (basic config): 4 vCPU / 24GB RAM / 1TB disk / 3 network interfaces vCenter (basic config): 2 vCPU / 12GB RAM / 400GB disk HAProxy: 2 vCPU / 4GB RAM / 5GB disk OpenWrt router: 1 vCPU / 0.5GB RAM / 1GB disk Within the nested ESXi environment, we‚Äôll deploy the Tanzu Kubernetes components: 1 Supervisor VM: 2 vCPU / 8GB RAM 1 Kubernetes Control Plane: 2 vCPU / 4GB RAM 2 Kubernetes Worker Nodes: 2 vCPU / 4GB RAM each Here‚Äôs what the completed environment topology looks like: For the setup, you‚Äôll need to download these images in advance: Nested ESXi 7.0u3c vCenter 7.0u3e haproxy.ova OpenWrt router In the second part of this guide, the system will automatically deploy additional VMs in the nested ESXi environment managed by vSphere with Tanzu. This requires access to VMware‚Äôs official Content Library subscription, though you can also manually download the Content Library content and create your own local Content Library. You‚Äôll need to prepare one uplink IP address on your host system‚Äîthis will serve as the external connection for our nested environment. In my setup, I use the SHLAB_NET1 port group for this uplink. All other network addresses in the environment will use internal addresses without uplink connections. Therefore, you need to create a virtual switch with three port groups on your host ESXi, similar to what‚Äôs shown in the image below. The virtual switch hosting these three port groups also needs promiscuous mode enabled for the nested ESXi communication. Finally, you‚Äôll need a VM console that can access both the host vCenter and the Tanzu Lab internal network. We‚Äôll run the automation scripts from this VM. The full automation deployment uses VMware vSphere PowerCLI scripts, which requires PowerShell 7. In PowerShell 7, you can quickly install the latest VMware PowerCLI with this command: PS C:\\\u003e Install-Module VMware.PowerCLI -Scope CurrentUser For more PowerCLI configuration and installation guidance, check out this resource: Getting Started with VMware PowerCLI ‚Äì A Beginner‚Äôs Guide After completing the lab setup, the network connections look like this: ","date":"2022-07-03","objectID":"/en/2022/07/nested-tkgs-lab-automation-script/:1:0","tags":["VMware","Tanzu"],"title":"Automated Nested TKGs Lab Environment Script","uri":"/en/2022/07/nested-tkgs-lab-automation-script/"},{"categories":[],"content":"Part 1: Building vSphere with Tanzu Infrastructure Once you‚Äôve prepared all the prerequisites, you‚Äôll need to configure some parameters in the script based on your environment: # vCenter Server used to deploy vSphere with Tanzu Basic Lab $VIServer = \"172.19.226.20\" $VIUsername = \"administrator@vsphere.local\" $VIPassword = \"P@ssw0rd\" This configuration points to the vCenter managing the physical ESXi host where we‚Äôll deploy this environment. # Full Path to both the Nested ESXi 7.0 VA, Extracted VCSA 7.0 ISO \u0026 HA Proxy OVAs $NestedESXiApplianceOVA = \"C:\\Temp\\Nested_ESXi7.0u3c_Appliance_Template_v1.ova\" $VCSAInstallerPath = \"E:\\\" $HAProxyOVA = \"C:\\Temp\\haproxy-v0.2.0.ova\" $tkgrouterOVA = \"C:\\Temp\\tkgrouter.ova\" Here you need to configure the paths to all OVA images. For VCSA, mount the ISO and specify the mounted ISO path. # TKG Content Library URL $TKGContentLibraryName = \"TKG-Content-Library\" $TKGContentLibraryURL = \"https://wp-content.vmware.com/v2/latest/lib.json\" This creates a new Content Library for the TKG vCenter configuration, enabling fully automated K8S VM deployment. #tkgrouter configuration $tkgrouterdisplayname = \"tkgopenwrt\" $WANNETWORK = \"SHASELAB_NET01\" $WANIP = \"172.19.226.149\" $WANGW = \"172.19.226.1\" $WANDNS1 = \"172.19.226.21\" $WANDNS2 = \"172.19.192.10\" $WANNETMASK = \"255.255.255.0\" $TKGMGMTNETWORK = \"TKG-MGMT\" $TKGMGMTIP = \"10.10.1.1\" $TKGWORKLOADNETWORK = \"TKG-Workload\" $TKGWORKLOADIP = \"10.10.2.1\" $TKGFRONTENDNETWORK = \"TKG-Frontend\" $TKGFRONTENDIP = \"10.10.3.1\" This section configures the OpenWrt router networking. # Nested ESXi VMs to deploy $NestedESXiHostnameToIPs = @{ \"tkgesxi1\" = \"10.10.1.100\"; } This sets the hostname and IP address for the Nested ESXi host. To deploy multiple ESXi hosts, simply add additional entries. # Nested ESXi VM Resources $NestedESXivCPU = \"4\" $NestedESXivMEM = \"24\" #GB $NestedESXiCapacityvDisk = \"1000\" #GB These are the minimum resource configurations for ESXi, which you can adjust based on your actual needs. # VCSA Deployment Configuration $VCSADeploymentSize = \"tiny\" $VCSADisplayName = \"tkgsvc\" $VCSAIPAddress = \"10.10.1.101\" $VCSAHostname = \"10.10.1.101\" #Change to IP if you don't have valid DNS $VCSAPrefix = \"24\" $VCSASSODomainName = \"tkg.local\" $VCSASSOPassword = \"P@ssw0rd\" $VCSARootPassword = \"P@ssw0rd\" $VCSASSHEnable = \"true\" VCSA configuration settings. # HA Proxy Configuration $HAProxyDisplayName = \"tkghaproxy\" $HAProxyHostname = \"haproxy.tkg.local\" $HAProxyDNS = \"10.10.1.1\" $HAProxyManagementNetwork = \"TKG-Mgmt\" $HAProxyManagementIPAddress = \"10.10.1.102/24\" # Format is IP Address/CIDR Prefix $HAProxyManagementGateway = \"10.10.1.1\" $HAProxyFrontendNetwork = \"TKG-Frontend\" $HAProxyFrontendIPAddress = \"10.10.3.2/24\" # Format is IP Address/CIDR Prefix $HAProxyFrontendGateway = \"10.10.3.1\" $HAProxyWorkloadNetwork = \"TKG-Workload\" $HAProxyWorkloadIPAddress = \"10.10.2.2/24\" # Format is IP Address/CIDR Prefix $HAProxyWorkloadGateway = \"10.10.2.1\" $HAProxyLoadBalanceIPRange = \"10.10.3.64/26\" # Format is Network CIDR Notation $HAProxyOSPassword = \"P@ssw0rd\" $HAProxyPort = \"5556\" $HAProxyUsername = \"wcp\" $HAProxyPassword = \"P@ssw0rd\" This configures HAProxy with three network interfaces corresponding to three network segments, where 10.10.3.x is used for Load Balancing. This section is crucial as much of this information will be used in the manual configuration steps in Part 2. # General Deployment Configuration for Nested ESXi, VCSA \u0026 HA Proxy VM $VMDatacenter = \"SHALABDC\" $VMCluster = \"SHALAB\" $VMNetwork = \"TKG-Mgmt\" $VMDatastore = \"SHASEESX_DS_01\" $VMNetmask = \"255.255.255.0\" $VMGateway = \"10.10.1.1\" $VMDNS = \"172.19.226.21\" $VMNTP = \"172.19.226.21\" $VMPassword = \"P@ssw0rd\" $VMDomain = \"shlab.local\" $VMSyslog = \"10.10.1.1\" $VMFolder = \"Lab Infra\" # Applicable to Nested ESXi only $VMSSH = \"true\" $VMVMFS = \"false\" General environment parameter settings. Pay special attention to ensuring your environment can access an NTP Server‚Äîwhether internal or external‚Äîas vCenter service ","date":"2022-07-03","objectID":"/en/2022/07/nested-tkgs-lab-automation-script/:2:0","tags":["VMware","Tanzu"],"title":"Automated Nested TKGs Lab Environment Script","uri":"/en/2022/07/nested-tkgs-lab-automation-script/"},{"categories":[],"content":"Part 2: Enabling Tanzu Kubernetes Cluster ","date":"2022-07-03","objectID":"/en/2022/07/nested-tkgs-lab-automation-script/:3:0","tags":["VMware","Tanzu"],"title":"Automated Nested TKGs Lab Environment Script","uri":"/en/2022/07/nested-tkgs-lab-automation-script/"},{"categories":[],"content":"2.1 Enabling Supervisor Cluster Log into vCenter and find Workload Management in the main navigation bar. This is where you‚Äôll start managing Tanzu Kubernetes. Click ‚ÄúGet Started‚Äù on the right to begin creating a Supervisor Cluster. This process can also be completed entirely through PowerShell scripts, but that‚Äôs beyond the scope of this article. We‚Äôll use the GUI interface to create the Supervisor Cluster. Creating the Supervisor Cluster launches an 8-step wizard: vCenter Server and Network step: Since our Lab doesn‚Äôt have NSX, we can only select VDS. Click Next to continue. Cluster step: Select tkgs-Cluster, click Next to continue. Storage step: Select Control Plane Storage Policy as tkgs-demo-storage-policy. Click Next to continue. Load Balancer step: Here you need to enter HAProxy information. Name should be ‚Äútkghaproxy‚Äù, Load Balancer Type should be ‚ÄúHAProxy‚Äù, Management IP Address should be the address from Part 1 configuration ($HAProxyManagementIPAddress = \"10.10.1.102/24\"), and you need to add the default HAProxy service port 5556. Username is wcp, Password is P@ssw0rd, and Virtual IP Ranges should be 10.10.3.64-10.10.3.127. For the HAProxy Management TLS Certificate content, you‚Äôll need to SSH into HAProxy and get it from /etc/haproxy/ca.crt. Click Next to continue. Management Network step: Select Network Mode as ‚ÄúStatic‚Äù, Network as ‚ÄúTKGs-MGMT‚Äù, and configure a static IP for Supervisor. Click Next to continue. Workload Network step: Select Network Mode as ‚ÄúDHCP‚Äù, Portgroup as ‚Äútkgs-workload‚Äù. Click Next to continue. Tanzu Kubernetes Grid Service step: Select Content Library as ‚ÄúTKG-Content-Library‚Äù. Click Next to the final step. Review and Confirm step: Change Control Plane Size from ‚ÄúSmall‚Äù to ‚ÄúTiny‚Äù. Here you need to go back to step 6 and click Next again to automatically update the Internal Network for Kubernetes Services from 10.96.0.0/23 to 10.96.0.0/24. After clicking Finish, the Supervisor Cluster begins the automatic deployment process, and the Workload Management interface switches to look like this: ","date":"2022-07-03","objectID":"/en/2022/07/nested-tkgs-lab-automation-script/:3:1","tags":["VMware","Tanzu"],"title":"Automated Nested TKGs Lab Environment Script","uri":"/en/2022/07/nested-tkgs-lab-automation-script/"},{"categories":[],"content":"2.2 Deploying Tanzu Kubernetes Cluster After about 30 minutes, you should see the Tanzu Supervisor Cluster enter the ‚ÄúRunning‚Äù state, with the Control Plane Node getting the correct IP address. Now you can switch to the Namespace tab to create a Namespace. Note that this Namespace is not a Kubernetes Namespace‚Äîit‚Äôs a vSphere Tanzu Namespace. Our Tanzu Kubernetes Cluster will be created under this Namespace. After creating the Namespace, you‚Äôll see the current Namespace‚Äôs config status. To proceed with configuration, we need to make 3 settings in Namespace management: Permissions, Storage, and VM Service. First, for Permissions, we add an administrator user through the ‚ÄúAdd Permissions‚Äù button. Use the ‚ÄúAdd Storage‚Äù button to add storage space for the Namespace. Use the ‚ÄúAdd VM Class‚Äù button to add various VM specifications for the Namespace. Subsequent Kubernetes Nodes will automatically configure corresponding CPU and memory based on the selected specifications. I recommend selecting all 16 default specifications. Use the ‚ÄúAdd Content Library‚Äù button to associate the Tanzu Content Library again. After completing all Namespace configurations, it should look like this. At this point, we‚Äôve completed all preparation work for creating our Tanzu Kubernetes Cluster. In the Status card at the bottom of the screen above, there‚Äôs a ‚ÄúLink to CLI Tools‚Äù. Click ‚ÄúOpen‚Äù to open a new webpage where you can download the kubectl vsphere plugins. This command-line plugin will help us manage and use Tanzu Kubernetes Clusters. Following the webpage instructions, after downloading and installing, go to the CLI console and use the CLI to log into our Supervisor Cluster. The server address should be the IP address seen in the Control Plane Node. If everything is correct, the command line will prompt for username and password‚Äîthese should be the administrator user credentials from step 2. After login, you‚Äôll see ‚ÄúLogged in successfully‚Äù. c:\\bin\u003ekubectl-vsphere.exe login --server=10.10.3.65 --insecure-skip-tls-verify Username: administrator@tkg.local KUBECTL_VSPHERE_PASSWORD environment variable is not set. Please enter the password below Password: Logged in successfully. You have access to the following contexts: 10.10.3.65 tkgs If the context you wish to use is not in this list, you may need to try logging in again later, or contact your cluster administrator. To change context, use `kubectl config use-context \u003cworkload name\u003e` c:\\bin\u003e At this point, we‚Äôve successfully logged into the Supervisor Cluster. Next, we‚Äôll use the following YAML configuration file to create a Tanzu Kubernetes Cluster. apiVersion: run.tanzu.vmware.com/v1alpha1 kind: TanzuKubernetesCluster metadata: name: sedemo-tkc-01 namespace: tkgs spec: distribution: version: v1.21 topology: controlPlane: class: best-effort-xsmall count: 1 storageClass: tkgs-demo-storage-policy workers: class: best-effort-small count: 2 storageClass: tkgs-demo-storage-policy settings: storage: classes: [\"tkgs-demo-storage-policy\"] #Named PVC storage classes defaultClass: tkgs-demo-storage-policy The name under metadata is the name of the created cluster, and Namespace is the Namespace name we just created in vSphere. Under spec, distribution is the Kubernetes version to create. topology-controlplane-class and topology-workers-class correspond to the VM class types we set in step 14‚Äîhere we choose ‚Äúbest-effort-xsmall‚Äù and ‚Äúbest-effort-small‚Äù respectively, with counts of 1 and 2. Run the following command, and the Tanzu Kubernetes Cluster will be automatically created in vCenter: ```shell c:\\bin\u003ekubectl apply -f tkc.yaml tanzukubernetescluster.run.tanzu.vmware.com/sedemo-tkc-01 created ``` After a few minutes, you should see 3 VMs created in vCenter, as shown below. Go back to the CLI console and run the following login command to access the Tanzu Kubernetes Guest Cluster. c:\\bin\u003ekubectl vsphere login --server=10.10.3.65 --tanzu-kubernetes-cluster-name sedemo-tkc-01 --tanzu-kubernetes-cluster-namespace tkg","date":"2022-07-03","objectID":"/en/2022/07/nested-tkgs-lab-automation-script/:3:2","tags":["VMware","Tanzu"],"title":"Automated Nested TKGs Lab Environment Script","uri":"/en/2022/07/nested-tkgs-lab-automation-script/"},{"categories":[],"content":"After Veeam released version 11, observant readers might have noticed this option when performing Instant Disk Recovery: Starting with vSphere 6.5, VMware introduced a completely new disk format called ‚ÄúFirst Class Disks‚Äù (FCD). The name is certainly bold, and in fact, these virtual disks do have their own unique ‚Äúprivileges.‚Äù Today, I‚Äôd like to explain these FCDs in detail. ","date":"2022-03-23","objectID":"/en/2022/03/pvc-and-fcd/:0:0","tags":["VMware"],"title":"First Class Disks (FCD) Explained","uri":"/en/2022/03/pvc-and-fcd/"},{"categories":[],"content":"Background Let me start with some background. In early vSphere versions, FCDs were originally called ‚ÄúImproved Virtual Disk‚Äù (IVD). So essentially, an FCD is just a VMware virtual disk: a VMDK. We know that in vSphere, each virtual machine has one or more virtual disks, and the daily management of these virtual disks is tightly coupled with their corresponding virtual machines. Let‚Äôs draw a simple analogy between physical and virtual environments: A physical server connects to multiple storage volumes on storage devices. If the storage device has snapshot functionality, it can perform snapshot operations on individual volumes. A VMware virtual machine has multiple VMDKs, but snapshots can only be performed on the entire virtual machine, not on individual VMDKs. FCDs were born in this context. FCD management is completely independent of the VM lifecycle‚Äîthe VMDK becomes a separate storage object managed independently of any virtual machine. We can perform create, delete, snapshot, backup, restore, and other disk lifecycle management operations directly on the disk without worrying about its attachment status. After FCDs emerged, they found use in many scenarios, such as VDI, OpenStack Cinder, and others. Today, I‚Äôll discuss an important scenario I‚Äôve been using in my Homelab recently: vSphere Cloud Native Storage (CNS) providing persistent storage for Kubernetes environments. ","date":"2022-03-23","objectID":"/en/2022/03/pvc-and-fcd/:1:0","tags":["VMware"],"title":"First Class Disks (FCD) Explained","uri":"/en/2022/03/pvc-and-fcd/"},{"categories":[],"content":"Kubernetes Using vSphere FCD FCDs are stored in the fcd directory under each Datastore, as shown here: Each FCD consists of a VMDK file and a VMFD file, meaning it has one additional VMFD file compared to regular VMDKs. FCDs are not visible in the vSphere Client. In fact, all FCD management operations are performed through APIs. A convenient entry point is management through vSphere Mob: https:///vslm/mob//?moid=VStorageObjectManager In this Mob manager, you can perform various operations on FCDs such as create, mount, clone, snapshot management, and delete. However, the Mob manager isn‚Äôt quite sufficient for all operations. PowerCLI can provide additional capabilities, such as querying all registered FCD disks in the current vCenter using PowerCLI. Get-VDisk Each FCD has a unique identifier UUID for recognition. This UUID is stored in vCenter‚Äôs catalog, so whether using vSphere Mob or PowerCLI, you need this ID to operate on these FCDs. When these FCDs are associated with PVCs in Kubernetes, you can see them in vSphere Client under each Datastore‚Äôs Monitor ‚Üí Cloud Native Storage ‚Üí Container Volumes. Here, Volume Name corresponds to the PVC Name in Kubernetes, while Volume ID is the FCD‚Äôs UUID in vSphere. When vSphere provides PVC storage for Kubernetes Worker Nodes, these FCDs are actually attached to each Worker Node‚Äôs virtual machine. For example, this Worker Node of mine: This makes it easy to understand how applications in Kubernetes write data to their persistent PVCs. During operation, these Worker Node virtual machines are actually writing data to these VMDKs. ","date":"2022-03-23","objectID":"/en/2022/03/pvc-and-fcd/:2:0","tags":["VMware"],"title":"First Class Disks (FCD) Explained","uri":"/en/2022/03/pvc-and-fcd/"},{"categories":[],"content":"K10 Backups When K10 uses vSphere Integration to back up applications on Kubernetes, K10 no longer needs VolumeSnapshot CRDs to complete PVC volume snapshots. Instead, it uses vSphere FCD Snapshots. As we mentioned at the beginning of this article, FCD lifecycle management is completely independent of virtual machines. When we initiate a backup task, K10 doesn‚Äôt need to snapshot the entire Worker Node; instead, it snapshots individual FCDs, achieving PVC snapshots on the Kubernetes platform. FCD snapshots have exactly the same structure as regular VMDK snapshots, consisting of parent and child disks in a delta disk mode. The file composition and filename structure are also identical. Therefore, the issues that have plagued VMDKs for years still exist with FCDs, but isn‚Äôt that also an advantage? For this reason, during K10 backups, we recommend keeping no more than 3 snapshots. For performance and capacity considerations, I suggest 1 snapshot is sufficient‚Äîmove other data to the Repository. Some of the data backed up by K10 can be exported to VBR. This data is essentially the FCD snapshot images. After VBR receives this data, it can use its powerful recovery capabilities to restore FCDs. In fact, in VBR, VBR can convert any data volume into FCDs on VMware using the VBR Instant Disk Recovery feature. ","date":"2022-03-23","objectID":"/en/2022/03/pvc-and-fcd/:3:0","tags":["VMware"],"title":"First Class Disks (FCD) Explained","uri":"/en/2022/03/pvc-and-fcd/"},{"categories":[],"content":"Instant PVC Recovery Experiment In my Lab, I conducted a small experiment using VBR‚Äôs Instant Disk Recovery for PVC recovery, trying to combine these powerful technologies to create some sparks. ","date":"2022-03-23","objectID":"/en/2022/03/pvc-and-fcd/:4:0","tags":["VMware"],"title":"First Class Disks (FCD) Explained","uri":"/en/2022/03/pvc-and-fcd/"},{"categories":[],"content":"Scenario In my Tanzu cluster, I have an app called leihomedemo3. This app is very simple‚Äîit‚Äôs just an Alpine Linux container. Currently, this Alpine doesn‚Äôt have any data volumes mounted. I want to use instant FCD recovery technology to restore a previously backed up FCD and mount it to this Alpine Linux‚Äôs /data directory. ","date":"2022-03-23","objectID":"/en/2022/03/pvc-and-fcd/:4:1","tags":["VMware"],"title":"First Class Disks (FCD) Explained","uri":"/en/2022/03/pvc-and-fcd/"},{"categories":[],"content":"Steps In VBR, find the K10 backup archive, use the Instant Disk Recovery button to open the recovery wizard, and select the latest restore point. In Mount Mode, select First class disk (FCD). In Disks, you can see some information about the disk to be recovered. I‚Äôll keep the defaults here without any modifications. In Destination, select the Tanzu Cluster running in my environment. After Write Cache, I don‚Äôt modify any subsequent steps until reaching Finish, which starts the instant disk recovery. After about tens of seconds, this FCD is successfully mounted. In the instant recovery session, you can see this disk is registered as an FCD with ID 540eedc6-9a48-4f07-9ec1-cd3b9ec9a67e. With this FCD ID, I come to the Tanzu cluster and bind this FCD as a PVC using the following YAML file: kind: StorageClass apiVersion: storage.k8s.io/v1 metadata: name: vbrinstant annotations: storageclass.kubernetes.io/is-default-class: \"false\" provisioner: csi.vsphere.vmware.com parameters: datastoreurl: ds:///vmfs/volumes/ae2b924e-83e53e07/ --- apiVersion: v1 kind: PersistentVolume metadata: name: vbrinstantrecoverypv annotations: pv.kubernetes.io/provisioned-by: csi.vsphere.vmware.com spec: storageClassName: vbrinstant capacity: storage: 1Gi accessModes: - ReadWriteOnce persistentVolumeReclaimPolicy: Delete csi: driver: \"csi.vsphere.vmware.com\" volumeAttributes: type: \"vSphere CNS Block Volume\" volumeHandle: \"540eedc6-9a48-4f07-9ec1-cd3b9ec9a67e\" --- kind: PersistentVolumeClaim apiVersion: v1 metadata: name: vbrinstantrecoverypvc namespace: leihomedemo3 spec: accessModes: - ReadWriteOnce resources: requests: storage: 1Gi storageClassName: vbrinstant Execute the command on the Tanzu console: k10@tceconsole:~/demo$ kubectl apply -f vbrdemopvc.yaml storageclass.storage.k8s.io/vbrinstant unchanged persistentvolume/vbrinstantrecoverypv created persistentvolumeclaim/vbrinstantrecoverypvc created k10@tceconsole:~/demo$ kubectl get pvc -n leihomedemo3 NAME STATUS VOLUME CAPACITY ACCESS MODES STORAGECLASS AGE vbrinstantrecoverypvc Bound vbrinstantrecoverypv 1Gi RWO vbrinstant 28s The binding is successful, and the FCD is officially converted into a Container Volume. At this point, you can also see the bound PV volume in vSphere Client. Modify the deployment to add the mount volume. After modification, the deployment restarts, and within a few seconds, the restart is complete. At this point, you can see the data inside the pod. k10@tceconsole:~/demo$ kubectl edit deploy -n leihomedemo3 demo-app ## Add mount volume in container section containers: - name: demo-container volumeMounts: - name: data mountPath: /data ## Add PVC volume name in template spec spec: volumes: - name: data persistentVolumeClaim: claimName: vbrinstantrecoverypvc deployment.apps/demo-app edited k10@tceconsole:~/demo$ kubectl exec --namespace=leihomedemo3 demo-app-7758b547ff-gf4n8 -- ls -l /data/ total 24 -rw-rw-r-- 1 1000 117 811 Mar 15 05:49 depoly-pvc.yaml drwx------ 2 root root 16384 Mar 12 14:01 lost+found -rw-rw-r-- 1 1000 117 13 Mar 12 14:33 mytest In VBR, you can still use the traditional method, Migration to Production, to migrate the PVC from VBR‚Äôs cache to the production system‚Äôs Datastore. Throughout the entire migration process, the system experienced no interruption. After migration completion, no modifications are needed in Tanzu‚Äîthe system continues to function normally. The only minor issue is that when querying the PVC through kubectl get pvc -n leihomedemo3, you‚Äôll see it‚Äôs still located on the VBR-mounted StorageClass. The fix isn‚Äôt complicated, and not fixing it doesn‚Äôt affect usage: k10@tceconsole:~/demo$ kubectl delete -n leihomedemo3 pvc vbrinstantrecoverypvc persistentvolumeclaim \"vbrinstantrecoverypvc\" deleted ## The system will get stuck at this step, just end the command with ctrl+c, then run the following command to force removal k10@tceconsole:~/demo$ kubectl patch pvc -n leihomedemo3 vbrinstantrecoverypvc -p '{\"metadata\":{\"finalizers\":null}}' ## In the b","date":"2022-03-23","objectID":"/en/2022/03/pvc-and-fcd/:4:2","tags":["VMware"],"title":"First Class Disks (FCD) Explained","uri":"/en/2022/03/pvc-and-fcd/"},{"categories":[],"content":"I recently refreshed my homelab setup and decided it was time to dive into Tanzu. When VMware open-sourced Tanzu Community Edition last year, I knew this was the perfect opportunity to set up a complete environment with Kasten K10 and Veeam Backup \u0026 Replication to really put it through its paces. ","date":"2022-03-19","objectID":"/en/2022/03/vmware-tanzu-community-edition-%E8%AF%95%E7%8E%A9/:0:0","tags":["VMware"],"title":"Exploring Tanzu Community Edition in the Homelab","uri":"/en/2022/03/vmware-tanzu-community-edition-%E8%AF%95%E7%8E%A9/"},{"categories":[],"content":"Hardware Setup My environment consists of two machines - a Dell Precision M4800 that‚Äôs been serving me faithfully for over six years, and a newly added NUC11 Panther Canyon. The Dell laptop is really just playing a supporting role in this setup, while the Panther Canyon is the star of the show with these specifications: CPU: Intel(R) Core(TM) i5-1135G7 @ 2.40GHz Memory: ADATA 32GB√ó2 DDR4-3200 (64GB total) Storage: aigo NVMe SSD P2000 1TB Network: Intel Corporation Ethernet Controller I225-V ","date":"2022-03-19","objectID":"/en/2022/03/vmware-tanzu-community-edition-%E8%AF%95%E7%8E%A9/:1:0","tags":["VMware"],"title":"Exploring Tanzu Community Edition in the Homelab","uri":"/en/2022/03/vmware-tanzu-community-edition-%E8%AF%95%E7%8E%A9/"},{"categories":[],"content":"Software Stack On the M4800, I‚Äôm using DellEMC‚Äôs custom ESXi image, which you can download from the DellEMC website. It includes all the necessary drivers for Dell hardware. The biggest challenge with installing ESXi on the NUC11 was the network card driver. This is a 2.5GbE NIC that isn‚Äôt included in VMware‚Äôs official drivers, but as always, the community has a solution. You can find the community network driver right here. Both hosts are running vSphere 7.0.3, with vCenter also at version 7.0.3. ","date":"2022-03-19","objectID":"/en/2022/03/vmware-tanzu-community-edition-%E8%AF%95%E7%8E%A9/:2:0","tags":["VMware"],"title":"Exploring Tanzu Community Edition in the Homelab","uri":"/en/2022/03/vmware-tanzu-community-edition-%E8%AF%95%E7%8E%A9/"},{"categories":[],"content":"Getting Started with TCE Installation ","date":"2022-03-19","objectID":"/en/2022/03/vmware-tanzu-community-edition-%E8%AF%95%E7%8E%A9/:3:0","tags":["VMware"],"title":"Exploring Tanzu Community Edition in the Homelab","uri":"/en/2022/03/vmware-tanzu-community-edition-%E8%AF%95%E7%8E%A9/"},{"categories":[],"content":"Environment Preparation First, I needed a console VM to install and operate TCE. The official TCE documentation provides installation instructions for macOS, Linux, and Windows. I chose to deploy an Ubuntu 20.04 LTS virtual machine in my environment to install the Tanzu CLI. This Ubuntu VM isn‚Äôt just a minimal installation - it needs some additional preparation: Install Docker and configure non-root user access. The configuration is straightforward. Just execute these commands as a non-root user after installing Docker: ## 1. Create the docker group k10@tceconsole:~$ sudo groupadd docker ## 2. Add current user to docker group k10@tceconsole:~$ sudo usermod -aG docker $USER ## 3. Either log out and log back in, or activate with this command $ newgrp docker ## 4. Test docker command to verify it works k10@tceconsole:~$ docker run hello-world Install kubectl - nothing special here, just follow the official documentation or other guides to install it. With these prerequisites in place, I could follow the TCE official documentation to install the Tanzu CLI. After installing the Tanzu CLI, I also needed to download the OVA image from VMware‚Äôs website. This image is used to deploy Kubernetes nodes in vSphere. I chose ubuntu-2004-kube-v1.21.5+vmware.1-tkg.1-12483545147728596280-tce-010.ova. Once downloaded, I imported this OVA into vSphere and immediately converted it to a template. You should see something like this in vSphere: Additionally, I needed to configure a DHCP server in my environment since TCE requires DHCP to complete the cluster deployment process. Finally, I prepared an SSH public key for the graphical installation wizard: ## Create SSH key pair k10@tceconsole:~$ ssh-keygen -t rsa -b 4096 -C \"administrator@backupnext.cloud\" ## Get the public key for later use k10@tceconsole:~$ cat .ssh/id_rsa.pub ","date":"2022-03-19","objectID":"/en/2022/03/vmware-tanzu-community-edition-%E8%AF%95%E7%8E%A9/:3:1","tags":["VMware"],"title":"Exploring Tanzu Community Edition in the Homelab","uri":"/en/2022/03/vmware-tanzu-community-edition-%E8%AF%95%E7%8E%A9/"},{"categories":[],"content":"Deploying the Management Cluster Like other Tanzu offerings, TCE consists of a Management Cluster and Workload Clusters. In my environment, I first needed to configure a management cluster. Starting the configuration is simple - just run this command: k10@tceconsole:~$ tanzu management-cluster create --ui --bind 0.0.0.0:8080 --browser none After running this command, I could open http://\u003cubuntu-ip\u003e:8080/ in my local browser to access the Tanzu installation wizard. The wizard walks you through several steps: Select deployment platform - VMware vSphere Enter vCenter information and connect - After connecting, you need to paste the SSH public key you prepared earlier into the SSH Public Key field. Configure management cluster settings - I chose Development mode since my small lab only needs one Control Plane node. I selected the Small instance type for minimum configuration, named my Management Cluster leihome, enabled Machine Health Checks, chose Kube-vip as the Control Plane Endpoint Provider with endpoint address 10.10.1.182, set Worker Node Instance Type to Small, and disabled Audit Logging. VMware NSX Advanced Load Balancer and Metadata - I disabled both of these options. Resource configuration - I specified deployment to VM Folder /HomelabDC/vm/tkg, Datastore /HomelabDC/datastore/localnvme, and selected the TanzuCE resource pool for Cluster, Hosts, and Resource Pools. Kubernetes Network - I kept the default network configuration. Identity Management - I disabled Identity Management Settings. OS Image - I selected the node VM template that was imported during preparation. After reviewing the configuration, the deployment begins automatically. About half an hour later, the management cluster was deployed and ready to use. Once the management cluster deployment completed, I returned to my Ubuntu console and ran: ## Check the installed management cluster k10@tceconsole:~$ tanzu management-cluster get NAME NAMESPACE STATUS CONTROLPLANE WORKERS KUBERNETES ROLES leihome tkg-system running 1/1 1/1 v1.21.5+vmware.1 management Details: NAME READY SEVERITY REASON SINCE MESSAGE /leihome True 8d ‚îú‚îÄClusterInfrastructure - VSphereCluster/leihome True 8d ‚îú‚îÄControlPlane - KubeadmControlPlane/leihome-control-plane True 8d ‚îÇ ‚îî‚îÄMachine/leihome-control-plane-2mz2v True 8d ‚îî‚îÄWorkers ‚îî‚îÄMachineDeployment/leihome-md-0 ‚îî‚îÄMachine/leihome-md-0-6f69758844-zpfsj True 8d Providers: NAMESPACE NAME TYPE PROVIDERNAME VERSION WATCHNAMESPACE capi-kubeadm-bootstrap-system bootstrap-kubeadm BootstrapProvider kubeadm v0.3.23 capi-kubeadm-control-plane-system control-plane-kubeadm ControlPlaneProvider kubeadm v0.3.23 capi-system cluster-api CoreProvider cluster-api v0.3.23 capv-system infrastructure-vsphere InfrastructureProvider vsphere v0.7.10 ## Get kubectl management permissions k10@tceconsole:~$ tanzu management-cluster kubeconfig get leihome --admin Credentials of cluster 'leihome' have been saved You can now access the cluster by running 'kubectl config use-context leihome-admin@leihome' ## Test kubectl access k10@tceconsole:~$ kubectl get node NAME STATUS ROLES AGE VERSION leihome-control-plane-2mz2v Ready control-plane,master 8d v1.21.5+vmware.1 leihome-md-0-6f69758844-zpfsj Ready \u003cnone\u003e 8d v1.21.5+vmware.1 And with that, the management cluster setup was complete. Back in vCenter, I could see the two corresponding node virtual machines. ","date":"2022-03-19","objectID":"/en/2022/03/vmware-tanzu-community-edition-%E8%AF%95%E7%8E%A9/:3:2","tags":["VMware"],"title":"Exploring Tanzu Community Edition in the Homelab","uri":"/en/2022/03/vmware-tanzu-community-edition-%E8%AF%95%E7%8E%A9/"},{"categories":[],"content":"Deploying a Workload Cluster After the management cluster deployment, the cluster configuration is automatically saved as a YAML file in the ~/.config/tanzu/tkg/clusterconfigs/ directory. Deploying a workload cluster is straightforward - just copy the auto-generated management cluster YAML file and make a few modifications. I created and modified a YAML file for the workload cluster deployment: k10@tceconsole:~$ cp ~/.config/tanzu/tkg/clusterconfigs/pkwmre6kuu.yaml ~/.config/tanzu/tkg/clusterconfigs/workload1.yaml k10@tceconsole:~$ vi ~/.config/tanzu/tkg/clusterconfigs/workload1.yaml I modified these key fields: CLUSTER_NAME: leihome-workload-01 VSPHERE_CONTROL_PLANE_ENDPOINT: 10.10.1.191 VSPHERE_WORKER_MEM_MIB: \"8192\" CLUSTER_NAME is the workload cluster name - I used leihome-workload-01. VSPHERE_CONTROL_PLANE_ENDPOINT is the API server access address for this workload cluster - it‚Äôs best to set this to a fixed IP, so I used 10.10.1.191. VSPHERE_WORKER_MEM_MIB is the workload cluster memory - the default Small configuration of 4GB wasn‚Äôt sufficient for my environment, so I set it to 8192. After making these changes, I ran this command to automatically deploy the workload cluster: k10@tceconsole:~$ tanzu cluster create leihome-workload-01 --file ~/.config/tanzu/tkg/clusterconfigs/workload1.yaml About 10 minutes later, the workload cluster was deployed. Like the management cluster, it defaults to one Control Plane and one Worker node. Since I planned to run several applications, I used this command to add another Worker Node: k10@tceconsole:~$ tanzu cluster scale leihome-workload-01 --worker-machine-count=2 Successfully updated worker node machine deployment replica count for cluster leihome-workload-01 Workload cluster 'leihome-workload-01' is being scaled After the workload cluster deployment, I needed to get access credentials just like with the management cluster: ## Get current workload cluster list k10@tceconsole:~$ tanzu cluster list NAME NAMESPACE STATUS CONTROLPLANE WORKERS KUBERNETES ROLES PLAN leihome-workload-01 default running 1/1 2/2 v1.21.5+vmware.1 \u003cnone\u003e dev ## Get access credentials for leihome-workload-01 workload cluster k10@tceconsole:~$ tanzu cluster kubeconfig get leihome-workload-01 --admin Credentials of cluster 'leihome-workload-01' have been saved You can now access the cluster by running 'kubectl config use-context leihome-workload-01-admin@leihome-workload-01' ## Check current context list with kubectl k10@tceconsole:~$ kubectl config get-contexts CURRENT NAME CLUSTER AUTHINFO NAMESPACE * leihome-admin@leihome leihome leihome-admin leihome-workload-01-admin@leihome-workload-01 leihome-workload-01 leihome-workload-01-admin ## Switch clusters with kubectl and start using the deployed cluster k10@tceconsole:~$ kubectl config use-context leihome-workload-01-admin@leihome-workload-01 Switched to context \"leihome-workload-01-admin@leihome-workload-01\" ## Get node information k10@tceconsole:~$ kubectl get node NAME STATUS ROLES AGE VERSION leihome-workload-01-control-plane-c4k4q Ready control-plane,master 7d18h v1.21.5+vmware.1 leihome-workload-01-md-0-668d8747d6-4hd6z Ready \u003cnone\u003e 7d18h v1.21.5+vmware.1 leihome-workload-01-md-0-668d8747d6-hcs4k Ready \u003cnone\u003e 7d18h v1.21.5+vmware.1 Back in vCenter, I could see the three Workload Node virtual machines were up and running. At this point, the Kubernetes cluster compute resources were fully configured. ","date":"2022-03-19","objectID":"/en/2022/03/vmware-tanzu-community-edition-%E8%AF%95%E7%8E%A9/:3:3","tags":["VMware"],"title":"Exploring Tanzu Community Edition in the Homelab","uri":"/en/2022/03/vmware-tanzu-community-edition-%E8%AF%95%E7%8E%A9/"},{"categories":[],"content":"Configuring Storage Resources Tanzu clusters can use vSphere 7.0 datastores for persistent data through the vSphere CSI driver, but by default, datastores aren‚Äôt automatically associated with Tanzu clusters. I used this YAML file to grant the workload cluster access to the datastore: kind: StorageClass apiVersion: storage.k8s.io/v1 metadata: name: standard annotations: storageclass.kubernetes.io/is-default-class: \"true\" provisioner: csi.vsphere.vmware.com parameters: datastoreurl: ds:///vmfs/volumes/622a19d3-91aee82b-59df-1c697aafcbf9/ The datastoreurl on the last line can be obtained from the datastore summary in vCenter, as shown here: I applied this new StorageClass and removed the original default StorageClass: ## Add new Storage Class connecting to vSphere Datastore k10@tceconsole:~$ kubectl apply -f ~/storage/localnvme.yaml ## Remove the original Hostpath default Storage Class (or you can delete the default storage class directly) k10@tceconsole:~$ kubectl patch storageclass default -p '{\"metadata\": {\"annotations\":{\"storageclass.kubernetes.io/is-default-class\":\"false\"}}}' ## Check current StorageClass status with kubectl k10@tceconsole:~$ kubectl get sc NAME PROVISIONER RECLAIMPOLICY VOLUMEBINDINGMODE ALLOWVOLUMEEXPANSION AGE default csi.vsphere.vmware.com Delete Immediate true 7d19h standard (default) csi.vsphere.vmware.com Delete Immediate false 7d18h ","date":"2022-03-19","objectID":"/en/2022/03/vmware-tanzu-community-edition-%E8%AF%95%E7%8E%A9/:3:4","tags":["VMware"],"title":"Exploring Tanzu Community Edition in the Homelab","uri":"/en/2022/03/vmware-tanzu-community-edition-%E8%AF%95%E7%8E%A9/"},{"categories":[],"content":"Testing the Environment with a Demo Application This little demo is simple - just an Alpine Linux container with a mounted data directory /data. This data directory actually maps to the vSphere datastore, creating a VMDK file. I‚Äôll save the details about this VMDK file for a future post. Here‚Äôs the demo YAML: apiVersion: v1 kind: PersistentVolumeClaim metadata: name: demo-pvc labels: app: demo pvc: demo spec: accessModes: - ReadWriteOnce resources: requests: storage: 1Gi --- apiVersion: apps/v1 kind: Deployment metadata: name: demo-app labels: app: demo spec: replicas: 1 selector: matchLabels: app: demo template: metadata: labels: app: demo spec: containers: - name: demo-container image: alpine:3.7 resources: requests: memory: 256Mi cpu: 100m command: [\"tail\"] args: [\"-f\", \"/dev/null\"] volumeMounts: - name: data mountPath: /data volumes: - name: data persistentVolumeClaim: claimName: demo-pvc The creation process is simple - just these two commands. After creation, I copied a file into the persistent data volume to test: k10@tceconsole:~$ kubectl create ns leihomedemo k10@tceconsole:~$ kubectl apply -n leihomedemo -f ~/demo/demoapp.yaml k10@tceconsole:~$ kubectl cp mytest leihomedemo/demo-app-696f676d47-dsbcr:/data/ k10@tceconsole:~$ kubectl exec --namespace=leihomedemo demo-app-696f676d47-dsbcr -- ls -l /data total 24 drwx------ 2 root root 16384 Mar 12 14:01 lost+found -rw-rw-r-- 1 1000 117 13 Mar 12 14:33 mytest Everything worked perfectly - the environment was running smoothly. ","date":"2022-03-19","objectID":"/en/2022/03/vmware-tanzu-community-edition-%E8%AF%95%E7%8E%A9/:3:5","tags":["VMware"],"title":"Exploring Tanzu Community Edition in the Homelab","uri":"/en/2022/03/vmware-tanzu-community-edition-%E8%AF%95%E7%8E%A9/"},{"categories":[],"content":"Installing and Configuring K10 ","date":"2022-03-19","objectID":"/en/2022/03/vmware-tanzu-community-edition-%E8%AF%95%E7%8E%A9/:4:0","tags":["VMware"],"title":"Exploring Tanzu Community Edition in the Homelab","uri":"/en/2022/03/vmware-tanzu-community-edition-%E8%AF%95%E7%8E%A9/"},{"categories":[],"content":"Installing K10 Before installing K10, I prepared a VBR v11a Windows server and a Minio S3 object storage to store K10 backup data. The K10 installation process is no different from regular deployments. Before installation, I ran the pre-flight script to check the environment: k10@tceconsole:~$ curl https://docs.kasten.io/tools/k10_primer.sh | bash % Total % Received % Xferd Average Speed Time Time Time Current Dload Upload Total Spent Left Speed 100 7045 100 7045 0 0 918 0 0:00:07 0:00:07 --:--:-- 1757 Namespace option not provided, using default namespace Checking for tools --\u003e Found kubectl --\u003e Found helm Checking if the Kasten Helm repo is present --\u003e The Kasten Helm repo was found Checking for required Helm version (\u003e= v3.0.0) --\u003e No Tiller needed with Helm v3.4.1 K10Primer image --\u003e Using Image (gcr.io/kasten-images/k10tools:4.5.11) to run test Checking access to the Kubernetes context leihome-workload-01-admin@leihome-workload-01 --\u003e Able to access the default Kubernetes namespace K10 Kanister tools image --\u003e Using Kanister tools image (ghcr.io/kanisterio/kanister-tools:0.74.0) to run test Running K10Primer Job in cluster with command- ./k10tools primer serviceaccount/k10-primer created clusterrolebinding.rbac.authorization.k8s.io/k10-primer created job.batch/k10primer created Waiting for pod k10primer-b5nf9 to be ready - ContainerCreating Pod Ready! I0319 05:28:41.931353 8 request.go:665] Waited for 1.043641473s due to client-side throttling, not priority and fairness, request: GET:https://100.64.0.1:443/apis/scheduling.k8s.io/v1beta1 Kubernetes Version Check: Valid kubernetes version (v1.21.5+vmware.1) - OK RBAC Check: Kubernetes RBAC is enabled - OK Aggregated Layer Check: The Kubernetes Aggregated Layer is enabled - OK W0319 05:28:42.188135 8 warnings.go:70] storage.k8s.io/v1beta1 CSIDriver is deprecated in v1.19+, unavailable in v1.22+; use storage.k8s.io/v1 CSIDriver CSI Capabilities Check: VolumeSnapshot CRD-based APIs are not installed - Error Validating Provisioners: csi.vsphere.vmware.com: Storage Classes: default K10 supports the vSphere CSI driver natively. Creation of a K10 infrastucture profile is required. Valid Storage Class - OK isonfs K10 supports the vSphere CSI driver natively. Creation of a K10 infrastucture profile is required. Valid Storage Class - OK standard K10 supports the vSphere CSI driver natively. Creation of a K10 infrastucture profile is required. Valid Storage Class - OK Validate Generic Volume Snapshot: Pod Created successfully - OK GVS Backup command executed successfully - OK Pod deleted successfully - OK serviceaccount \"k10-primer\" deleted clusterrolebinding.rbac.authorization.k8s.io \"k10-primer\" deleted job.batch \"k10primer\" deleted You can see there‚Äôs an Error in the CSI Capabilities Check, but that‚Äôs fine. Since I‚Äôm using vSphere CSI, the snapshot functionality uses vSphere‚Äôs native VMDK snapshots, so I didn‚Äôt install VolumeSnapshotClass in the cluster. Installing K10 followed the standard method from the official documentation, though I still used the ccr.ccs.tencentyun.com/kasten image registry: k10@tceconsole:~$ helm repo add kasten https://charts.kasten.io/ k10@tceconsole:~$ helm repo update k10@tceconsole:~$ helm install k10 kasten/k10 \\ --namespace=kasten-io \\ --set global.persistence.storageClass=standard \\ --set global.airgapped.repository=ccr.ccs.tencentyun.com/kasten \\ --set metering.mode=airgap ## Expose K10 UI via NodePort k10@tceconsole:~$ kubectl expose -n kasten-io deployment gateway --type=NodePort --name=gateway-nodeport-svc --port=8000 After about 10 minutes, I could access K10 at http://10.10.1.14:32080/k10/#/. ","date":"2022-03-19","objectID":"/en/2022/03/vmware-tanzu-community-edition-%E8%AF%95%E7%8E%A9/:4:1","tags":["VMware"],"title":"Exploring Tanzu Community Edition in the Homelab","uri":"/en/2022/03/vmware-tanzu-community-edition-%E8%AF%95%E7%8E%A9/"},{"categories":[],"content":"Configuring K10 with vCenter and VBR After logging into the K10 dashboard, I went to Settings and found Location Profile. First, I needed to add an S3 object storage as the primary backup storage - even though I have a VBR repository, this is still required. The configuration is very simple: Next, I added a VBR Repository for VMDK data backup storage, which means PVC backups: Under Location Profile, I found Infrastructure and used the New Profile button to add a vCenter connection. The configuration is very straightforward - just IP address, username, and password, the same as adding any device to vCenter. With that done, I could configure backup policies. The backup policies for Kubernetes platforms are slightly different. In Snapshot Retention, you can see that K10 automatically detected this is a VMware platform and provided VMware platform snapshot retention best practices, recommending no more than 3 snapshots. As shown below, I set Snapshot to 1. In Export Location Profile, I could select the Minio S3 object storage as the first-level backup export target - the VBR Location Profile wasn‚Äôt available here. After checking Enable Backups via Snapshot Exports, a new option appeared: Export snapshot data to a Veeam Backup Server repository. After checking this option, I could select the Veeam Backup Location Profile. The other configurations were standard. Here‚Äôs the final policy: When the backup runs automatically, you can see detailed backup action information from the Dashboard. The VBR export part is handled by Kanister: In VBR, you can see the K10 Policy and K10 backup archives have appeared: For more information about K10 operations in VBR, you can refer to the official Veeam documentation, which is now available on the website. ","date":"2022-03-19","objectID":"/en/2022/03/vmware-tanzu-community-edition-%E8%AF%95%E7%8E%A9/:4:2","tags":["VMware"],"title":"Exploring Tanzu Community Edition in the Homelab","uri":"/en/2022/03/vmware-tanzu-community-edition-%E8%AF%95%E7%8E%A9/"},{"categories":[],"content":"Resource Summary At this point, the entire environment resource consumption looks like this: Virtual Machine Purpose CPU Memory vCenter vCenter Server 2vCPU 12GB TCEconsole Tanzu Console 2vCPU 8GB leihome-control-plane-2mz2v TCE Management Cluster Control Node 2vCPU 4GB leihome-md-0-6f69758844-zpfsj TCE Management Cluster Worker Node 2vCPU 4GB leihome-workload-01-control-plane-c4k4q TCE Workload Cluster Control Node 2vCPU 4GB leihome-workload-01-md-0-668d8747d6-4hd6z TCE Workload Cluster Worker Node 2vCPU 8GB leihome-workload-01-md-0-668d8747d6-hcs4k TCE Workload Cluster Worker Node 2vCPU 8GB VBR Veeam Backup \u0026 Replication 4vCPU 8GB Total 18vCPU 56GB This hasn‚Äôt exceeded my NUC11‚Äôs total memory - a single NUC11 handles this environment with ease! ","date":"2022-03-19","objectID":"/en/2022/03/vmware-tanzu-community-edition-%E8%AF%95%E7%8E%A9/:5:0","tags":["VMware"],"title":"Exploring Tanzu Community Edition in the Homelab","uri":"/en/2022/03/vmware-tanzu-community-edition-%E8%AF%95%E7%8E%A9/"},{"categories":[],"content":"Earlier this month VMware announced that they‚Äôre removing vCenter Converter from their product download list. That means we‚Äôll no longer be able to download this product from VMware‚Äôs official website. VMware‚Äôs official stance is that vCenter Converter hasn‚Äôt been updated for years, has some security vulnerabilities, and isn‚Äôt very stable. In my view, VMware has taken down their most powerful weapon. ","date":"2022-02-28","objectID":"/en/2022/02/vmware-vcenter-converter%E6%9B%BF%E4%BB%A3%E6%96%B9%E6%A1%88/:0:0","tags":["VMware"],"title":"vCenter Converter Retired ‚Äì How to Handle P2V Now","uri":"/en/2022/02/vmware-vcenter-converter%E6%9B%BF%E4%BB%A3%E6%96%B9%E6%A1%88/"},{"categories":[],"content":"What Could This Tool Do? Many readers may never have encountered this tool, but for VMware administrators, it was essentially their best partner. The installation rate of this tool was incredibly high - among VMware‚Äôs entire product lineup, it was second only to vCenter. In most environments, administrators would install vCenter Converter immediately after installing vCenter. This tool was an important contributor to VMware‚Äôs early success. As far back as the VI3.0 era, it was widely used by administrators. At that time, its basic functionality was simple, and its goal was very clear: help administrators convert physical machines into VMware virtual machines. This was a huge help for administrators - automatically completing physical-to-virtual conversion, turning workloads into VMs running on the VMware platform. Early Converter tools were limited to Windows conversions, but later versions became increasingly powerful, supporting both Windows and Linux systems, and even supporting conversions from other virtualization platforms to VMware vSphere VMs. ","date":"2022-02-28","objectID":"/en/2022/02/vmware-vcenter-converter%E6%9B%BF%E4%BB%A3%E6%96%B9%E6%A1%88/:1:0","tags":["VMware"],"title":"vCenter Converter Retired ‚Äì How to Handle P2V Now","uri":"/en/2022/02/vmware-vcenter-converter%E6%9B%BF%E4%BB%A3%E6%96%B9%E6%A1%88/"},{"categories":[],"content":"How It Worked vCenter Converter typically had two implementation methods: hot migration and cold migration. Hot migration has relatively higher system requirements. If everything goes smoothly, the entire process involves minimal business interruption, but data consistency isn‚Äôt very high because business operations continue running. Cold migration has lower system requirements and broad applicability, and because the system is shut down during the process, data is completely consistent before and after migration. Both of these migration and conversion methods involve relatively long conversion times, which basically depend on the source system‚Äôs disk capacity. ","date":"2022-02-28","objectID":"/en/2022/02/vmware-vcenter-converter%E6%9B%BF%E4%BB%A3%E6%96%B9%E6%A1%88/:2:0","tags":["VMware"],"title":"vCenter Converter Retired ‚Äì How to Handle P2V Now","uri":"/en/2022/02/vmware-vcenter-converter%E6%9B%BF%E4%BB%A3%E6%96%B9%E6%A1%88/"},{"categories":[],"content":"Alternative Solution Let me introduce Veeam‚Äôs amazing capability: Instant Recovery! This technology has continuously evolved since v10 and has been completely transformed in the current v11 version. Originally this was just an instant mount and quick recovery feature, but Veeam users with unlimited imagination and creativity proposed the concept of instantly recovering physical machine backup archives on virtualization platforms. Veeam‚Äôs R\u0026D team turned this concept into a concrete feature and further extended and expanded it: Instantly recover backup archives of Hyper-V VMs to VMware vSphere Instantly recover backup archives of Veeam Agent for Microsoft Windows or Linux to VMware vSphere Instantly recover backup archives of Nutanix AHV VMs to VMware vSphere Instantly recover backup archives of Amazon EC2 VMs to VMware vSphere Instantly recover backup archives of Microsoft Azure VMs to VMware vSphere Instantly recover backup archives of Google Compute Engine VMs to VMware vSphere Instantly recover backup archives of RHV VMs to VMware vSphere Therefore, any migration only needs to be backed up through Veeam, then Instant Recovery, and finally Migration of the recovered VM to the target virtualization system. ","date":"2022-02-28","objectID":"/en/2022/02/vmware-vcenter-converter%E6%9B%BF%E4%BB%A3%E6%96%B9%E6%A1%88/:3:0","tags":["VMware"],"title":"vCenter Converter Retired ‚Äì How to Handle P2V Now","uri":"/en/2022/02/vmware-vcenter-converter%E6%9B%BF%E4%BB%A3%E6%96%B9%E6%A1%88/"},{"categories":[],"content":"Technical Tips and Operational Recommendations Finally, let me highlight the key points. The functionality is very powerful, but you must pay attention to the following issues when using it: Hot migration data deviation issues: It‚Äôs highly recommended to perform a final incremental backup before doing Instant Recovery, and ensure this incremental backup completes within minutes. If the incremental backup takes a long time, you can immediately perform another incremental backup after this one completes. After the final incremental backup completes, immediately shut down the source machine, then use this latest incremental restore point for the next step of instant recovery. This approach can achieve migration completion with less than 10 minutes of downtime. When doing Instant Recovery, the success rate for Windows systems is almost 100%, but for Linux systems, there might be various issues. It‚Äôs recommended to check the Linux system before backing up to ensure dracut and mkinitrd are correctly installed - this can greatly improve recovery success rates. Pay attention to IRcache directory space: In recent years, many physical machines have particularly large memory capacities, such as servers configured with 256GB/512GB RAM, which is quite common. For Instant Recovery of these machines, the IRcache capacity must be reserved to be larger than the memory. Migration methods can use Storage vMotion or Veeam Quick Migration. Each has its pros and cons - you can refer to my previous posts for specifics. That‚Äôs all for today‚Äôs content. I hope VMware‚Äôs vCenter Converter retirement won‚Äôt cause too much trouble for everyone‚Äôs daily work. ","date":"2022-02-28","objectID":"/en/2022/02/vmware-vcenter-converter%E6%9B%BF%E4%BB%A3%E6%96%B9%E6%A1%88/:4:0","tags":["VMware"],"title":"vCenter Converter Retired ‚Äì How to Handle P2V Now","uri":"/en/2022/02/vmware-vcenter-converter%E6%9B%BF%E4%BB%A3%E6%96%B9%E6%A1%88/"},{"categories":["Repository"],"content":"Script Purpose According to Veeam best practices, this one-click script configures a Linux system. After the operating system configuration is complete, you can return to the VBR console to complete the repository addition. For manual configuration and principle introduction, please refer to the following posts: veeam-v11-hardened-linux-repository-ÈÖçÁΩÆÊåáÂçó-centos8 Âä†Âõ∫ÁöÑÂ§á‰ªΩÂ≠òÂÇ®Â∫ìhardened-repositoryÈÖçÁΩÆÊåáÂçó-ubuntu veeam-hardened-repository-quick-starter ","date":"2022-02-25","objectID":"/en/2022/02/veeam-hardened-linux-repository-configurator/:1:0","tags":["backup"],"title":"Veeam Hardened Linux Repository Configurator","uri":"/en/2022/02/veeam-hardened-linux-repository-configurator/"},{"categories":["Repository"],"content":"Prerequisites for Use Ensure the system meets the minimum requirements for using Veeam Hardened Linux Repository. The server has unformatted disks such as /dev/sdb, /dev/sdc, etc. This script must be run using the root account. ","date":"2022-02-25","objectID":"/en/2022/02/veeam-hardened-linux-repository-configurator/:2:0","tags":["backup"],"title":"Veeam Hardened Linux Repository Configurator","uri":"/en/2022/02/veeam-hardened-linux-repository-configurator/"},{"categories":["Repository"],"content":"System Requirements This script has been tested on Redhat 8.2/CentOS 8.2/Ubuntu 20.04 and above versions. Other system versions are not currently supported. ","date":"2022-02-25","objectID":"/en/2022/02/veeam-hardened-linux-repository-configurator/:3:0","tags":["backup"],"title":"Veeam Hardened Linux Repository Configurator","uri":"/en/2022/02/veeam-hardened-linux-repository-configurator/"},{"categories":["Repository"],"content":"Script Repository https://github.com/Coku2015/Veeam_Repo_Configurator ","date":"2022-02-25","objectID":"/en/2022/02/veeam-hardened-linux-repository-configurator/:4:0","tags":["backup"],"title":"Veeam Hardened Linux Repository Configurator","uri":"/en/2022/02/veeam-hardened-linux-repository-configurator/"},{"categories":["Repository"],"content":"Detailed Script Usage Download the script: curl -O https://ghproxy/https://raw.githubusercontent.com/Coku2015/Veeam_Repo_Configurator/main/HLRepo_configurator.sh Run the script: bash HLRepo_configurator.sh After the script runs, it will first detect whether the current user is root and the corresponding operating system. If not, the script will exit. It will prompt the user to set the Veeam storage management user, password, and the storage path for backup data. This information will be used for subsequent configuration in the VBR console. Create LVM volumes for idle disks on the server, format them as XFS file system, and enable reflink functionality for VBR‚Äôs fast clone feature. Add records to the /etc/fstab file and mount the formatted disk space, allocating user permissions. Return to the VBR console to configure the backup repository. After the configuration is complete, the script will lock the Veeam storage management user, prohibit login, and prompt the user to disable SSH access to further harden the system. ","date":"2022-02-25","objectID":"/en/2022/02/veeam-hardened-linux-repository-configurator/:5:0","tags":["backup"],"title":"Veeam Hardened Linux Repository Configurator","uri":"/en/2022/02/veeam-hardened-linux-repository-configurator/"},{"categories":["Linux Agent"],"content":"1. Components \u0026 Roles Veeam Agent for Linux (VAL) has two parts: the Veeam binaries and the VeeamSnap kernel module. On CentOS/Red Hat, you typically install: veeam-\u003cversion\u003e.rpm veeamsnap-\u003cversion\u003e.rpm VeeamSnap handles snapshots and CBT; the Veeam package installs everything else. When you install veeam, it automatically pulls in veeamsnap as a dependency. ","date":"2021-10-12","objectID":"/en/2021/10/veeam-agent-for-linux-installation-deep-dive/:1:0","tags":["Â§á‰ªΩ"],"title":"Veeam Agent for Linux Installation Deep Dive","uri":"/en/2021/10/veeam-agent-for-linux-installation-deep-dive/"},{"categories":["Linux Agent"],"content":"2. Installation Path VAL relies on the distro‚Äôs package manager to fetch dependencies (see ‚ÄúVeeam Agent for Linux Basics‚Äù). Push installs from VBR hide the complexity, but special cases exist. ","date":"2021-10-12","objectID":"/en/2021/10/veeam-agent-for-linux-installation-deep-dive/:2:0","tags":["Â§á‰ªΩ"],"title":"Veeam Agent for Linux Installation Deep Dive","uri":"/en/2021/10/veeam-agent-for-linux-installation-deep-dive/"},{"categories":["Linux Agent"],"content":"2.1 DKMS-Based Builds VeeamSnap is an out-of-tree kernel module, so Veeam uses DKMS. During rpm -ivh veeamsnap..., the module is registered with DKMS, compiled, and installed. DKMS (Dynamic Kernel Module Support) is Dell‚Äôs open-source project; more info: https://www.cnblogs.com/wwang/archive/2011/06/21/2085571.html. For compilation to succeed, DKMS needs GCC, make, kernel headers, etc. VeeamSnap pulls those dependencies automatically. ","date":"2021-10-12","objectID":"/en/2021/10/veeam-agent-for-linux-installation-deep-dive/:2:1","tags":["Â§á‰ªΩ"],"title":"Veeam Agent for Linux Installation Deep Dive","uri":"/en/2021/10/veeam-agent-for-linux-installation-deep-dive/"},{"categories":["Linux Agent"],"content":"2.2 Precompiled Packages (kmod-veeamsnap) For certain distros Veeam ships prebuilt modules: kmod-veeamsnap-\u003cversion\u003e.rpm. They provide the same functionality but skip DKMS. Supported OS versions include: RHEL 6 (kernel ‚â• 2.6.32-131.0.15) CentOS/RHEL 7.0‚Äì7.9 (kernel ‚â• 3.10.0-123) RHEL/CentOS 8 SLES / openSUSE Packages live at http://repository.veeam.com/.private/rpm. Because the installer chooses the correct module via a Python 3 script, your system must have Python 3 available. ","date":"2021-10-12","objectID":"/en/2021/10/veeam-agent-for-linux-installation-deep-dive/:2:2","tags":["Â§á‰ªΩ"],"title":"Veeam Agent for Linux Installation Deep Dive","uri":"/en/2021/10/veeam-agent-for-linux-installation-deep-dive/"},{"categories":["Linux Agent"],"content":"2.3 Secure Boot (UEFI) If Secure Boot is enabled, import the VeeamSnap certificate before installing kmod-veeamsnap. Steps (example for RHEL 8): curl -O http://repository.veeam.com/.private/rpm/el/8/x86_64/veeamsnap-ueficert-5.0.1.4493-1.noarch.rpm rpm -ivh veeamsnap-ueficert* mokutil --import veeamsnap-ueficert.crt Then reboot, enter UEFI, and enroll the certificate. After that, install kmod-veeamsnap as usual. ","date":"2021-10-12","objectID":"/en/2021/10/veeam-agent-for-linux-installation-deep-dive/:2:3","tags":["Â§á‰ªΩ"],"title":"Veeam Agent for Linux Installation Deep Dive","uri":"/en/2021/10/veeam-agent-for-linux-installation-deep-dive/"},{"categories":["Linux Agent"],"content":"2.4 Going Snapless From VAL 5.0.1 onward, Veeam offers a snapless mode (veeam-nosnap-\u003cversion\u003e.rpm). Example for RHEL 8: http://repository.veeam.com/.private/rpm/el/8/x86_64/veeam-nosnap-5.0.1.4493-1.el8.x86_64.rpm This mode doesn‚Äôt use VeeamSnap and supports only file-level backups: VBR exposes the same option: You can install the nosnap package standalone; it doesn‚Äôt depend on VeeamSnap, though other dependencies are still resolved via the package manager. Hope this breakdown helps when deploying VAL in different environments.*** ","date":"2021-10-12","objectID":"/en/2021/10/veeam-agent-for-linux-installation-deep-dive/:2:4","tags":["Â§á‰ªΩ"],"title":"Veeam Agent for Linux Installation Deep Dive","uri":"/en/2021/10/veeam-agent-for-linux-installation-deep-dive/"},{"categories":["Kubernetes"],"content":"Kasten K10 Starter Series Table of Contents Kasten K10 Starter Series 01 - Quick Setup of K8S Single-Node Test Environment Kasten K10 Starter Series 02 - K10 Installation Kasten K10 Starter Series 03 - K10 Backup and Recovery Kasten K10 Starter Series 04 - K10 Installation Package Download ","date":"2021-07-22","objectID":"/en/2021/07/k10offline-script-2/:1:0","tags":["Kubernetes"],"title":"Kasten K10 Starter Series 05 - K10 Installation Package Download (2)","uri":"/en/2021/07/k10offline-script-2/"},{"categories":["Kubernetes"],"content":"Main Content In the previous article, we introduced downloading and pushing K10 installation images to a private image repository through scripts. Today, I want to share some offline image packages, which may be the most convenient method in completely offline environments without external network access. First, here‚Äôs the download link: https://cloud.189.cn/web/share?code=zIVZ3uaIzUr2 (Access code: 8fbw) ","date":"2021-07-22","objectID":"/en/2021/07/k10offline-script-2/:2:0","tags":["Kubernetes"],"title":"Kasten K10 Starter Series 05 - K10 Installation Package Download (2)","uri":"/en/2021/07/k10offline-script-2/"},{"categories":["Kubernetes"],"content":"Content Description In this download link, K10 installation packages are placed in folders named by version number. Inside each version folder, two files are included: kasten_k10_offline_images_.tar.gz : Image package k10_.json : Configuration file for pushing to private image repository This image package contains all K10 installation images (version 4.0.8, other versions may vary slightly): Original Repository Image Name ghcr.io/kanisterio kanister-tools quay.io/datawire ambassador quay.io/prometheus prometheus jimmidyson configmap-reload quay.io/dexidp dex gcr.io/kasten-images frontend gcr.io/kasten-images kanister gcr.io/kasten-images aggregatedapis gcr.io/kasten-images config gcr.io/kasten-images auth gcr.io/kasten-images bloblifecyclemanager gcr.io/kasten-images catalog gcr.io/kasten-images crypto gcr.io/kasten-images dashboardbff gcr.io/kasten-images executor gcr.io/kasten-images jobs gcr.io/kasten-images logging gcr.io/kasten-images metering gcr.io/kasten-images state gcr.io/kasten-images upgrade gcr.io/kasten-images cephtool gcr.io/kasten-images datamover gcr.io/kasten-images k10tools gcr.io/kasten-images restorectl gcr.io/kasten-images k10offline ","date":"2021-07-22","objectID":"/en/2021/07/k10offline-script-2/:3:0","tags":["Kubernetes"],"title":"Kasten K10 Starter Series 05 - K10 Installation Package Download (2)","uri":"/en/2021/07/k10offline-script-2/"},{"categories":["Kubernetes"],"content":"Prerequisites Similar to using the script in the previous article, you need to prepare a Linux server with the following requirements: Ability to access the \u003ctarget\u003e image repository normally jq software installed, can use jq command, learn more through this link: jq docker installed, learn more through this link: docker ","date":"2021-07-22","objectID":"/en/2021/07/k10offline-script-2/:4:0","tags":["Kubernetes"],"title":"Kasten K10 Starter Series 05 - K10 Installation Package Download (2)","uri":"/en/2021/07/k10offline-script-2/"},{"categories":["Kubernetes"],"content":"Usage Method Transfer the downloaded corresponding version files to the Linux server offline, then use the following command to load the image package into the local docker cache: docker load \u003c kasten_k10_offline_images_4.0.8.tar.gz After loading, you can check and confirm the image status with the following command: docker images Download the push script: curl -O https://blog.backupnext.cloud/kasten_private_repo.sh Please note that after downloading the script, be sure to review the content to ensure it‚Äôs correct before use. Modify script execution permissions: chmod +x kasten_private_repo.sh Script commands and parameters: ./kasten_private_repo.sh \u003ck10-ver\u003e \u003ctarget repo\u003e Where k10-ver is the K10 version, for example, the latest version is 4.0.8. target repo is the target private image repository, for example private.target.repo/kasten For example, with the above configuration, this command becomes: ./kasten_private_repo.sh 4.0.8 private.target.repo/kasten Running this command will automatically upload the K10 images to private.target.repo/kasten, and when installing K10, you can use this private image repository: helm install k10 k10-4.0.8.tgz --namespace kasten-io \\ --set global.airgapped.repository=private.target.repo/kasten --set metering.mode=airgap The above is the second offline installation method for today. ","date":"2021-07-22","objectID":"/en/2021/07/k10offline-script-2/:5:0","tags":["Kubernetes"],"title":"Kasten K10 Starter Series 05 - K10 Installation Package Download (2)","uri":"/en/2021/07/k10offline-script-2/"},{"categories":["Kubernetes"],"content":"Series Index Part 1 ‚Äì Single-Node Lab Part 2 ‚Äì Install K10 Part 3 ‚Äì Backup \u0026 Restore ","date":"2021-06-04","objectID":"/en/2021/06/k10offline-script/:1:0","tags":["Kubernetes"],"title":"Kasten K10 Starter Series 04 ‚Äì Offline Image Download Script","uri":"/en/2021/06/k10offline-script/"},{"categories":["Kubernetes"],"content":"Why This Script Exists Downloading K10 can be painful‚Äîespecially if you‚Äôre used to Veeam‚Äôs tidy installers. Kasten‚Äôs docs describe deployment, but there‚Äôs no simple download link. Everything lives under gcr.io, which is unreachable from many regions. Kasten suggests the JFrog Artifactory mirror for online installs, but it doesn‚Äôt integrate with the official offline script. To solve this, I wrote a helper script that pulls from a non-gcr.io mirror and pushes to your private registry. Official ‚Äúair-gap‚Äù instructions for reference: https://docs.kasten.io/latest/install/offline.html#preparing-k10-container-images-for-air-gapped-use ","date":"2021-06-04","objectID":"/en/2021/06/k10offline-script/:2:0","tags":["Kubernetes"],"title":"Kasten K10 Starter Series 04 ‚Äì Offline Image Download Script","uri":"/en/2021/06/k10offline-script/"},{"categories":["Kubernetes"],"content":"Prerequisites Run the script on Linux with: Network access to the source mirror (defaults to JFrog; customize inside the script if needed). Network access to your target private registry. jq installed (https://stedolan.github.io/jq/) docker installed (https://docs.docker.com/get-started/) ","date":"2021-06-04","objectID":"/en/2021/06/k10offline-script/:3:0","tags":["Kubernetes"],"title":"Kasten K10 Starter Series 04 ‚Äì Offline Image Download Script","uri":"/en/2021/06/k10offline-script/"},{"categories":["Kubernetes"],"content":"Usage Download the script: curl -O https://blog.backupnext.cloud/k10offline.sh Review the contents to ensure they‚Äôre safe, then make it executable: chmod +x k10offline.sh Run it with: ./k10offline.sh \u003ck10-version\u003e \u003ctarget-registry\u003e Example (K10 v4.0.3, pushing to private.target.repo/kasten): ./k10offline.sh 4.0.3 private.target.repo/kasten The script pulls all required images and uploads them to your registry. When installing K10, point Helm to that repo: helm install k10 k10-4.0.3.tgz \\ --namespace kasten-io \\ --set global.airgapped.repository=private.target.repo/kasten Enjoy smoother offline installs!*** ","date":"2021-06-04","objectID":"/en/2021/06/k10offline-script/:4:0","tags":["Kubernetes"],"title":"Kasten K10 Starter Series 04 ‚Äì Offline Image Download Script","uri":"/en/2021/06/k10offline-script/"},{"categories":["Kubernetes"],"content":"Kasten K10 Getting Started Series Table of Contents Kasten K10 Getting Started Series 01 - Quickly Build K8S Single-Node Test Environment Kasten K10 Getting Started Series 02 - K10 Installation ","date":"2021-05-18","objectID":"/en/2021/05/k10-configuration/:1:0","tags":["Kubernetes"],"title":"Kasten K10 Getting Started Series 03 - K10 Backup and Restore","uri":"/en/2021/05/k10-configuration/"},{"categories":["Kubernetes"],"content":"Main Content Previously I introduced the installation of K10. The entire installation process is actually just one helm install command. After installation is complete, subsequent operations can be performed by opening K10‚Äôs dashboard in a browser to configure the K10 backup system, manage K10 backup policies, and perform data recovery. Like all backup systems, before starting backup operations, you need to configure a data storage location for K10 to store backup data. Currently, K10 supports storing data in object storage and has not yet added VBR Repository support. In K10‚Äôs Settings, you can find the Locations setting, which is K10‚Äôs backup repository. In this Locations section, you can use the New Profiles button as shown in the figure. When creating a new one, you need to provide the S3 access address, access key, and secret key to complete the Locations Profile configuration. After configuration is complete, subsequent backup policy settings can direct backup data to be Exported to this backup repository. In K10, you don‚Äôt need to add backup objects. K10 can automatically discover all Applications in the Kubernetes Cluster where the current K10 instance is running. This is very different from previous backup software. In addition to setting up Locations for initial configuration, you also need to enable K10 Disaster Recovery. Only after enabling this operation can K10 recover our previously backed up data when any failure occurs in the current Kubernetes Cluster. This Disaster Recovery stores K10‚Äôs backup catalog database in the current cluster to object storage. When any problems occur with the cluster, you can recover the backed up catalog in a new cluster and extract data for recovery. When configuring K10 DR, administrators need to record the Cluster ID displayed on the screen after enabling K10 DR and keep it safe for subsequent K10 catalog recovery. Additionally, when enabling K10 DR, the system will prompt you to enter a ‚Äúpassphrase‚Äù which is used to create dr-secret during recovery. Therefore, this passphrase also needs to be kept safe along with the Cluster ID. ","date":"2021-05-18","objectID":"/en/2021/05/k10-configuration/:2:0","tags":["Kubernetes"],"title":"Kasten K10 Getting Started Series 03 - K10 Backup and Restore","uri":"/en/2021/05/k10-configuration/"},{"categories":["Kubernetes"],"content":"Backup All K10 backups are initiated through Policy. In the center of the dashboard is Policy-related content, including displaying the current total number of Policies and creating new Policies. To protect an Application, administrators need to open the Policy configuration page through new policy. As shown in the figure below, you need to fill in some relevant information on this configuration page to complete the creation of the backup policy. After creation is complete, you can view this Policy in Policies, and you can use run once to initiate and run a single backup job. Under normal circumstances, Policy will automatically run at the set time according to the scheduled task settings. ","date":"2021-05-18","objectID":"/en/2021/05/k10-configuration/:3:0","tags":["Kubernetes"],"title":"Kasten K10 Getting Started Series 03 - K10 Backup and Restore","uri":"/en/2021/05/k10-configuration/"},{"categories":["Kubernetes"],"content":"Restore After data backup is complete, you can see that the application status has become Compliant in Applications And you can see different restore points in Restore Points. After selecting a restore point, you can restore the entire application or delete the restore point. The above is the basic backup and restore content of K10 in this section. It has a completely graphical interface and is very simple to use. For more content, please follow the subsequent updates of this series. ","date":"2021-05-18","objectID":"/en/2021/05/k10-configuration/:4:0","tags":["Kubernetes"],"title":"Kasten K10 Getting Started Series 03 - K10 Backup and Restore","uri":"/en/2021/05/k10-configuration/"},{"categories":["Kubernetes"],"content":"Kasten K10 Starter Series Index Kasten K10 Starter Series 01 - Quick Setup for K8s Single-Node Test Environment ","date":"2021-05-12","objectID":"/en/2021/05/k10-setup/:1:0","tags":["Kubernetes"],"title":"Kasten K10 Starter Series 02 ‚Äì Installing K10","uri":"/en/2021/05/k10-setup/"},{"categories":["Kubernetes"],"content":"Main Content Kasten K10 installation uses the Kubernetes package management tool Helm. If you‚Äôre not familiar with Kubernetes, you might not know what Helm is. Simply put, Helm on Kubernetes is like yum on CentOS - when you need to install software on CentOS, you just run yum install, and on Kubernetes, it‚Äôs helm install. Helm commands, like other Linux commands, come with a lot of parameters that can be overwhelming to look at. But don‚Äôt worry, we don‚Äôt need to understand all the complex stuff. Just remember these key commands and you‚Äôll be able to handle K10 just fine: # Add a chart repository $ helm repo add \u003crepo name\u003e \u003curl\u003e # Install software $ helm install \u003cchart\u003e \u003crepo/chart\u003e --namespace \u003cnamespace name\u003e # Uninstall software $ helm uninstall \u003cchart\u003e --namespace \u003cnamespace name\u003e For K10 installation, the key elements are: Repo name (repository name): kasten Chart (software name): k10 URL (repository address): https://charts.kasten.io/ Namespace name: kasten-io (default value) ","date":"2021-05-12","objectID":"/en/2021/05/k10-setup/:2:0","tags":["Kubernetes"],"title":"Kasten K10 Starter Series 02 ‚Äì Installing K10","uri":"/en/2021/05/k10-setup/"},{"categories":["Kubernetes"],"content":"K10 Pre-Flight Check Of course, before installation, because each user‚Äôs environment can be complex and may have various conditions that don‚Äôt meet requirements, Kasten provides a pre-flight check script (pre-flight checks) to help us determine if the basic installation conditions are met. Simply put, when this script finishes running and you see all green ‚ÄúOk‚Äù statuses, then installing K10 will be completely fine. Due to some incomprehensible network issues, gcr.io cannot be accessed normally, so the pre-flight check script from the official documentation cannot run properly. Here I provide a modified script that can work normally with domestic networks: $ curl https://blog.backupnext.cloud/k10_primer.sh | bash This K10 pre-flight check script also has a dedicated parameter for storage class checks. When needed, you can perform a series of health checks on a created storage class: $ curl -s https://blog.backupnext.cloud/k10_primer.sh | bash /dev/stdin -s ${STORAGE_CLASS} ","date":"2021-05-12","objectID":"/en/2021/05/k10-setup/:3:0","tags":["Kubernetes"],"title":"Kasten K10 Starter Series 02 ‚Äì Installing K10","uri":"/en/2021/05/k10-setup/"},{"categories":["Kubernetes"],"content":"K10 Installation K10 can basically work with all Kubernetes distributions. In the official documentation, for special distributions like AWS, Azure, Red Hat Openshift, Google Cloud, DigitalOcean, and VMware vSphere, there are some specific installation guides, mostly related to service accounts. For Kubernetes distributions beyond these, you can follow the general installation method. Again, because gcr.io cannot be accessed, for our domestic networks, we need to look for the Air-Gapped Install section in the documentation. The installation steps are as follows: Download the installation script locally. After running the command, you‚Äôll see a file called k10-4.0.2.tgz in your local folder, where 4.0.2 is the current latest K10 version. # Update helm repository and grab the K10 chart locally $ helm repo update \u0026\u0026 \\ helm fetch kasten/k10 # In the command above, kasten is the repo name, and k10 is the chart name Create the kasten-io namespace in the Kubernetes cluster. # Create a namespace named \"kasten-io\" $ kubectl create namespace kasten-io Install K10 version 4.0.2 using the domestic mirror ccr.ccs.tencentyun.com/kasten/. # Install kasten k10 using helm $ helm install k10 k10-4.0.2.tgz --namespace kasten-io \\ --set global.airgapped.repository=ccr.ccs.tencentyun.com/kasten # In the command above, k10 is the chart name, and the repo is not specified, # directly using the content from the downloaded tgz compressed package, # so there's no need to search for the relevant chart in the repo anymore. Since the entire installation process will automatically fetch container images from the specified container image repository - for example, in this case, it will fetch K10 images from the Tencent domestic mirror ccr.ccs.tencentyun.com/kasten/ - it will take some time to wait. During this waiting period, you can use the following command to check the status of all K10 pods. # Check K10 status $ watch -n 2 \"kubectl get pod -n kasten-io\" When all pod statuses show as ‚Äúrunning‚Äù, you can press Ctrl+C to terminate this command. The installation process ends here. Next, you can use K10 through the graphical interface. To access the Dashboard, you need to expose the K10 service from Kubernetes. There are many methods to do this. Here‚Äôs the simplest one that I commonly use during my own testing. # Run the command in the background, publishing K10's dashboard web service through kubectl. $ kubectl -n kasten-io port-forward --address 0.0.0.0 svc/gateway 8080:8000 \u003e /dev/null 2\u003e\u00261 \u0026 You can access K10 by visiting http://cluster ip:8080/k10/#/ through your web browser and enjoy playing with it. That‚Äôs all for today‚Äôs second lesson in the Kasten K10 series. Thanks for reading, and feel free to try installing and playing around with it yourself. ","date":"2021-05-12","objectID":"/en/2021/05/k10-setup/:4:0","tags":["Kubernetes"],"title":"Kasten K10 Starter Series 02 ‚Äì Installing K10","uri":"/en/2021/05/k10-setup/"},{"categories":[],"content":"Veeam Agent for Mac arrived with v11. I assumed it required central management by VBR, but the User Guide reveals a standalone mode. Here‚Äôs how to install, configure, and back up without a VBR server. You can grab the installer by running Create Protection Group in VBR‚Äîor download the extracted .pkg from my mirror: https://cloud.189.cn/t/eEZVvifyqIrm Install the package like any macOS app (double-click, Next, Next). Afterward, enable full disk access via System Preferences ‚Üí Security \u0026 Privacy ‚Üí Privacy so the agent can read files: The agent follows Veeam‚Äôs minimal design: veeamconfig CLI handles job configuration. A Control Panel applet handles restores. Once you set a job, you rarely need the CLI again‚Äîrestores happen via the GUI. ","date":"2021-04-04","objectID":"/en/2021/04/mac-agent/:0:0","tags":["backup"],"title":"Veeam Agent for Mac Standalone Guide","uri":"/en/2021/04/mac-agent/"},{"categories":[],"content":"Command-Line Configuration Launch the CLI with: veeamconfig ","date":"2021-04-04","objectID":"/en/2021/04/mac-agent/:1:0","tags":["backup"],"title":"Veeam Agent for Mac Standalone Guide","uri":"/en/2021/04/mac-agent/"},{"categories":[],"content":"Step 1: Add a Repository Backups can target: A local folder An external drive An SMB share (NAS) Example (SMB): veeamconfig repository create \\ --name macbackup \\ --type smb \\ --location //\u003cip-or-host\u003e/share/ \\ --username adminuser \\ --password Key parameters: --name: Friendly repo name (remember it for jobs). --type smb: Optional unless using SMB. --location: Path (UNC or local). --username/--password: SMB credentials (password prompted when omitted). ","date":"2021-04-04","objectID":"/en/2021/04/mac-agent/:1:1","tags":["backup"],"title":"Veeam Agent for Mac Standalone Guide","uri":"/en/2021/04/mac-agent/"},{"categories":[],"content":"Step 2: Create a Backup Job Simple example: veeamconfig job create filelevel \\ --name VeeamBigSur \\ --reponame macbackup \\ --includedirs /Users \\ --daily --at 22:00 This creates a file-level job named VeeamBigSur that backs up /Users to macbackup every day at 22:00. Check the User Guide for more job parameters. ","date":"2021-04-04","objectID":"/en/2021/04/mac-agent/:1:2","tags":["backup"],"title":"Veeam Agent for Mac Standalone Guide","uri":"/en/2021/04/mac-agent/"},{"categories":[],"content":"Control Panel (GUI) The app lives in /Applications but mainly serves as a restore console. Use Restore for file-level recovery (Standalone mode doesn‚Äôt support ‚ÄúRestore Users‚Äù). ","date":"2021-04-04","objectID":"/en/2021/04/mac-agent/:2:0","tags":["backup"],"title":"Veeam Agent for Mac Standalone Guide","uri":"/en/2021/04/mac-agent/"},{"categories":[],"content":"Licensing \u0026 Modes Veeam Agent for Mac has three editions: Server, Workstation, and Free. Standalone mode uses the Free edition‚Äîno license required, basic features only. When the agent connects to VBR, licenses are consumed, unlocking advanced capabilities. How does it compare to macOS Time Machine? Try both‚Äîthey coexist peacefully, and each has pros/cons. That‚Äôs the standalone workflow. For more tips, visit my blog! ","date":"2021-04-04","objectID":"/en/2021/04/mac-agent/:3:0","tags":["backup"],"title":"Veeam Agent for Mac Standalone Guide","uri":"/en/2021/04/mac-agent/"},{"categories":[],"content":"You‚Äôve seen all the v11 ransomware-hardening tips‚Äîbut attackers keep innovating, so we can‚Äôt stop. Here‚Äôs an unconventional approach: rotate offline external drives. It‚Äôs basically a DIY air gap. Not bulletproof, but a handy ‚Äúwildcard‚Äù for environments that can‚Äôt invest in tape or immutable storage yet. ","date":"2021-04-02","objectID":"/en/2021/04/rotated-driver/:0:0","tags":["backup"],"title":"‚ÄúWildcard‚Äù Strategy ‚Äì Rotating External Drives for Ransomware Defense","uri":"/en/2021/04/rotated-driver/"},{"categories":[],"content":"Requirements \u0026 Scenario A hot-swap external enclosure (USB 3.0/USB-C or eSATA) for quick drive swaps. Multiple high-capacity SATA disks (7200 RPM). A rotation schedule: write backups to one drive, then eject and store it offline while another drive comes online. ","date":"2021-04-02","objectID":"/en/2021/04/rotated-driver/:1:0","tags":["backup"],"title":"‚ÄúWildcard‚Äù Strategy ‚Äì Rotating External Drives for Ransomware Defense","uri":"/en/2021/04/rotated-driver/"},{"categories":[],"content":"Expected Outcome As long as the data isn‚Äôt encrypted before ejection, it‚Äôs safe once offline. Each drive‚Äôs backup chain is self-contained; no dependency on other drives. VBR writes its own metadata alongside the backups, so restores are easy when you plug the drive back in. Compared to tape, recovery is straightforward‚Äîjust mount the drive and start restoring. ","date":"2021-04-02","objectID":"/en/2021/04/rotated-driver/:2:0","tags":["backup"],"title":"‚ÄúWildcard‚Äù Strategy ‚Äì Rotating External Drives for Ransomware Defense","uri":"/en/2021/04/rotated-driver/"},{"categories":[],"content":"How to Use It Watch the demo video below for the workflow. (Insert video link/description as in the original post.) This trick works with Veeam Backup \u0026 Replication, Veeam Agent for Windows, and Veeam Agent for Linux. Download Community Edition, set up a rotation, and give your backup plan one more layer of resilience. ","date":"2021-04-02","objectID":"/en/2021/04/rotated-driver/:3:0","tags":["backup"],"title":"‚ÄúWildcard‚Äù Strategy ‚Äì Rotating External Drives for Ransomware Defense","uri":"/en/2021/04/rotated-driver/"},{"categories":[],"content":"Today‚Äôs content is refreshingly simple‚Äînothing too technical, just a friendly reminder that‚Äôs particularly important on this special day of the year. I want to encourage everyone to make a backup, whether for personal or company data. On this annual occasion, taking a moment to back up your data feels especially meaningful. Because today, March 31st, is World Backup Day. ","date":"2021-03-31","objectID":"/en/2021/03/world-backup-day/:0:0","tags":["backup"],"title":"Save Your Precious Memories‚ÄîRight Here, Right Now!","uri":"/en/2021/03/world-backup-day/"},{"categories":[],"content":"Let Me Tell You About This Day Some of you might not be familiar with this particular celebration. The origin story is quite charming‚Äîit all started from an online community. A man named Ismail Jadun came across a Reddit post where someone was expressing deep regret after losing their data. Inspired by this moment, Ismail posted his own message on Reddit, suggesting that March 31st would be perfect‚Äîthe day before April Fools‚Äô Day. His thinking was beautifully practical: backup your data the day before, so you don‚Äôt become the fool on April 1st. His initiative struck a chord with internet users in 2011. On March 31st that year, countless people across the internet made pledges to back up their important files and precious memories. More importantly, they committed to spreading the word to friends and family, hoping everyone would have a data backup to protect what matters most. And so, March 31st became established as this annual reminder. Every year on this day, people across the internet remind each other that if you haven‚Äôt backed up your data yet, today‚Äôs the perfect opportunity. Even the simplest copy is better than nothing. ","date":"2021-03-31","objectID":"/en/2021/03/world-backup-day/:1:0","tags":["backup"],"title":"Save Your Precious Memories‚ÄîRight Here, Right Now!","uri":"/en/2021/03/world-backup-day/"},{"categories":[],"content":"Now Let‚Äôs Talk About Backups What exactly should we back up? Honestly, there‚Äôs no fixed requirement here. If you feel your data is important‚Äîregardless of what it contains‚Äîit‚Äôs worth backing up. Whether it‚Äôs a piece of text, a photograph, an audio recording, or a video file, these precious memories might exist on your phone, tablet, laptop, or even an SD card. Don‚Äôt forget‚Äîtoday, right now, is the time to make that backup. Making backups can be incredibly simple. Just remember one principle: the 3-2-1 golden rule of data protection. The most basic approach is to copy your data somewhere else. Copying to a USB drive, external hard drive, or home NAS is all excellent methods. For those who take data security seriously, you might keep multiple copies‚Äîand that‚Äôs a perfect way to practice the golden rule of data protection. It‚Äôs a straightforward method, but remarkably effective! However, when our devices start multiplying, especially for tech enthusiasts like myself who serve as the family ‚ÄúCIO‚Äù of information technology, backing up data for the entire family becomes more than just a simple copy-paste job. When you‚Äôre managing various devices and data for every family member, this is where I enthusiastically recommend Veeam Backup Community Edition. It can handle backups for up to 30 laptop devices or 5TB of data. With this software, you can centrally back up data from all the family laptops‚Äîwhether they‚Äôre Windows or Mac systems. This approach is far more convenient than copying everything to external drives manually. The setup is quite simple, too. Fire up a Workstation virtual machine or set up a Windows 2019 server on a convenient, accessible public cloud. Install Veeam Backup Community Edition, then use the new ‚ÄúCatch All mode Veeam Agent‚Äù feature in v11 to generate a client installation package and configuration file. Take these packages to each laptop, install and configure them, and you‚Äôre ready to start backing up. Of course, if you feel your household data doesn‚Äôt require the full Community Edition, you can always use Veeam Agent Free Edition to protect Windows servers‚Äîstill available for download from the official Veeam website. And that‚Äôs today‚Äôs message. If you haven‚Äôt backed up yet, seize today to make a copy of your data. Tomorrow, you won‚Äôt regret it! ","date":"2021-03-31","objectID":"/en/2021/03/world-backup-day/:2:0","tags":["backup"],"title":"Save Your Precious Memories‚ÄîRight Here, Right Now!","uri":"/en/2021/03/world-backup-day/"},{"categories":[],"content":"Ever since the massive outbreak on May 12, 2017, ransomware has continuously evolved over the past four years, generating various variants and learning different attack methods‚Äîeven learning to bribe the security guard at the gate‚Ä¶ But no matter what, the security guard is our most trusted ally, our final line of defense. Today I want to discuss with you how to build a secure backup data environment based on this final line of defense. ","date":"2021-03-22","objectID":"/en/2021/03/hardened-linux-repository/:0:0","tags":["VBR v11 ÂÆûÁî®ÊäÄÂ∑ß"],"title":"Use This Method and Your Backup Data Will Never Fear Ransomware Again","uri":"/en/2021/03/hardened-linux-repository/"},{"categories":[],"content":"Implementation Effects Let me first describe the implementation effects: For the data storage device, we‚Äôll choose a rack server with large-capacity disks, fully configured with SATA hard drives, achieving maximum capacity density in the rack while minimizing cost per TB. This part is very easy to implement‚Äîjust consult major server manufacturers to purchase such a server. Once this rack server goes live to provide services, disable remote login for all accounts. The only access method is restricted to using an external monitor, keyboard, and mouse on the server to access the console. After installation, lock the rack cabinet and control the cabinet keys. On the network switch and firewall, no modifications or settings for this server‚Äôs access are needed. Due to the port and service limitations themselves, this server only opens ports 2500-3300 used by Veeam services for data transmission. This data transmission link is limited to Veeam Datamover component access only. For Veeam services, only allow data to be written to this storage device and read from this device, while preventing modification and deletion of this written data. In simple terms, this device only leaves a single channel for data to enter this server from Veeam. Once entered, it‚Äôs sealed up, only allowing external reading and use of data through Veeam‚Äôs transparent data containment boundary. ","date":"2021-03-22","objectID":"/en/2021/03/hardened-linux-repository/:0:1","tags":["VBR v11 ÂÆûÁî®ÊäÄÂ∑ß"],"title":"Use This Method and Your Backup Data Will Never Fear Ransomware Again","uri":"/en/2021/03/hardened-linux-repository/"},{"categories":[],"content":"Implementation Tools Very simple‚Äîyou only need Linux and Veeam v11. Any Veeam version has this capability, including the Community Edition. In the new product features of v11, it‚Äôs called Hardened Linux Repository. It consists of two parts: Single-use credentials for hardened repository This feature is used to complete the initial configuration of the data storage device. During initial configuration, a single-use account for configuration purposes is used. This account is not memorized or stored in any Veeam service, and after the initial configuration is complete, you can disable this account‚Äôs remote access and sudo permissions. Immutable flag This feature is used to establish a transparent data containment boundary, allowing Veeam to write and read data, but not allowing Veeam to delete and modify written data. Of course, to balance capacity, immutable is designed as a time period. Only short-term data within the specified period enters the containment boundary, while data exceeding this period automatically exits the boundary, allowing it to be deleted after expiration to free up space. ","date":"2021-03-22","objectID":"/en/2021/03/hardened-linux-repository/:0:2","tags":["VBR v11 ÂÆûÁî®ÊäÄÂ∑ß"],"title":"Use This Method and Your Backup Data Will Never Fear Ransomware Again","uri":"/en/2021/03/hardened-linux-repository/"},{"categories":[],"content":"Configuration Method The following configuration method includes Linux server configuration and Veeam repository configuration. Linux uses Ubuntu 20.04 LTS as an example‚Äîplease modify accordingly for other distributions. Ubuntu Repository Pre-configuration Create a user for one-time login configuration. admin@hardenedrepo:~$ sudo useradd -m veeamrepo admin@hardenedrepo:~$ sudo passwd veeamrepo Prepare the corresponding backup space, complete formatting, and mount it to a directory in Ubuntu, such as /backupdata. Please verify the mount result with the following command. admin@hardenedrepo:~$ df -h | grep /backupdata Grant veeamrepo permission to manage the backup space. admin@hardenedrepo:~$ sudo chown -R veeamrepo:veeamrepo /backupdata Modify the sudoers configuration file to temporarily grant veeamrepo user sudo permissions. admin@hardenedrepo:~$ sudo vi /etc/sudoers Add the following information to the sudoers file, then save. veeamrepo ALL=(ALL:ALL) ALL With this, the Ubuntu configuration is complete, and you can proceed to configure the Hardened Repository in Veeam. VBR Configuration Select to configure Repository, with configuration type as Direct attached Storage -\u003e Linux. The entire process is no different from previous ordinary Linux Repository configurations, except that when configuring New Linux Server‚Äôs SSH Connection, choose to use ‚ÄúSingle-use credentials for hardened repository‚Ä¶‚Äù as the Credentials option, as shown below: Fill in the veeamrepo account and password, and allow automatic privilege escalation using sudo. The subsequent steps are completely identical to adding an ordinary Linux repository. In the Repository step of creating the repository wizard, check the ‚ÄúMark recent backups immutable for: xx days‚Äù checkbox and fill in the specific number of days in the blank space, as shown below: With this, the Repository in VBR is also configured. We need to return to Ubuntu to perform some subsequent further security hardening to ensure data security. Ubuntu Hardening Configuration Modify the /etc/sudoers file again to remove sudo permissions for the veeamrepo user, revoking administrator privileges. The modification method is very simple‚Äîjust add a # comment before the previously added content. Disable the ssh service to prohibit any user from logging in via ssh. admin@hardenedrepo:~$ sudo systemctl disable ssh admin@hardenedrepo:~$ sudo systemctl stop ssh Close other related network services, not allowing any other non-Veeam application access. At this point, all configuration is complete. The remaining work is to use this repository just like any other ordinary storage. All Veeam functions, whether backup, instant recovery, granular object recovery, backup verification, and data lab, are not affected in any way. That‚Äôs all for today‚Äôs content. For more detailed configuration processes, please refer to the official website user manual. ","date":"2021-03-22","objectID":"/en/2021/03/hardened-linux-repository/:0:3","tags":["VBR v11 ÂÆûÁî®ÊäÄÂ∑ß"],"title":"Use This Method and Your Backup Data Will Never Fear Ransomware Again","uri":"/en/2021/03/hardened-linux-repository/"},{"categories":[],"content":"Great tools shouldn‚Äôt come with hidden strings attached. As IT administrators, we‚Äôre always hunting for utilities that make our lives easier without breaking the budget. That‚Äôs why I‚Äôm excited about Veeam‚Äôs Community Edition‚Äîa complete toolkit that‚Äôs genuinely free, not just a trial in disguise. Beyond their flagship Veeam Availability Suite, Veeam provides every IT admin with a full set of Community Edition tools. No ads, no usage limits, no nagging upgrade prompts. They‚Äôre not quite open source, but they‚Äôre completely free to use. Think of them as Veeam‚Äôs gift to the IT community. While some advanced features and license counts are limited compared to commercial versions, the core capabilities are impressive. For detailed comparisons, check Veeam‚Äôs official comparison matrix: https://www.veeam.com/products-edition-comparison.html The best part? Veeam Backup \u0026 Replication Community Edition offers five powerful capabilities you can use right now without consuming any licenses‚Äînot even the 10 free instances that come bundled. Let me show you what makes this a must-have tool in your virtualization toolkit. ","date":"2021-03-09","objectID":"/en/2021/03/gift-from-veeam-free-community-edition/:0:0","tags":["VBR"],"title":"Free Tools Done Right","uri":"/en/2021/03/gift-from-veeam-free-community-edition/"},{"categories":[],"content":"1. VeeamZIP ‚Äì The Power of a Full Backup in a Simple Package VeeamZIP has been a cornerstone feature since Veeam‚Äôs very first release. The name tells the story‚Äîit essentially packages an entire VMware or Hyper-V virtual machine into a single compressed archive, much like creating a ZIP file of your documents. But this is far more than basic compression. Under the hood, VeeamZIP leverages Veeam‚Äôs full backup engine. Each time you run a VeeamZIP operation, you‚Äôre creating a complete full backup that results in a .vbk file. This isn‚Äôt a limited, watered-down backup‚Äîit‚Äôs the real deal, treated as a first-class citizen in Veeam‚Äôs ecosystem. When disaster strikes, every Veeam recovery method is at your disposal: Instant VM Recovery ‚Äì Boot directly from the backup, including v11‚Äôs cross-platform recovery to VMware or Hyper-V Instant Disk Recovery ‚Äì Mount individual virtual disks without full VM recovery Entire VM Restore ‚Äì Complete restoration of the virtual machine Virtual Disk Restore ‚Äì Recover specific virtual disks VM File Restore ‚Äì Extract individual files from the VM Guest File Recovery ‚Äì Granular file-level recovery inside the guest OS Application Item Recovery ‚Äì Restore specific application objects Cloud Migration ‚Äì Restore directly to Amazon EC2 or Microsoft Azure Here‚Äôs the game-changing part: VeeamZIP is truly unlimited. Whether you have 100 ESXi hosts, 1,000 virtual machines, or 1 petabyte of data, you can use VeeamZIP to create compressed archives without consuming a single one of those 10 built-in Community Edition licenses. No limits, no catches‚Äîjust powerful backup functionality. ","date":"2021-03-09","objectID":"/en/2021/03/gift-from-veeam-free-community-edition/:0:1","tags":["VBR"],"title":"Free Tools Done Right","uri":"/en/2021/03/gift-from-veeam-free-community-edition/"},{"categories":[],"content":"2. Unlock Your Storage Array‚Äôs True Potential Storage snapshot integration typically belongs to Veeam‚Äôs enterprise editions. It‚Äôs one of those powerful features that often sits unused because it requires understanding both virtualization and storage infrastructure. But if your organization uses any of these enterprise storage systems, you‚Äôre in for a treat: NetApp arrays Dell EMC SC Series or Unity HPE 3PAR or Nimble storage Lenovo V-series or DM-series Huawei OceanStore systems Veeam Community Edition gives you unlimited access to restore directly from storage snapshots‚Äîcompletely free. This capability transforms your existing storage investment into a powerful recovery solution. Using Veeam‚Äôs storage snapshot parsing and recovery engine, any volume snapshot on these supported arrays can leverage Veeam‚Äôs full recovery toolkit: Instant VM Recovery from Snapshots ‚Äì Boot VMs directly from storage snapshots Instant Disk Recovery from Snapshots ‚Äì Mount individual virtual disks from snapshots Guest File Recovery from Snapshots ‚Äì Extract files from snapshot-based VMs Application Item Recovery ‚Äì Restore specific application objects (SQL, Oracle, Exchange, Active Directory, and more) Since this recovery capability doesn‚Äôt require backup jobs to run, it remains completely license-free regardless of your environment‚Äôs scale. Whether you have 100 ESXi hosts, 10 enterprise storage arrays, 1,000 virtual machines, or 1PB of data‚Äîrestoring from storage snapshots costs nothing. This is essentially a free upgrade for your existing storage infrastructure. If you‚Äôve been told that storage snapshots aren‚Äôt user-friendly for recovery, give this a try. You might be amazed at how Veeam transforms your snapshots into production-ready recovery points. ","date":"2021-03-09","objectID":"/en/2021/03/gift-from-veeam-free-community-edition/:0:2","tags":["VBR"],"title":"Free Tools Done Right","uri":"/en/2021/03/gift-from-veeam-free-community-edition/"},{"categories":[],"content":"3. Finally, Affordable Tape Management Here‚Äôs a scenario that sounds familiar to many IT administrators: you purchase a tape library, then discover you need expensive backup software to actually use it. Even worse, many backup vendors charge per tape drive‚Äîadding another drive could mean hundreds of thousands in licensing fees. Veeam Community Edition completely changes this equation. Tape library management and usage are entirely free. You can leverage the File to Tape functionality to write any dataset to tape without worrying about licensing costs. The unlimited nature of this feature is remarkable: 1 tape drive or 100 tape drives ‚Äì no additional licensing required 10 tapes or 10,000 tapes ‚Äì write as much as you need Millions of files or 1PB of data ‚Äì scale without limits Next time you‚Äôre evaluating tape management solutions, don‚Äôt rush into expensive commercial software. A single Veeam Community Edition installation gives you everything you need for tape operations without the licensing headaches. ","date":"2021-03-09","objectID":"/en/2021/03/gift-from-veeam-free-community-edition/:0:3","tags":["VBR"],"title":"Free Tools Done Right","uri":"/en/2021/03/gift-from-veeam-free-community-edition/"},{"categories":[],"content":"4. The Hidden Gem: FastSCP This feature might be unfamiliar to most Veeam users, even seasoned veterans. But if you‚Äôve been following Veeam since 2008, you‚Äôll remember it well. FastSCP was Veeam‚Äôs very first product‚Äîthe one that started it all. Today, FastSCP lives within the Files view in Veeam Backup \u0026 Replication Community Edition. Every operation in this view leverages FastSCP‚Äôs capabilities. It provides efficient data transfer between any servers managed by Veeam, using Veeam‚Äôs high-performance data movers. The practical value is substantial. Need to move large files between ESXi hosts? FastSCP handles it seamlessly. Need to copy files between virtual machines? No problem. But here‚Äôs where it gets really clever: FastSCP includes online editing capabilities for VMware configuration files like VMX files and VMDK descriptor files. No more SSHing into ESXi shells to edit configuration files‚Äîyou can make changes directly through the Veeam console. Like all the features we‚Äôve covered, FastSCP usage is unlimited across all managed servers. Transfer as much data as you need without touching any licenses. ","date":"2021-03-09","objectID":"/en/2021/03/gift-from-veeam-free-community-edition/:0:4","tags":["VBR"],"title":"Free Tools Done Right","uri":"/en/2021/03/gift-from-veeam-free-community-edition/"},{"categories":[],"content":"5. Quick Migration ‚Äì Your vMotion Safety Net Every VMware administrator faces this dilemma: you need to move a virtual machine, but vMotion just isn‚Äôt viable. Maybe the CPUs are incompatible, the network infrastructure won‚Äôt cooperate, or licensing constraints prevent live migration. You‚Äôre stuck wondering whether to migrate at all. Veeam‚Äôs Quick Migration steps in precisely when vMotion can‚Äôt handle the job. It orchestrates a Veeam-assisted migration that gets the job done with minimal downtime. While not as seamless as live migration, it provides a reliable fallback when you need to move workloads between incompatible environments. The beauty of Quick Migration in Community Edition? It‚Äôs completely unlimited and license-free. Whether you need to migrate one VM or hundreds, the feature works without consuming any of those precious Community Edition licenses. Quick Migration accepts that some downtime is inevitable in these scenarios but minimizes it as much as possible. You get the migration completed‚Äîsometimes with a brief interruption‚Äîbut without the licensing overhead that commercial solutions would require. ","date":"2021-03-09","objectID":"/en/2021/03/gift-from-veeam-free-community-edition/:0:5","tags":["VBR"],"title":"Free Tools Done Right","uri":"/en/2021/03/gift-from-veeam-free-community-edition/"},{"categories":[],"content":"The Bottom Line These five capabilities‚ÄîVeeamZIP, storage snapshot recovery, tape management, FastSCP, and Quick Migration‚Äîmake Veeam Community Edition a permanent fixture in any IT administrator‚Äôs toolkit. It brings tremendous convenience to virtualization operations without the licensing complexity that plagues so many enterprise tools. What I love about Community Edition is its honesty. It‚Äôs genuinely free, not a trial that expires after 30 days or a limited version that nags you to upgrade constantly. It‚Äôs powerful, functional, and ready for production use in environments of any size. When you‚Äôre ready to expand beyond these capabilities, the upgrade path is straightforward. Veeam Backup Essentials or the full Veeam Availability Suite offer additional features like advanced backup job scheduling, WAN acceleration, and enterprise reporting‚Äîall built on the same solid foundation you‚Äôre already using. For now, download Community Edition and put it through its paces. I‚Äôm confident you‚Äôll find it as valuable as I have in daily IT operations. It‚Äôs the kind of tool that makes you wonder why more software isn‚Äôt this straightforward. ","date":"2021-03-09","objectID":"/en/2021/03/gift-from-veeam-free-community-edition/:1:0","tags":["VBR"],"title":"Free Tools Done Right","uri":"/en/2021/03/gift-from-veeam-free-community-edition/"},{"categories":[],"content":"Introduction On February 25, Veeam released the all-new v11 version. Last year, I published a post about upgrading to v10. Actually, this v11 upgrade process isn‚Äôt much different from the previous v10 upgrade. Today‚Äôs content will make some v11-specific adjustments to the previous post I mentioned‚Äîconsider it a small update. ","date":"2021-03-03","objectID":"/en/2021/03/how-to-upgrade-vbr-v11-edition/:1:0","tags":["VBR"],"title":"Veeam Backup Server Upgrade Guide (v11 Edition)","uri":"/en/2021/03/how-to-upgrade-vbr-v11-edition/"},{"categories":[],"content":"Before You Upgrade Please follow the flowchart below to check your current environment and ensure all other components are properly upgraded before upgrading VBR. v11 is fully compatible with the previous v10 VUL licenses, so if you‚Äôre already using VUL licenses, you don‚Äôt need to prepare or import any license files at all. ","date":"2021-03-03","objectID":"/en/2021/03/how-to-upgrade-vbr-v11-edition/:1:1","tags":["VBR"],"title":"Veeam Backup Server Upgrade Guide (v11 Edition)","uri":"/en/2021/03/how-to-upgrade-vbr-v11-edition/"},{"categories":[],"content":"Upgrade Methods There are two upgrade methods available, not much difference between them. In-place upgrade on the original VBR server Fresh install a new VBR server, then restore the Configuration Backup File to this newly installed VBR Since the second method is almost identical to a fresh installation, this article won‚Äôt elaborate on it in detail and will only discuss the first in-place upgrade method. ","date":"2021-03-03","objectID":"/en/2021/03/how-to-upgrade-vbr-v11-edition/:1:2","tags":["VBR"],"title":"Veeam Backup Server Upgrade Guide (v11 Edition)","uri":"/en/2021/03/how-to-upgrade-vbr-v11-edition/"},{"categories":[],"content":"Upgrade Preparation Prepare the Veeam upgrade media. Veeam products are very simple‚Äîthe upgrade media and fresh installation use the same media package. Just mount the product package on the VBR server. Before executing the Upgrade, you need to do a series of preparation work: Carefully read the Release Notes and check your environment to see if there are any unsupported systems: - VMware vSphere 5.1 and earlier versions - Windows 2003 and XP - Microsoft SQL Server 2005 Use Veeam Configuration Backup functionality to create a backup of the VBR configuration. Make sure this backup is done in Encrypted mode, so all usernames and passwords used in VBR will be properly saved in the .bco file. Check all backup jobs on VBR to ensure no jobs are currently running. Pay special attention to the following jobs, which need to be manually stopped by clicking Disable: - Backup Copy Jobs - SQL and Oracle log backup jobs Check if any Instant VM Recovery sessions are running Check if any Veeam Explorers are open and performing recovery operations Check if any SureBackup/Virtual Lab jobs are running Ultimately, when all tasks are stopped, the console should look like this: ","date":"2021-03-03","objectID":"/en/2021/03/how-to-upgrade-vbr-v11-edition/:1:3","tags":["VBR"],"title":"Veeam Backup Server Upgrade Guide (v11 Edition)","uri":"/en/2021/03/how-to-upgrade-vbr-v11-edition/"},{"categories":[],"content":"Upgrade Process The entire upgrade process is very simple. Just click through the wizard with a few mouse clicks, then wait quietly for about 30 minutes, and the software upgrade will be complete. Therefore, I won‚Äôt go through this process step-by-step in detail here. ","date":"2021-03-03","objectID":"/en/2021/03/how-to-upgrade-vbr-v11-edition/:1:4","tags":["VBR"],"title":"Veeam Backup Server Upgrade Guide (v11 Edition)","uri":"/en/2021/03/how-to-upgrade-vbr-v11-edition/"},{"categories":[],"content":"Possible Issues You Might Encounter During the upgrade process, the upgrade package will first stop all VBR services. You might encounter service stop timeouts or failures, causing the upgrade process to be interrupted. If you encounter failures, it‚Äôs recommended to first check whether all services starting with ‚Äúveeam‚Äù in Services.msc have been properly stopped. After all services are properly stopped, if the in-place upgrade still reports errors, it‚Äôs recommended to restart the VBR server and then try the upgrade again. Pay special attention here: after the VBR restarts, you need to re-check all VBR jobs to ensure no jobs are running automatically. If you try multiple times and still cannot perform a normal upgrade, it‚Äôs recommended to use method 2 mentioned above: fresh install a new VBR server, then import the Configuration backup file. If all the above methods fail, please contact the Veeam Support team in a timely manner. Our engineers will promptly provide you with upgrade support. The above are some tips for the upgrade. Thanks for reading! ","date":"2021-03-03","objectID":"/en/2021/03/how-to-upgrade-vbr-v11-edition/:1:5","tags":["VBR"],"title":"Veeam Backup Server Upgrade Guide (v11 Edition)","uri":"/en/2021/03/how-to-upgrade-vbr-v11-edition/"},{"categories":["VMware"],"content":"Next week, Veeam is releasing the highly anticipated v11 version of their flagship VAS suite, and the crown jewel feature is Veeam CDP. I know many of you have been waiting for this functionality for quite some time‚Äîand with good reason. After nearly five years of meticulous development and refinement, Veeam is finally bringing this feature to market in v11. What makes this CDP implementation particularly fascinating from a technical perspective is how fundamentally different it is from traditional backup and replication approaches. Since Veeam CDP leverages VMware-related technologies in ways we haven‚Äôt seen before, I wanted to give you a comprehensive primer on the underlying VMware technologies and APIs that power this feature. Understanding these foundations will help you appreciate the technical sophistication and be better prepared for deployment. ","date":"2021-02-19","objectID":"/en/2021/02/vmware-vaio-overview/:0:0","tags":["Veeam CDP"],"title":"VMware VAIO Overview","uri":"/en/2021/02/vmware-vaio-overview/"},{"categories":["VMware"],"content":"Introduction to vSphere APIs for I/O Filtering Veeam CDP is built on VMware‚Äôs vSphere APIs for I/O Filtering (VAIO) technology. This technology first appeared in vSphere 6.0U1 and really came into its own starting with vSphere 6.5. At its core, VAIO is a framework that enables applications to insert I/O filters directly into a virtual machine‚Äôs I/O path. These filters can capture VM I/O operations, allowing for various processing operations before the I/O is written to physical disk. VMware defines four primary use cases for I/O filters: Replication - Creating redundant copies of data for high availability Caching - Accelerating I/O performance through intelligent buffering Storage I/O Control - Managing and prioritizing storage resources Encryption - Securing data through cryptographic protection The latter two use cases‚ÄîStorage I/O Control and Encryption‚Äîare currently reserved for VMware‚Äôs own use. However, the Replication and Caching scenarios are open to third-party vendors to create their own solutions. Just as backup solutions leverage the VADP interface, third-party solutions utilizing VAIO must undergo rigorous VMware Ready certification. Once certified, these components appear in VMware‚Äôs official compatibility listings. ","date":"2021-02-19","objectID":"/en/2021/02/vmware-vaio-overview/:1:0","tags":["Veeam CDP"],"title":"VMware VAIO Overview","uri":"/en/2021/02/vmware-vaio-overview/"},{"categories":["VMware"],"content":"Technical Architecture of VAIO VAIO consists of two main components. The first part is VMware‚Äôs VAIO Filter Framework, which is standardized and built into every ESXi host. This framework has been integrated into the ESXi core since vSphere 6.0U1. The second part consists of the individual I/O filters themselves, which run sequentially within the VAIO Filter Framework. As you can see in the diagram below, when a virtual machine is running, its I/O path flows from the guest operating system through the VAIO Filter Framework before reaching the VMDK. As I/O passes through the VAIO Filter Framework, it gets processed by each filter defined in the framework. Only after all filters in the VAIO Filter Framework complete their processing does the I/O request get written to the final VMDK. It‚Äôs worth noting that VAIO operates on a per-virtual-machine basis. The VAIO framework defines specific filters available to each VM, so if any I/O errors occur‚Äîeven at the filter level‚Äîthey‚Äôre strictly isolated to that particular virtual machine. This isolation ensures that individual VM or filter issues don‚Äôt impact the entire ESXi host or other running virtual machines. Additionally, the VAIO framework imposes some important limitations. I/O filters are categorized by use case into four main classes, and only one filter of each class can exist simultaneously on each ESXi host. For example, if Veeam‚Äôs CDP replication filter is already installed, other vendors‚Äô replication filters cannot be installed on that same ESXi host. ","date":"2021-02-19","objectID":"/en/2021/02/vmware-vaio-overview/:2:0","tags":["Veeam CDP"],"title":"VMware VAIO Overview","uri":"/en/2021/02/vmware-vaio-overview/"},{"categories":["VMware"],"content":"VAIO Management Best Practices Typically, beyond built-in I/O filters, third-party I/O filters are deployed through integrated installation services provided by the vendor. This means you won‚Äôt find installation buttons in the vSphere Client. However, administrators can easily monitor VAIO deployment and usage across their clusters and ESXi hosts through the vSphere Client interface. ","date":"2021-02-19","objectID":"/en/2021/02/vmware-vaio-overview/:3:0","tags":["Veeam CDP"],"title":"VMware VAIO Overview","uri":"/en/2021/02/vmware-vaio-overview/"},{"categories":["VMware"],"content":"Viewing at the Cluster Level To check your cluster‚Äôs VAIO status, select the desired cluster, navigate to the Configure tab, and locate I/O Filters under the Configuration section. This view shows you the installation status of filters across your cluster: ","date":"2021-02-19","objectID":"/en/2021/02/vmware-vaio-overview/:3:1","tags":["Veeam CDP"],"title":"VMware VAIO Overview","uri":"/en/2021/02/vmware-vaio-overview/"},{"categories":["VMware"],"content":"Viewing at the ESXi Host Level For host-specific information, select the target ESXi host, go to the Configure tab, and find I/O Filters under the Storage section. This displays the filters installed on that specific ESXi host: You‚Äôll notice that the ESXi view reveals slightly different information than the cluster view, including two filter types used by VMware itself: spm (used for datastore I/O control) and vmwarevmcrypt (used for encryption). Pay special attention to the Type column in the display‚Äîthis shows each filter‚Äôs category, and as mentioned earlier, there can be only one filter per type. ","date":"2021-02-19","objectID":"/en/2021/02/vmware-vaio-overview/:3:2","tags":["Veeam CDP"],"title":"VMware VAIO Overview","uri":"/en/2021/02/vmware-vaio-overview/"},{"categories":["VMware"],"content":"I/O Filter Storage Policies I/O filters must be used in conjunction with vSphere VM Storage Policies. Typically, third-party software will automatically configure the relevant VM Storage Policies during deployment. Once configured, you can find these policies in the vSphere Client under VM Storage Policies. For instance, here‚Äôs what the Veeam CDP filter policy looks like: When a virtual machine is using I/O filters for processing, you can select the VM and navigate to Configure ‚Üí Policies to see current policy usage and assignment status: ","date":"2021-02-19","objectID":"/en/2021/02/vmware-vaio-overview/:3:3","tags":["Veeam CDP"],"title":"VMware VAIO Overview","uri":"/en/2021/02/vmware-vaio-overview/"},{"categories":["VMware"],"content":"VAIO Installation and Troubleshooting Guide Since VAIO consists of a framework and filters, and the framework is integrated into ESXi, most potential issues you‚Äôll encounter will be related to the filters themselves‚Äîparticularly during the installation process. However, filter installation follows the standard ESXi VIB package installation process, which means troubleshooting is relatively straightforward. Here are the key areas to check when troubleshooting installation issues: URL Accessibility: Can the VIB package URL be accessed properly? Package Integrity: Is the VIB package provided by the vendor correct? Maintenance Mode: During upgrade and uninstallation, are ESXi hosts in the correct maintenance mode state? Host Reboot Requirements: VIB package installation may require ESXi host restarts Maintenance Mode Automation: Did automatic maintenance mode transitions fail? Filter Conflicts: Is there a conflict with VIB packages from other similar filters? To check the status of installed packages, select an ESXi host, navigate to Configure ‚Üí System ‚Üí Packages to view the VIB package inventory: That concludes our overview of VMware VAIO technology. I hope this information helps you better understand the foundations that Veeam CDP is built upon as we approach the v11 release. The sophisticated use of VAIO represents a significant step forward in virtual machine protection, and understanding these underlying technologies will serve you well as you plan your implementation strategy. ","date":"2021-02-19","objectID":"/en/2021/02/vmware-vaio-overview/:4:0","tags":["Veeam CDP"],"title":"VMware VAIO Overview","uri":"/en/2021/02/vmware-vaio-overview/"},{"categories":["Kubernetes"],"content":"Release Notes: v1.2 2021/06/04 - Added a local registry with built-in K10 v4.0.3 images. You can use --set global.airgapped.repository=localhost:5000 during K10 installation to directly call the local docker image repository. Virtual appliance updated to v1.2, corresponding file in cloud drive: UbuntuK10-v1.2.ova Release Notes: v1.1 2021/05/03 - Tested Stateful MySQL deployment, changed the built-in Demo application in the appliance to Helm-installed MySQL. This allows quick demo and testing of backup and restore for stateful applications through this vApp. Virtual appliance updated to v1.1, corresponding file in cloud drive: UbuntuK10-v1.1.ova Since Veeam acquired Kasten, I‚Äôve been working with Kubernetes a lot more. The biggest takeaway has been dealing with the overwhelming number of commands and the heavy reliance on internet connectivity. When you can‚Äôt connect to the internet‚Äîespecially when foreign container image sites are blocked‚Äîthe typical situation is being completely stuck, unable to do anything. Of course, for the Kubernetes and container experts out there, this isn‚Äôt really a problem. But for the vast majority of system administrators and system engineers who aren‚Äôt specialized in software development, the challenge is quite significant. To build a Kasten K10 Lab environment, the fundamental requirement is a Kubernetes cluster. Kasten K10 is a native cloud application‚Äîboth the environment it runs on and the objects it backs up and restores are Kubernetes. Therefore, the challenge we face is to quickly and easily build a K8s environment and deploy a simple stateful application. Without internet connectivity, this is extremely difficult. However, where there‚Äôs a will, there‚Äôs a way, right? These small obstacles can‚Äôt stop a virtualization administrator who‚Äôs skilled in using virtualization technology. After doing some research, I drew inspiration from the quick deployment scripts shared by my Veeam Japan colleagues and used the unique OVF (Open Virtualization Format) approach in virtualization to package this process into a virtual appliance. This greatly simplifies the demo lab setup process, enabling the creation of a single-node cluster without any network downloads, complete with a WordPress application that includes a MySQL database. First, here‚Äôs the download link for this virtual appliance: https://cloud.189.cn/t/mAnyMrA36vam (access code: wd69) Please note that this virtual appliance is for personal testing and research purposes only and must not be used for any commercial purposes. I make no guarantees about the security, reliability, or stability of this appliance‚Äîusers should judge for themselves. ","date":"2020-12-07","objectID":"/en/2020/12/setting-up-quick-demo-for-k10-01/:0:0","tags":["Kubernetes"],"title":"Kasten K10 Starter Series 01 ‚Äì Build a Single-Node K8s Lab Quickly","uri":"/en/2020/12/setting-up-quick-demo-for-k10-01/"},{"categories":["Kubernetes"],"content":"Virtual Appliance Usage Instructions: Administrators skilled in VMware virtualization can import this OVA file into VMware vSphere or VMware Workstation. During the import process, the import wizard will prompt you to configure network and IP address information as shown in the image below. Pay special attention that the Netmask needs to be in CIDR format: After the import is complete, during the first boot of the virtual appliance, the device‚Äôs IP address will be automatically configured. Once the configuration is complete, you can use SSH to log into the system for basic K8s environment configuration. The initial username and password for access are: username: k10 Password: P@ssw0rd After entering the system, use the sudo -i command to switch to the root user. K8s cluster initialization requires executing 5 script files in the /root/ directory in order: 0-minio.sh 1-createk8s.sh 2-loadimage.sh 3-storage.sh 4-wordpress.sh All relevant files needed during script execution have been placed in the /root/ directory, and the scripts will automatically call these files. ","date":"2020-12-07","objectID":"/en/2020/12/setting-up-quick-demo-for-k10-01/:1:0","tags":["Kubernetes"],"title":"Kasten K10 Starter Series 01 ‚Äì Build a Single-Node K8s Lab Quickly","uri":"/en/2020/12/setting-up-quick-demo-for-k10-01/"},{"categories":["Kubernetes"],"content":"What Do These Scripts Do? 0-minio.sh This script uses MinIO (https://minio.io), the leading name in open-source object storage, to create a local object storage system. After the command is executed, the object storage will be running and accessible via the web interface at https://:9000. The initial username and password for the web interface are: username: minioadmin Password: minioadmin 1-createk8s.sh This script uses Kind technology (K8S in Docker) to run K8S nodes in containers to quickly deploy a K8S cluster. The container images used by K8S have been pre-built into this appliance, so there‚Äôs no need to download the ~1.3GB K8S docker images from the internet. Before running the script, you can confirm that the K8S docker images are in place with the following command: docker images list | grep kind After the script finishes running, you can normally use kubectl commands to view all K8S resources. At this point, all kubectl commands should work normally. For example, you can try this: kubectl get nodes 2-loadimage.sh There‚Äôs nothing particularly secret about this script‚Äîit‚Äôs purely preparation for the fourth and fifth scripts. It pushes local docker images to the localhost:5000 local image repository and loads some docker images built into the local Ubuntu into Kind for Kind to use. 3-storage.sh This script creates a local CSI Hostpath driver for the K8S cluster. The scripts it uses can be found at (https://github.com/kubernetes-csi/csi-driver-host-path). I‚Äôve modified the internet download links used by this script to use all yaml files from the local /root/ folder, and I‚Äôve also pre-pulled all docker images used by this script from the internet and loaded them into Kind in the previous step. Before running the script, you can query the pre-deployment storage class with the following command: kubectl get sc After the script finishes running, you can run this command again to see the newly configured storage class. Additionally, this step will deploy multiple pods to the default namespace. Another useful command to check the deployment status of this step is: kubectl get pod 4-wordpress.sh This script‚Äôs purpose is also simple‚Äîit deploys a WordPress application with a built-in Stateful MySQL database. After deployment is complete, you need to run the following command for port forwarding, then use a browser to access the following address for subsequent configuration at http://. $ kubectl port-forward --address 0.0.0.0 svc/wordpress 80:80 -n wordpress That concludes the brief usage instructions for this virtual k8s appliance. After deploying this environment, you can use the documentation at (https://docs.kasten.io) to proceed with normal installation and configuration of Kasten. ","date":"2020-12-07","objectID":"/en/2020/12/setting-up-quick-demo-for-k10-01/:2:0","tags":["Kubernetes"],"title":"Kasten K10 Starter Series 01 ‚Äì Build a Single-Node K8s Lab Quickly","uri":"/en/2020/12/setting-up-quick-demo-for-k10-01/"},{"categories":["Data Protection"],"content":"Since Veeam Agent for Linux 4.0 (VAL) launched alongside VBR v10 earlier this year, this increasingly powerful backup agent has seen widespread adoption across various scenarios‚Äîcloud and on-premises, virtual and physical‚Äîthere‚Äôs always a use case for VAL. However, we‚Äôve found that newcomers to VAL often struggle with the agent installation process. Even with fully automated push installations, many users encounter various installation issues. This has created an awkward situation for Veeam backup software, which is renowned for its excellent user experience, making the ‚ÄúIt just works!‚Äù slogan difficult to confidently claim. In reality, Veeam remains just as simple, and VAL delivers that same extremely simple experience. Even in the Linux open-source world, where the entry barrier is slightly higher, with just a little attention, you can experience VAL‚Äôs extremely simple user experience. Of course, this requires a few small tricks. For friends skilled in Linux usage, these aren‚Äôt problems at all. But for many backup administrators who only encounter Linux for the purpose of backup, it can be somewhat challenging. The main reason stems from VAL‚Äôs software installation dependency packages. Unlike Windows, where Veeam integrates all required dependency packages into the Veeam software itself for all Windows Server installations, VBR automatically pushes all missing dependency packages. For Linux, however, the Veeam software package doesn‚Äôt actually contain any dependency packages‚Äîall these dependency packages come from the Linux system‚Äôs own Software Package Manager. This is a key point to emphasize! What is a Package Manager? To put it simply, it‚Äôs similar to your phone‚Äôs app store. Every Linux system comes with such a Package Manager built-in, and different distributions of Linux might use different Package Managers. Package Managers are very intelligent. In most mainstream Linux distributions, the simplest way to install software is typically through a single command from the Package Manager. The Package Manager automatically completes the installation of all dependency components and ultimately delivers the corresponding software for the administrator to use. Among the various operating systems supported by VAL, different systems use different Package Managers. Below is the list of Package Managers corresponding to these systems. Linux Distribution Default Common Package Manager CentOS/Redhat/Oracle Linux/Fedora yum Debian/Ubuntu Apt SLES/openSUSE zypper Obviously, regardless of the installation method used, the first prerequisite for properly installing VAL is that the Package Manager can function normally. In Linux systems with internet connectivity, this is completely fine‚Äîin the vast majority of cases, appropriate software installation sources are included after system installation. However, in server data centers without internet access, if internal sources aren‚Äôt properly configured, various errors will occur. The solution is also very simple‚Äîjust go to the corresponding Linux distribution‚Äôs official website, download the latest ISO for the current version, and create a local source. For example, download CentOS 6.10 for CentOS 6.x, download CentOS 7.8.2003 for CentOS 7.x, then mount it in CentOS. This article uses the common CentOS 7.6 as an example to explain the complete configuration process. First, find a CentOS 7.8.2003 mirror download site, such as Alibaba Cloud‚Äôs https://mirrors.aliyun.com/centos/7.8.2003/isos/x86_64/ In CentOS, mount the just-downloaded image. [centos@localhost ~]$ sudo mkdir /mnt/cdrom [centos@localhost ~]$ sudo mount /dev/cdrom /mnt/cdrom Backup and move /etc/yum.repo.d/CentOS-Base.repo to ensure the system doesn‚Äôt use the default internet yum source. [centos@localhost ~]$ sudo mv /etc/yum.repo.d/CentOS-Base.repo ~/CentOS-Base.repo Edit /etc/yum.repo.d/CentOS-Media.repo, where you need to modify the baseurl field and the enabled field. The baseurl should point to the local source‚Äôs ISO path, ","date":"2020-09-22","objectID":"/en/2020/09/veeam-linux-agent-101/:0:0","tags":["VBR"],"title":"Veeam Agent for Linux 101","uri":"/en/2020/09/veeam-linux-agent-101/"},{"categories":[],"content":"Week 01 2020‚Äë09‚Äë07 ‚Äì Add vCenter 2020‚Äë09‚Äë08 ‚Äì Add VMware Windows Proxy 2020‚Äë09‚Äë09 ‚Äì Add VMware Linux Proxy 2020‚Äë09‚Äë10 ‚Äì Add File Proxy for NAS backups 2020‚Äë09‚Äë11 ‚Äì Add a Windows direct-attached disk as a repository Week 02 2020‚Äë09‚Äë14 ‚Äì Add a Linux server managing an XFS repository 2020‚Äë09‚Äë15 ‚Äì Add an SMB share as a repository 2020‚Äë09‚Äë16 ‚Äì Add an NFS share as a repository 2020‚Äë09‚Äë17 ‚Äì Add HPE StoreOnce 2020‚Äë09‚Äë18 ‚Äì Add AWS S3 object storage Week 03 2020‚Äë09‚Äë21 ‚Äì Add S3-compatible object storage 2020‚Äë09‚Äë22 ‚Äì Add a Scale-out Backup Repository with Capacity Tier 2020‚Äë09‚Äë23 ‚Äì Add WAN accelerators 2020‚Äë09‚Äë24 ‚Äì Push-install physical backup agents 2020‚Äë09‚Äë25 ‚Äì Add an SMB file share to protect NAS data 2020‚Äë09‚Äë27 ‚Äì Add an NFS file share to protect NAS data 2020‚Äë09‚Äë28 ‚Äì Add file servers to protect their data 2020‚Äë10‚Äë09 ‚Äì Add a tape server ","date":"2020-09-07","objectID":"/en/2020/09/backup-infra-gifs/:0:0","tags":["GIF"],"title":"High-Resolution Backup Infrastructure GIFs (Updated Weekly)","uri":"/en/2020/09/backup-infra-gifs/"},{"categories":[],"content":"Veeam prides itself on simplicity, yet the growing feature set can overwhelm newcomers. To help, I launched a WeChat mini-program that posts a short GIF every workday‚Äîeach around ten seconds‚Äîto teach one Veeam trick at a time. Scan the new QR code to follow: WeChat compresses images heavily, so if you‚Äôd like the high-resolution versions, visit my blog. ","date":"2020-09-07","objectID":"/en/2020/09/new-subscription-daily-gif/:0:0","tags":["GIF"],"title":"Learn Veeam in 10 Seconds via WeChat Search","uri":"/en/2020/09/new-subscription-daily-gif/"},{"categories":[],"content":"When Veeam released V10 it added a brand-new capability tucked away behind PowerShell cmdlets and a rather intimidating name: Data Integration API. Many admins saw the term and assumed they‚Äôd need to write code, so they never looked deeper. ","date":"2020-07-13","objectID":"/en/2020/07/data-integration-api/:0:0","tags":["Automation Powershell"],"title":"Is the Data Integration API ‚Äújust an API‚Äù?","uri":"/en/2020/07/data-integration-api/"},{"categories":[],"content":"What It Actually Does In reality, the feature is straightforward. It uses Windows‚Äô iSCSI services to publish Veeam backup data as iSCSI disks. Think of it as a new data-lab use case: any image-level backup can be presented to a Windows or Linux host over iSCSI‚Äîno VMware or Hyper-V required. Supported sources include: VMware image backups VMware replicas Hyper-V image backups Hyper-V replicas Veeam Agent for Windows Veeam Agent for Linux ","date":"2020-07-13","objectID":"/en/2020/07/data-integration-api/:1:0","tags":["Automation Powershell"],"title":"Is the Data Integration API ‚Äújust an API‚Äù?","uri":"/en/2020/07/data-integration-api/"},{"categories":[],"content":"How It Works After the API call, the VBR mount server behaves like an iSCSI array. You pick the backup/replica restore point, VBR publishes it, and consumers connect via the iSCSI protocol to access the volumes. ","date":"2020-07-13","objectID":"/en/2020/07/data-integration-api/:2:0","tags":["Automation Powershell"],"title":"Is the Data Integration API ‚Äújust an API‚Äù?","uri":"/en/2020/07/data-integration-api/"},{"categories":[],"content":"Using It Because it‚Äôs exposed through APIs, there‚Äôs no GUI button‚Äîbut that doesn‚Äôt stop us. At the end of this post you‚Äôll find a PowerShell script. Copy it into a .ps1 file on the VBR server and run it interactively; it will walk you through the prompts and publish the selected restore point over iSCSI. Sample output in PowerShell: Inside VBR you‚Äôll see the published disk listed similar to an Instant Recovery session: Next, go to the iSCSI initiator on the target host (in this example, 10.10.1.175) and connect to the mount server (10.10.1.201, port 3260). When you‚Äôre finished, don‚Äôt forget to click Stop Publishing in VBR to tear down the session. ","date":"2020-07-13","objectID":"/en/2020/07/data-integration-api/:3:0","tags":["Automation Powershell"],"title":"Is the Data Integration API ‚Äújust an API‚Äù?","uri":"/en/2020/07/data-integration-api/"},{"categories":[],"content":"Sample Script # Sample script for Veeam Data Integration API # Publishes backup data over iSCSI to a specified host # Requires at least 7 restore points (adjust as needed) # Currently targets VMware/Hyper-V backups; modify for Agents, Backup Copy, Replication, etc. # # Author: Wei Lei # Email: lei.wei@veeam.com # Version: v1.1 ################# Update log ###################### # Stops immediately when VBR credentials fail # Stops automatically if no restore point is selected ################################################### # Script Start # VBR Server (Server Name, FQDN or IP) $vbrServer = Read-Host \"ËØ∑ËæìÂÖ• VBR Âú∞ÂùÄÔºåÂèØ‰ª•ÊòØÂüüÂêçÊàñËÄÖ IP\" # VBR Credentials Write-Host \"ËØ∑Âú®ÂºπÂá∫ÂØπËØùÊ°Ü‰∏≠ËæìÂÖ• VBR ÁöÑÁî®Êà∑ÂêçÂØÜÁ†Å„ÄÇ\" $Credential=Get-Credential -Message ËØ∑ËæìÂÖ• VBR ÁöÑÁî®Êà∑ÂêçÂØÜÁ†Å $vbrusername = $Credential.Username $vbrpassword = $Credential.GetNetworkCredential().password #region Connect # Load Veeam Snapin If (!(Get-PSSnapin -Name VeeamPSSnapIn -ErrorAction SilentlyContinue)) { If (!(Add-PSSnapin -PassThru VeeamPSSnapIn)) { Write-Error \"Unable to load Veeam snapin\" -ForegroundColor Red Exit } } # Connect to VBR server $OpenConnection = (Get-VBRServerSession).Server If ($OpenConnection -ne $vbrServer) { Disconnect-VBRServer Try { Connect-VBRServer -user $vbrusername -password $vbrpassword -server $vbrServer -ErrorAction Stop } Catch { Write-Host \"Êó†Ê≥ïËøûÊé•Âà∞ VBR ÊúçÂä°Âô® - $vbrServer\" -ForegroundColor Red exit } } #endregion $VMName = Read-Host \"ËØ∑ËæìÂÖ•ÈúÄË¶ÅÁî®‰∫éÊåÇËΩΩÁöÑËôöÊãüÊú∫ÂêçÁß∞\" $IP =Read-Host \"Ë¶ÅÊåÇËΩΩÂà∞Âì™Âè∞ÊúçÂä°Âô®ÔºàIP Âú∞ÂùÄÔºâÔºü\" $backup = Get-VBRBackup $backup = @($backup | ?{$_.JobType -eq \"Backup\"}) $points = Get-VBRRestorePoint -Backup $backup -Name $VMName | Sort-Object ‚ÄìProperty CreationTime ‚ÄìDescending | Select-Object -First 7 if ($points -eq $null) { Write-Host \"Êâæ‰∏çÂà∞ËøôÂè∞ËôöÊãüÊú∫ÁöÑËøòÂéüÁÇπ„ÄÇ - $VMName\" -ForegroundColor Red exit } While($InNumber -ne 7) { Write-Host \"##############Â∑≤ÊâæÂà∞ËôöÊãüÊú∫ $VMName ÁöÑÊúÄËøë 7 ‰∏™ËøòÂéüÁÇπ##############\" -ForegroundColor Green $i = 0 foreach ($pt in $points) { $ptctime = $pt.CreationTime $i = $i + 1 Write-Host \"#\" $i . $ptctime \";\" } Write-Host \"#############################################################\" -ForegroundColor Green $InNumber = Read-Host \"ËØ∑ÈÄâÊã©ËøòÂéüÁÇπÔºà1-7Ôºâ\" $ss =@() switch($InNumber) { 1 { $pt = $points | Select-Object -Index 0 $pttime = $pt.CreationTime Write-Host \"Â∑≤ÈÄâÊã©ËøòÂéüÁÇπ $pttime „ÄÇ\" -ForegroundColor Green $ss = Publish-VBRBackupContent -RestorePoint $pt -AllowedIps $IP -RunAsync } 2 { $pt = $points | Select-Object -Index 1 $pttime = $pt.CreationTime Write-Host \"Â∑≤ÈÄâÊã©ËøòÂéüÁÇπ $pttime „ÄÇ\" -ForegroundColor Green $ss = Publish-VBRBackupContent -RestorePoint $pt -AllowedIps $IP -RunAsync } 3 { $pt = $points | Select-Object -Index 2 $pttime = $pt.CreationTime Write-Host \"Â∑≤ÈÄâÊã©ËøòÂéüÁÇπ $pttime „ÄÇ\" -ForegroundColor Green $ss = Publish-VBRBackupContent -RestorePoint $pt -AllowedIps $IP -RunAsync } 4 { $pt = $points | Select-Object -Index 3 $pttime = $pt.CreationTime Write-Host \"Â∑≤ÈÄâÊã©ËøòÂéüÁÇπ $pttime „ÄÇ\" -ForegroundColor Green $ss = Publish-VBRBackupContent -RestorePoint $pt -AllowedIps $IP -RunAsync } 5 { $pt = $points | Select-Object -Index 4 $pttime = $pt.CreationTime Write-Host \"Â∑≤ÈÄâÊã©ËøòÂéüÁÇπ $pttime „ÄÇ\" -ForegroundColor Green $ss = Publish-VBRBackupContent -RestorePoint $pt -AllowedIps $IP -RunAsync } 6 { $pt = $points | Select-Object -Index 5 $pttime = $pt.CreationTime Write-Host \"Â∑≤ÈÄâÊã©ËøòÂéüÁÇπ $pttime „ÄÇ\" -ForegroundColor Green $ss = Publish-VBRBackupContent -RestorePoint $pt -AllowedIps $IP -RunAsync } 7 { $pt = $points | Select-Object -Index 6 $pttime = $pt.CreationTime Write-Host \"Â∑≤ÈÄâÊã©ËøòÂéüÁÇπ $pttime „ÄÇ\" -ForegroundColor Green $ss = Publish-VBRBackupContent -RestorePoint $pt -AllowedIps $IP -RunAsync } Default { Write-Error \"ËØ∑ËæìÂÖ• 1-7 ‰πãÈó¥ÁöÑÊï∞Â≠óÔºÅ\" Invoke-Command {exit} } } Write-Host \"Ê≠£Âú®ÊåÇËΩΩËøòÂéüÁÇπ„ÄÇ..\" $state = $ss.StateString $ssid = $ss.id While ($state -ne \"Virtual disks published...\") { Start-Sleep -s 5 $ss = Get-VBRPublishedBackupContentSession $sss = $ss | ?{$_.id -eq $ssid} $state = $sss.StateString } Write-Host \"ËôöÊãüÊú∫ $VMName ÁöÑËøòÂéüÁÇπ $pttime Â∑≤ÊåÇËΩΩ„ÄÇ\" -ForegroundColor Green $mountinfo = Get-VBRPublishedBackupContentInfo -Session $sss $mountinfomode = $mountinfo.m","date":"2020-07-13","objectID":"/en/2020/07/data-integration-api/:3:1","tags":["Automation Powershell"],"title":"Is the Data Integration API ‚Äújust an API‚Äù?","uri":"/en/2020/07/data-integration-api/"},{"categories":[],"content":"Hardening a Veeam deployment starts with a least-privilege vSphere account. As VBR adds features, the list of required rights keeps growing‚Äîcheck the full fine-grained permission matrix. Manually clicking through every checkbox is tedious, so here‚Äôs a slick PowerCLI script I recently found that builds the role automatically. Prerequisite: install VMware PowerCLI. VMware‚Äôs official blog post explains the process in detail; below is the short version. Install PowerShell Core 7. It‚Äôs required for PowerCLI and works on Windows, macOS, and Linux. On Windows, just run the MSI installer. Launch the PowerShell 7 shortcut and install PowerCLI: Install-Module -Name VMware.PowerCLI -Scope CurrentUser Verify the modules with: Get-Module -Name VMware.* -ListAvailable Run the PowerCLI script (also mirrored on GitHub). It prompts for the vCenter address, credentials, and desired role name; supply values that fit your environment. Back in the vSphere Client, open Administration ‚Üí Access Control ‚Üí Roles and you‚Äôll see the newly created VBR Backup Admin role. Under Single Sign On ‚Üí Users and Groups, switch to the appropriate domain and create a dedicated user. Assign that user to the vCenter with the VBR Backup Admin role: That‚Äôs it‚Äîfast, repeatable, and aligned with least-privilege best practices. Script link for reference: https://github.com/falkobanaszak/vCenter-role-for-Veeam/blob/master/New_vCenterRole_Veeam.ps1. ","date":"2020-06-05","objectID":"/en/2020/06/powercli-vsphere-permission/:0:0","tags":["Automation"],"title":"Create a Minimal vSphere Role for Veeam via PowerCLI","uri":"/en/2020/06/powercli-vsphere-permission/"},{"categories":[],"content":"Backup Copy Fundamentals Veeam‚Äôs Backup Copy feature is the backbone of the 3-2-1 rule and has been part of VBR since day one. Conceptually it‚Äôs simple: take an existing restore point and duplicate it as a fully functional restore point in another repository. A restore point might be a single .vbk full or a chain of .vbk + .vib files‚ÄîBackup Copy preserves whatever structure the source job created. Backup Copy typically uses a forever-incremental chain. The first run produces a .vbk full; every subsequent run writes .vib increments on top of that base. Synthetic fulls are created via the GFS schedule‚Äîfor example: With 14 restore points and a daily schedule, the chain looks like this after one cycle: Enable Weekly GFS and set it to retain two weeks: Now you‚Äôll see two synthetic weekly fulls alongside the forever-incremental chain: ","date":"2020-06-02","objectID":"/en/2020/06/new-backup-copy/:1:0","tags":["VBR"],"title":"New Backup Copy Modes Bring 3-2-1 to More Workloads","uri":"/en/2020/06/new-backup-copy/"},{"categories":[],"content":"What‚Äôs New in V10 V10 introduces a brand-new mode while keeping the original behavior. The classic mode now carries the name Periodic Copy; the new one is Immediate Copy. Their capabilities differ slightly: Source type Immediate Copy Periodic Copy vSphere / Hyper-V VM backups ‚úîÔ∏é ‚úîÔ∏é Centrally managed Veeam Agents ‚úîÔ∏é ‚úîÔ∏é SQL \u0026 Oracle transaction logs ‚úîÔ∏é ‚úñÔ∏é Standalone Veeam Agents ‚úñÔ∏é ‚úîÔ∏é Oracle RMAN / SAP HANA ‚úîÔ∏é ‚úñÔ∏é Nutanix AHV ‚úñÔ∏é ‚úîÔ∏é AWS EC2 ‚úñÔ∏é ‚úîÔ∏é Microsoft Azure VMs ‚úñÔ∏é ‚úîÔ∏é Immediate Copy mirrors restore points as soon as the primary job finishes. It‚Äôs a 1:1 mirror of restore points‚Äînot literal file copies. For example, if the primary job creates a synthetic full every Saturday, Immediate Copy runs immediately afterward and produces a matching restore point (implemented as a .vib increment). Because it keeps up with the primary job, it‚Äôs ideal for workloads that rely on transaction-log backups and need tighter RPOs for off-site DR. Periodic Copy is the traditional schedule-based mode that runs at defined intervals. There‚Äôs no in-place conversion between modes. To adopt Immediate Copy, disable the legacy job and create a new Backup Copy job using Immediate Copy mode, checking Include database transaction log backups when needed. That‚Äôs the rundown. If you haven‚Äôt configured Backup Copy yet, now‚Äôs a great time to do it‚Äîmore workloads than ever can benefit from 3-2-1 protection. ","date":"2020-06-02","objectID":"/en/2020/06/new-backup-copy/:2:0","tags":["VBR"],"title":"New Backup Copy Modes Bring 3-2-1 to More Workloads","uri":"/en/2020/06/new-backup-copy/"},{"categories":[],"content":"After upgrading to V10, VBR gained lots of new features‚Äîand a surprising number of hidden shortcuts. Here are a few of my favorites. ","date":"2020-05-13","objectID":"/en/2020/05/hidden-key-in-vbr/:0:0","tags":["VBR"],"title":"Hidden Shortcuts Inside VBR","uri":"/en/2020/05/hidden-key-in-vbr/"},{"categories":[],"content":"Ctrl + Right-click In many views you can hold Ctrl and right-click to reveal additional menu items that aren‚Äôt visible otherwise. Start a Fresh NAS Backup Chain NAS jobs are forever-incremental, but sometimes you just need a brand-new full. In the Files shares backup job list, select the job, hold Ctrl, right-click, and the Start new backup chain button appears. After the full runs, the previous restore points move under Disk (Imported) and the new chain becomes the active forever-incremental sequence. Force-delete Oracle / SAP HANA Jobs When you configure Oracle RMAN or SAP HANA backups, VBR creates specialized jobs. The normal Delete option refuses to run until RMAN/HANA backup sets are removed. If you only want to remove the job definition, hold Ctrl, right-click, and use Force Delete. Run SOBR Tiering Now Annoyed by the rigid ‚Äúevery four hours‚Äù offload schedule? On the Scale-out Backup Repository node, hold Ctrl, right-click, and you‚Äôll find Run tiering job now. ","date":"2020-05-13","objectID":"/en/2020/05/hidden-key-in-vbr/:0:1","tags":["VBR"],"title":"Hidden Shortcuts Inside VBR","uri":"/en/2020/05/hidden-key-in-vbr/"},{"categories":[],"content":"Left/Right Arrow Keys When you double-click a job in the Jobs view, VBR shows the latest session summary. To review older sessions you don‚Äôt have to jump to the History pane‚Äîpress the left/right arrow keys within the detail window to move backward or forward through previous runs. ","date":"2020-05-13","objectID":"/en/2020/05/hidden-key-in-vbr/:0:2","tags":["VBR"],"title":"Hidden Shortcuts Inside VBR","uri":"/en/2020/05/hidden-key-in-vbr/"},{"categories":[],"content":"Other Hidden Right-click Menus Some dialogs hide context menus that are worth knowing about. SureBackup Statistics ‚Üí Troubleshooting Mode Double-click a SureBackup job to open the Statistics window. Right-clicking a VM reveals Start, which relaunches the DataLab in troubleshooting mode. In this mode the job keeps running until you manually stop it, making it ideal for investigating failures. Don‚Äôt forget to click Stop when you‚Äôre done. Capacity Tier Restore Points Normally the Backups node offers only ‚ÄúCopy path‚Äù. If the restore point resides in a SOBR with Capacity Tier enabled, additional options appear‚Äîright-click to discover them. Those are a few of the hidden gems I‚Äôve found. If you run across more, drop a note and let me know! ","date":"2020-05-13","objectID":"/en/2020/05/hidden-key-in-vbr/:0:3","tags":["VBR"],"title":"Hidden Shortcuts Inside VBR","uri":"/en/2020/05/hidden-key-in-vbr/"},{"categories":[],"content":"Ever since I joined Veeam, people have been asking, ‚ÄúWhen will we get a Chinese UI?‚Äù It‚Äôs a tough challenge, and I‚Äôve always been pessimistic about the timeline. Still, where there‚Äôs a will, there‚Äôs a way. Today I‚Äôm sharing a small treat: a Chinese localization plug-in for the Veeam Enterprise Manager web interface. Here‚Äôs a preview: Download: https://gitee.com/veeamchinadocs/veeam-webui-cn-plugin Usage is simple: download the archive, place the Veeam-CN-WebUI-Beta-1.x.x folder on any machine running Chrome (it doesn‚Äôt need to be the Enterprise Manager server), and follow the included instructions. Notes: This is a Chrome-side localization plugin. Disable it whenever you aren‚Äôt visiting Enterprise Manager. Translation coverage is roughly 95%. A few elements are still pending but don‚Äôt affect usability. If a page doesn‚Äôt refresh into Chinese immediately, just reload or click another link to trigger the switch. Because this runs entirely in the browser, it doesn‚Äôt change the Veeam software itself. Close the plug-in, refresh the page, or switch browsers/computers to go back to the original UI. Special thanks to the Veeam Japan SE team‚Äîthe plug-in builds on their work, adapted into Chinese. ","date":"2020-03-13","objectID":"/en/2020/03/localized-web-ui/:0:0","tags":["Enterprise Manager"],"title":"DIY Chrome Extension ‚Äì Enterprise Manager UI in Chinese (Beta)","uri":"/en/2020/03/localized-web-ui/"},{"categories":[],"content":"Series Index VAO Basics (1) ‚Äì Introduction VAO Basics (2) ‚Äì Installation \u0026 Deployment VAO Basics (3) ‚Äì Core Components ¬∑ Part 1 VAO Basics (4) ‚Äì Core Components ¬∑ Part 2 VAO Basics (5) ‚Äì Essential Configuration Notes VAO Basics (6) ‚Äì The First Step to a Successful DR Plan VAO Basics (7) ‚Äì Plan Steps ¬∑ Part 1 VAO Basics (8) ‚Äì Plan Steps ¬∑ Part 2 VAO Basics (9) ‚Äì Report Template Guide For the final chapter of this series, let‚Äôs look at VAO‚Äôs documentation system. VAO automatically generates the disaster-recovery documents you need, based on the configuration and execution of each Orchestration Plan. That means you can focus on running DR while VAO handles the tedious documentation work in the background. Every report contains two parts: an administrator-defined Report Template and the dynamic content that VAO injects according to the Report Type. The template always occupies the beginning of the file; the second section is auto-filled with plan-specific data. Here‚Äôs an example: The left side shows a generated Readiness Check report; the right side is the template opened in Word. The red boxes highlight the pieces provided by the template. Everything that follows is injected dynamically for that report type. ","date":"2020-03-02","objectID":"/en/2020/03/vao-guide-09/:1:0","tags":["VAO"],"title":"VAO Basics (Part 9) ‚Äì Report Template Guide","uri":"/en/2020/03/vao-guide-09/"},{"categories":[],"content":"Report Types When you right-click a plan (or use the toolbar) you‚Äôll see the supported report types: Report Type Purpose Plan Definition Report Documents every configuration detail in the plan Readiness Check Report Verifies resource availability at the recovery site Datalab Test Report Summarizes Datalab test runs Execution Report Captures the outcome of an actual restore/failover Each type ships with built-in system content. You can‚Äôt edit that portion; VAO fills it according to the plan settings and execution data. (At the moment this built-in section is English-only, though any Chinese text you include in the plan still flows through.) ","date":"2020-03-02","objectID":"/en/2020/03/vao-guide-09/:2:0","tags":["VAO"],"title":"VAO Basics (Part 9) ‚Äì Report Template Guide","uri":"/en/2020/03/vao-guide-09/"},{"categories":[],"content":"Report Templates Templates control the front half of each report. VAO includes default templates in eight languages. They‚Äôre read-only but you can Clone them to create editable copies. Editing requires Microsoft Word 2010 SP2 or newer installed on the machine running your browser. When you click Edit, VAO launches Word locally and connects it to the template. Unlike a standard Word document, these templates support dynamic fields (variables) that VAO populates later. ","date":"2020-03-02","objectID":"/en/2020/03/vao-guide-09/:3:0","tags":["VAO"],"title":"VAO Basics (Part 9) ‚Äì Report Template Guide","uri":"/en/2020/03/vao-guide-09/"},{"categories":[],"content":"Editing Dynamic Templates in Word Choose a built-in template and click Clone. I‚Äôll start from ‚ÄúVeeam Default Template (ZH)‚Äù. In the Clone dialog, pick which scope owns the template, provide a name/description, and click OK. The new template appears in the list and the toolbar buttons become active. Select it and click Edit‚Äîthis launches Microsoft Word on your workstation. Word requests credentials before opening the document. You must use the same account currently logged into VAO, otherwise the file won‚Äôt open. Once open, you‚Äôll notice yellow-highlighted regions: those are the editable sections. Titles, headers, and footers remain locked; everything else is fair game for your text and images. To insert variables, follow VAO‚Äôs convention of wrapping the placeholder in brackets, e.g., [Hi, I‚Äôm a variable]. In Word, enable the Developer tab and click Design Mode. Design Mode reveals the hidden control boundaries. Select your placeholder text, click the first Aa icon on the Developer tab to convert it into a content control, then click Properties to assign a tag/name. Fill in the Title and Tag fields (I usually make them identical). VAO recognizes the following tags, each beginning with ~: Tag Description ~Created Report generation timestamp ~TimeZone Time zone of the report ~PlanType Plan type ~PlanName Plan name ~PlanDescription Plan description ~PlanContactName DR contact name ~PlanContactEmail DR contact email ~PlanContactTel DR contact phone ~Site Site name ~SiteScopeName Site scope name ~SiteDescription Site description ~SiteContactName Site contact name ~SiteContactEmail Site contact email ~SiteContactTel Site contact phone ~ServerName Server name ~VmsInPlan VMs included in the plan ~GroupsInPlan VM groups in the plan ~ReportType Report type ~TargetRTO Target RTO ~TargetRPO Target RPO After editing, simply save or close the document‚ÄîWord pushes the changes back to the VAO server automatically. Don‚Äôt use ‚ÄúSave As‚Äù, or the file won‚Äôt update in VAO. Back in the VAO UI you can assign your custom template to any plan (per scope). From then on every generated report uses your branded front matter plus VAO‚Äôs dynamic data. That wraps up the VAO Basics series. Thanks for reading, and I hope it helps you get the most from VAO! ","date":"2020-03-02","objectID":"/en/2020/03/vao-guide-09/:4:0","tags":["VAO"],"title":"VAO Basics (Part 9) ‚Äì Report Template Guide","uri":"/en/2020/03/vao-guide-09/"},{"categories":[],"content":"Series Index VAO Basics (1) ‚Äì Introduction VAO Basics (2) ‚Äì Installation \u0026 Deployment VAO Basics (3) ‚Äì Core Components ¬∑ Part 1 VAO Basics (4) ‚Äì Core Components ¬∑ Part 2 VAO Basics (5) ‚Äì Essential Configuration Notes VAO Basics (6) ‚Äì The First Step to a Successful DR Plan VAO Basics (7) ‚Äì Plan Steps ¬∑ Part 1 VAO Basics (8) ‚Äì Plan Steps ¬∑ Part 2 VAO Basics (9) ‚Äì Document Template Deep Dive Previously we looked at the Plan Step library. Today we‚Äôll zoom in on custom scripts‚Äîhow to create them, where to run them, and how to pass parameters. I‚Äôll walk through a working example so you can follow along. ","date":"2020-02-28","objectID":"/en/2020/02/vao-guide-08/:1:0","tags":["VAO"],"title":"VAO Basics (Part 8) ‚Äì Plan Steps ¬∑ Part 2","uri":"/en/2020/02/vao-guide-08/"},{"categories":[],"content":"Creating \u0026 Configuring Custom Steps You need an account in the Administrators role to manage Plan Steps. In Administration ‚Üí Configuration ‚Üí Plan Steps you‚Äôll find the full list, including both built-in steps and any custom ones you add. Click Add to launch the wizard. Give the step a memorable name‚Äîsay ‚ÄúRemote test script‚Äù‚Äîand upload your PowerShell file via Browse. Choose whether the step is visible to all Plan Authors or hidden (for sensitive scripts). Finish the wizard to save the step. One critical reminder: custom steps can run either on the VBR server or inside the guest OS of the recovered VM. After creating the step, click its name and adjust the Execution Target on the right. The default is ‚ÄúOn VBR server‚Äù. For today‚Äôs test we‚Äôll switch it to In-Guest OS. This setting is global‚Äîif multiple scopes use the same step, they all inherit the same execution target. Create separate steps if you need different behavior. ","date":"2020-02-28","objectID":"/en/2020/02/vao-guide-08/:2:0","tags":["VAO"],"title":"VAO Basics (Part 8) ‚Äì Plan Steps ¬∑ Part 2","uri":"/en/2020/02/vao-guide-08/"},{"categories":[],"content":"Hello, Script Let‚Äôs start simple: ########### # Lei Wei - 02/28/20 # A quick demo script # v1.0 $S = Get-Date Add-Content c:\\vao_log.txt \"$S - Recording date\" If everything goes well you‚Äôll see the step appear in VAO like this: ","date":"2020-02-28","objectID":"/en/2020/02/vao-guide-08/:3:0","tags":["VAO"],"title":"VAO Basics (Part 8) ‚Äì Plan Steps ¬∑ Part 2","uri":"/en/2020/02/vao-guide-08/"},{"categories":[],"content":"Handling Errors Real scripts fail occasionally, so let‚Äôs add error handling: ########### # Lei Wei - 02/27/20 # Demo script with error handling # v1.1 try { $S = Get-Date Add-Content c:\\vao_log.txt \"$S - Recording date.\" Write-Host \"Operation succeeded\" } catch { Write-Error \"Something broke!\" Write-Error $_.Exception.Message } When this script runs, VAO captures both success and failure output and surfaces it directly in the UI: ","date":"2020-02-28","objectID":"/en/2020/02/vao-guide-08/:4:0","tags":["VAO"],"title":"VAO Basics (Part 8) ‚Äì Plan Steps ¬∑ Part 2","uri":"/en/2020/02/vao-guide-08/"},{"categories":[],"content":"Passing Parameters Scripts can also receive parameters from VAO. Update the script to accept two values: ########### # Lei Wei - 02/27/20 # Demo script with parameters # v1.2 Param( [Parameter(Mandatory=$true)] [string]$planName, [string]$text ) try { $S = Get-Date Add-Content c:\\vao_log.txt \"$S - Recording date.\" Write-Host \"Operation succeeded\" Write-Host \"Plan $planName says: $text\" } catch { Write-Error \"Something broke!\" Write-Error $_.Exception.Message } To feed those parameters from VAO, open the step and click Add under the parameters pane. The parameter names must match the script exactly (planName and text in this example). For planName, set the default value to $plan_name$‚Äîone of VAO‚Äôs built-in variables. Click Edit to see the list of available variables. For text, type a literal string such as ‚Äúparameter transfer completed‚Äù. Now run the plan that uses this step. The Step Details and final report will display the output with your parameters injected: Feels pretty powerful, right? Give it a try and start building your own automation! ","date":"2020-02-28","objectID":"/en/2020/02/vao-guide-08/:5:0","tags":["VAO"],"title":"VAO Basics (Part 8) ‚Äì Plan Steps ¬∑ Part 2","uri":"/en/2020/02/vao-guide-08/"},{"categories":[],"content":"Series Index VAO Basics (1) ‚Äì Introduction VAO Basics (2) ‚Äì Installation \u0026 Deployment VAO Basics (3) ‚Äì Core Components ¬∑ Part 1 VAO Basics (4) ‚Äì Core Components ¬∑ Part 2 VAO Basics (5) ‚Äì Essential Configuration Notes VAO Basics (6) ‚Äì The First Step to a Successful DR Plan VAO Basics (7) ‚Äì Plan Steps ¬∑ Part 1 VAO Basics (8) ‚Äì Plan Steps ¬∑ Part 2 VAO Basics (9) ‚Äì Document Template Deep Dive In Part 6 we walked through building Orchestration Plans. When designing DR, it‚Äôs best to start with a single application and scale gradually. By default, each plan includes the minimum steps required to restore or fail over a workload. VAO‚Äôs real power lies in the ability to add steps‚Äîpick what you need from the built-in library or layer on custom actions. ","date":"2020-02-27","objectID":"/en/2020/02/vao-guide-07/:1:0","tags":["VAO"],"title":"VAO Basics (Part 7) ‚Äì Plan Steps ¬∑ Part 1","uri":"/en/2020/02/vao-guide-07/"},{"categories":[],"content":"Out-of-the-box Plan Steps VAO ships with 22 predefined steps that fall into the following groups: Recovery operations ‚Äì 2 Datalab validation ‚Ä¢ Preparation ‚Äì 1 ‚Ä¢ Basic VM checks ‚Äì 2 ‚Ä¢ Application checks ‚Äì 12 Notifications ‚Äì 2 VM power control ‚Äì 2 Guest services ‚Äì 1 Everything is already baked into the product‚Äîjust follow the prompts and supply any required inputs. I won‚Äôt document every parameter here; experiment and test the ones that match your use cases. ","date":"2020-02-27","objectID":"/en/2020/02/vao-guide-07/:2:0","tags":["VAO"],"title":"VAO Basics (Part 7) ‚Äì Plan Steps ¬∑ Part 1","uri":"/en/2020/02/vao-guide-07/"},{"categories":[],"content":"Common Parameters Every step exposes a Common Parameter block that controls how the step behaves: - Failback \u0026 Undo Failover Action ‚Äì run (or skip) the step during failback/undo. - Test Action ‚Äì decide whether the step runs during Datalab tests. - Critical step ‚Äì if enabled, the plan stops immediately when this step fails. - Timeout ‚Äì maximum execution time for the step. - Retries ‚Äì number of retry attempts on failure. These settings can be adjusted per step in each plan. ","date":"2020-02-27","objectID":"/en/2020/02/vao-guide-07/:3:0","tags":["VAO"],"title":"VAO Basics (Part 7) ‚Äì Plan Steps ¬∑ Part 1","uri":"/en/2020/02/vao-guide-07/"},{"categories":[],"content":"Taking It Further with Custom Scripts Beyond the built-ins, VAO lets you run custom PowerShell scripts either on the VBR server or inside the recovered workloads. That opens the door to some creative workflows. Consider a typical three-tier architecture: Oracle runs on an AIX server. Middleware and application tiers run on VMware vSphere. Oracle GoldenGate keeps the database synchronized to the DR site. VBR protects the virtualized tiers and delivers great DR rehearsals‚Äîthe restored VMs boot inside an isolated network for full hands-on testing. But without a database, the application isn‚Äôt truly usable. ","date":"2020-02-27","objectID":"/en/2020/02/vao-guide-07/:4:0","tags":["VAO"],"title":"VAO Basics (Part 7) ‚Äì Plan Steps ¬∑ Part 1","uri":"/en/2020/02/vao-guide-07/"},{"categories":[],"content":"Enter VAO With VAO we can orchestrate the entire environment: Kick off the application Failover/Restore Plan. Before recovering the VMs, add a PowerShell step that talks to the DR-site AIX systems. That script instructs AIX to deploy a new LPAR. Another script attaches a virtual NIC to the LPAR and connects it to the same isolated sandbox network used by VAO. The sandbox can‚Äôt route to production, so everything stays contained. A third script spins up the latest Oracle copy on that LPAR. Once the database is ready, power on the replicated middleware/app VMs inside the sandbox so they can reach the DR Oracle instance. Leave the environment running for testing, development, or training. When testing wraps up, the DR admin advances the plan to the next step. VAO performs Undo Failover on the vSphere VMs, returning them to the pre-test state. A final script notifies AIX to remove the temporary LPAR and database so nothing leaks back into production. This approach isn‚Äôt limited to AIX‚Äîit works with HP-UX, Oracle Exadata, public-cloud resources, and anything else reachable via PowerShell or REST. With custom scripts plus scheduling, VAO becomes a Swiss Army knife for orchestrated DR. In the next installment we‚Äôll dive into building and managing those custom scripts. Stay tuned! ","date":"2020-02-27","objectID":"/en/2020/02/vao-guide-07/:4:1","tags":["VAO"],"title":"VAO Basics (Part 7) ‚Äì Plan Steps ¬∑ Part 1","uri":"/en/2020/02/vao-guide-07/"},{"categories":[],"content":"Series Index VAO Basics (1) ‚Äì Introduction VAO Basics (2) ‚Äì Installation \u0026 Deployment VAO Basics (3) ‚Äì Core Components ¬∑ Part 1 VAO Basics (4) ‚Äì Core Components ¬∑ Part 2 VAO Basics (5) ‚Äì Essential Configuration Notes VAO Basics (6) ‚Äì The First Step to a Successful DR Plan VAO Basics (7) ‚Äì Plan Step ¬∑ Part 1 VAO Basics (8) ‚Äì Plan Step ¬∑ Part 2 VAO Basics (9) ‚Äì Document Template Deep Dive With the earlier configuration work completed, VAO is ready for day-to-day use. Plan Authors can sign in, see only the scopes they‚Äôre allowed to touch, and work with the objects inside those scopes‚ÄîOrchestration Plans, DataLabs, and Reports. Meeting an enterprise‚Äôs RPO/RTO targets takes more than raw compute and software; administrators must also understand how the tool behaves. VAO is powerful, but the DR team needs to know every step and its expected outcome. The first step toward a successful DR plan is to understand how VAO executes one. For the walkthrough below I‚Äôm using the Plan Author account user1@sedemolab.local, which can access ‚ÄúScope A‚Äù and ‚ÄúScope B‚Äù. ","date":"2020-02-25","objectID":"/en/2020/02/vao-guide-06/:1:0","tags":["VAO"],"title":"VAO Basics (Part 6) ‚Äì The First Step to a Successful DR Plan","uri":"/en/2020/02/vao-guide-06/"},{"categories":[],"content":"Orchestration Plan VAO supports two plan types: Restore Plans (backup-based) and Failover Plans (replica-based). Both are the backbone of your disaster recovery processes; every automated action runs through them. My recommendation is to start small‚Äîstick with the built-in Plan Steps, keep the workflow short, and only introduce custom scripts after you‚Äôre comfortable with the mechanics. Open Orchestration Plans on the left. In the toolbar, expand Manage ‚Üí New to launch the plan wizard. Choose the scope this plan belongs to. Each scope already bundles VM Groups, Recovery Locations, Plan Steps, etc., so the plan must live within a specific scope. Select Scope A and click Next. Fill out Plan Info. These details flow into the generated reports. Pick the Plan Type (Restore or Failover). Restore Plans include a Recovery Location step; choose one of the locations defined earlier in Plan Components. Select the VM Groups to recover. Available groups come from the scope; move the required groups into Plan Groups. Use View VMs to inspect the members. Configure VM Recovery Options: If any VM recovery fails then: decide whether the plan continues with the remaining VMs or stops immediately. Recover the VMs in each group: run simultaneously or in sequence. Recover simultaneously max of VMs: limit parallel recoveries (default 10). Test and tune this to match your resources. Restore VM Tags: typically leave unchecked when restoring to a new location to avoid tag conflicts. On VM Steps, choose the steps to run for each VM. VAO selects ‚ÄúRestore VM‚Äù and ‚ÄúCheck VM Heartbeat‚Äù by default. While learning the product, experiment by adding steps one at a time so you understand what each does before baking it into production plans. Protect VM Groups lets VAO back up the restored VMs immediately. Tick the option and select a Template Job (defined earlier under Plan Components). Define the plan‚Äôs RTO and RPO targets. VAO actively tracks these and raises warnings if they‚Äôre missed. Values can be configured down to the minute. Choose the Report Template (PDF or Word). I‚Äôll cover custom templates in Part 9. Schedule automatic report generation. VAO currently supports daily schedules‚Äîpick the time of day that fits your workflow. Optionally enable the immediate Readiness Check so VAO validates resource availability right after the plan is created. Review the Summary and click Finish. The new plan appears in the list. Once created, you can: Launch: Run now or schedule. Manage: Enable/Disable, create a new plan, edit, reset, delete. Verify: Run a Datalab test or a Readiness check. Report: Generate or download documentation. Fresh plans start disabled (grey icon). Use Manage ‚Üí Enable to activate. After executing a plan, click Manage ‚Üí Reset before reusing it. ","date":"2020-02-25","objectID":"/en/2020/02/vao-guide-06/:2:0","tags":["VAO"],"title":"VAO Basics (Part 6) ‚Äì The First Step to a Successful DR Plan","uri":"/en/2020/02/vao-guide-06/"},{"categories":[],"content":"Datalab Testing Under Verify you‚Äôll find Run Datalab test. This wizard spins up a near-production rehearsal of the plan, including every custom script. Networking stays isolated inside the chosen DataLab, so you can measure the recovery process and timing safely. ","date":"2020-02-25","objectID":"/en/2020/02/vao-guide-06/:3:0","tags":["VAO"],"title":"VAO Basics (Part 6) ‚Äì The First Step to a Successful DR Plan","uri":"/en/2020/02/vao-guide-06/"},{"categories":[],"content":"Restore Plan Test Pick the DataLab to run in (all scope-assigned labs appear here). Choose a Quick Test (Instant VM Recovery only) or a Full Test (includes migrations). Select the Recovery Location for the test, even if the plan already specifies one. This selection is specific to the Datalab run. Decide what happens after the automated checks finish‚Äîpower off immediately or keep the lab running for additional testing, specifying the number of hours to keep it alive. Select any required Lab Groups (similar to Application Groups in VBR). This step is optional. Review the Summary and click Finish to start the test. ","date":"2020-02-25","objectID":"/en/2020/02/vao-guide-06/:3:1","tags":["VAO"],"title":"VAO Basics (Part 6) ‚Äì The First Step to a Successful DR Plan","uri":"/en/2020/02/vao-guide-06/"},{"categories":[],"content":"Failover Plan Test Failover Plans follow the same wizard but skip the test-type and Recovery Location steps‚Äîyou jump straight to power options and Lab Group selection. ","date":"2020-02-25","objectID":"/en/2020/02/vao-guide-06/:3:2","tags":["VAO"],"title":"VAO Basics (Part 6) ‚Äì The First Step to a Successful DR Plan","uri":"/en/2020/02/vao-guide-06/"},{"categories":[],"content":"Scheduling Datalab Tests You can automate these exercises via the Datalab Calendar on the dashboard. Click Create Schedule to define a recurring plan: set the time window and choose which plans to test in the selected lab. Existing schedules are shown on the calendar so you always know what‚Äôs pending. These basics‚Äîcreating Orchestration Plans and validating them with Datalab tests‚Äîlay the groundwork for successful disaster recovery. Stay tuned for the next installment! ","date":"2020-02-25","objectID":"/en/2020/02/vao-guide-06/:3:3","tags":["VAO"],"title":"VAO Basics (Part 6) ‚Äì The First Step to a Successful DR Plan","uri":"/en/2020/02/vao-guide-06/"},{"categories":[],"content":"Series Index VAO Basics (1) ‚Äì Introduction VAO Basics (2) ‚Äì Installation \u0026 Deployment VAO Basics (3) ‚Äì Core Components ¬∑ Part 1 VAO Basics (4) ‚Äì Core Components ¬∑ Part 2 VAO Basics (5) ‚Äì Essential Configuration Notes VAO Basics (6) ‚Äì The First Step of a Successful DR Plan VAO Basics (7) ‚Äì Plan Step ¬∑ Part 1 VAO Basics (8) ‚Äì Plan Step ¬∑ Part 2 VAO Basics (9) ‚Äì Document Template Deep Dive In the previous articles, we‚Äôve covered the basic architecture and components of VAO, all of which involve settings in the Administration section‚Äîoperations that can only be performed by accounts with VAO administrator privileges. VAO administrators can set different Scopes for each application group here and assign these Scopes to relevant personnel for use. This feature enables effective grouping and isolation‚Äîisn‚Äôt this somewhat similar to multi-tenancy or multi-user systems? But there are significant differences. This article addresses some points worth noting regarding the configurations mentioned earlier. ","date":"2020-02-21","objectID":"/en/2020/02/vao-guide-05/:1:0","tags":["VAO"],"title":"VAO Basics (Part 5) ‚Äì Essential Configuration Notes","uri":"/en/2020/02/vao-guide-05/"},{"categories":[],"content":"Core Infrastructure vCenter Addition During the installation and initial configuration process, we added vCenter to VAO. If you remember from previous posts, you might have noticed that I never mentioned configuring the embedded VBR and Veeam ONE. Actually, after completing the initial configuration, VAO very intelligently writes the vCenter information we filled in during the initialization phase into both VBR and Veeam ONE. Therefore, we don‚Äôt need to add it again in VBR and Veeam ONE. VBR Addition In VAO, you can manage multiple VBR or Enterprise Manager instances. When managing non-embedded VBRs, you simply need to push the VAO Agent from the VAO console to the VBR to take control of that VBR. This operation is also quite simple. Through this method, you can easily manage large-scale backup/disaster recovery environments. Active Directory In project implementation, many user environments often don‚Äôt have Active Directory, but VAO requires AD to function, which can be quite a headache. However, when you think about it, this issue is actually quite simple. Everyone can think about VDI projects‚Äîthey also require AD to work, so wouldn‚Äôt those projects be in a panic? Not really, because it‚Äôs simple: if there‚Äôs no AD, we create one. For project success, we create conditions when they don‚Äôt exist. This is something that completely doesn‚Äôt challenge us engineers. ","date":"2020-02-21","objectID":"/en/2020/02/vao-guide-05/:2:0","tags":["VAO"],"title":"VAO Basics (Part 5) ‚Äì Essential Configuration Notes","uri":"/en/2020/02/vao-guide-05/"},{"categories":[],"content":"Scope Scope is particularly difficult to understand, but once you figure it out, it‚Äôs actually quite simple. Therefore, for this configuration overview, I strongly recommend everyone go back to my third article to strengthen their understanding of the Scope concept, and through practice, set up some complex scenarios in VAO to understand this Scope. Only through hands-on experience can you truly master Scope and use VAO well. This is the most critical component. Additionally, for Scope, you can‚Äôt just look at Scopes from the ‚ÄúUsers and Scopes‚Äù perspective. You need to look at it from the 2 dimensions of Scope to make this concept vividly appear before us: Users authorized to use this Scope; The 5 major Components included in the Scope and corresponding DataLabs; ","date":"2020-02-21","objectID":"/en/2020/02/vao-guide-05/:3:0","tags":["VAO"],"title":"VAO Basics (Part 5) ‚Äì Essential Configuration Notes","uri":"/en/2020/02/vao-guide-05/"},{"categories":[],"content":"Datalabs First, understand the configuration of all DataLabs in VBR. If you still don‚Äôt know how to configure DataLabs in VBR, then you won‚Äôt be able to use VAO effectively, because this is a necessary component and prerequisite for VAO. DataLabs configuration in VAO involves almost no operation; it‚Äôs simply assigned to the corresponding Scope through the Assign action. In VAO, it‚Äôs very difficult to know how your DataLabs are configured. If we need to use a large number of DataLabs, we might have to go back to VBR and open each configuration one by one to check, which is very unscientific. So I have a great little trick to share with everyone here. In the DataLabs information in VAO, it will get the Name, Description, Platform, and VBR Server Name of this DataLabs from VBR. At this time, everyone can make good use of this Description. You only need to copy the content of the Virtual Lab Summary when creating DataLabs in VBR and paste it into this Virtual Lab‚Äôs Description. This way, the detailed configuration information about this DataLabs will be read into VAO, and we can clearly know the specific configuration of this DataLabs. As shown in the figure below, this is my final effect. ","date":"2020-02-21","objectID":"/en/2020/02/vao-guide-05/:4:0","tags":["VAO"],"title":"VAO Basics (Part 5) ‚Äì Essential Configuration Notes","uri":"/en/2020/02/vao-guide-05/"},{"categories":[],"content":"Recovery Locations The configuration is relatively complex, and once set, it becomes fixed. However, this is just a logical combination of compute resources that actually only exists within VAO. Whether in vCenter, VBR, or Veeam ONE, this Recovery Locations will not exist. Therefore, this is also very good news: no matter how this Recovery Locations is set, it will not affect the normal operation of any other components except VAO. A small tip for everyone: feel free to set up Recovery Locations and combine them recklessly. Even if they won‚Äôt be used by actual Orchestration Plans, what‚Äôs the harm in leaving them there? Who knows, maybe one day they‚Äôll be needed? Of course, in the end, we still need to be reasonable here. Configuring reasonably according to needs can reduce the complexity of this system and ultimately achieve efficient disaster recovery services for us. The above are the configuration points for the Administration section in VAO. Starting from the next article, we will enter the actual usage phase. Thank you for following this series. ","date":"2020-02-21","objectID":"/en/2020/02/vao-guide-05/:5:0","tags":["VAO"],"title":"VAO Basics (Part 5) ‚Äì Essential Configuration Notes","uri":"/en/2020/02/vao-guide-05/"},{"categories":[],"content":"Series Index VAO Basics (1) ‚Äì Introduction VAO Basics (2) ‚Äì Installation \u0026 Deployment VAO Basics (3) ‚Äì Core Components ¬∑ Part 1 VAO Basics (4) ‚Äì Core Components ¬∑ Part 2 VAO Basics (5) ‚Äì Key Configuration Points VAO Basics (6) ‚Äì The First Step of a Successful DR Plan VAO Basics (7) ‚Äì Plan Step ¬∑ Part 1 VAO Basics (8) ‚Äì Plan Step ¬∑ Part 2 VAO Basics (9) ‚Äì Document Template Deep Dive ","date":"2020-02-20","objectID":"/en/2020/02/vao-guide-04/:1:0","tags":["VAO"],"title":"VAO Basics (Part 4) ‚Äì Core Components ¬∑ Part 2","uri":"/en/2020/02/vao-guide-04/"},{"categories":[],"content":"Plan Components The following components must be configured for each scope. Part 3 showed you where to edit them; now we‚Äôll discuss what each component is and how to configure it. VM Groups VM Groups define which VMs a scope is allowed to operate on. In other words, they draw the boundary of ‚Äúwhich virtual machines belong to this scope, and which production VMs will our Orchestration Plans touch.‚Äù Unlike simple ‚Äúcheck a VM‚Äù workflows, VAO does not let you freely select VMs inside the product. Instead, VM groups come from Veeam ONE‚Äôs Business View engine, which is tightly integrated with VAO and provides the classification logic. See the docs for details: https://helpcenter.veeam.com/docs/vao/categorization/about.html?ver=20 https://helpcenter.veeam.com/docs/one/monitor/bv_categorization_model.html?ver=100 Business View recognizes three approaches: 1. vSphere tags 2. Import via .CSV 3. Custom Business View categorization policies None is inherently superior; pick what your admins feel comfortable with. vSphere Tags This grouping method needs to be performed in vSphere. By applying different tags to different VMs, VMs with the same tag name will be grouped into the same VM Group, and the name of this VM Group will be the tag name from vSphere. This grouping method cannot be modified in the Veeam system - it only needs to be operated in vSphere. After the operation is complete, VAO will receive the operation results after a short wait. This operation is fully automatic synchronization. Import via .CSV This can be done manually or automatically. This operation needs to be performed on the embedded Veeam ONE in VAO. Open the Veeam ONE Monitor console, and you can find the Business View tab in Server Settings. Here you will find options for automatic synchronization from CSV files and manual one-time import from CSV files. It should be noted that the grouping method imported this way requires proper organization of the CSV file structure. The structure is as shown in the following table: Server ObjectType MoRef Category1 server.local VirtualMachine vm-01 Group1 server.local VirtualMachine vm-02 Excluded This CSV file can be created and updated manually, or generated by third-party systems. Personally, I think this method is rather rigid and not very easy to use. Custom Business View policies Inside Business View, right-click and choose Add Category to launch the policy wizard, which can build groups based on attributes. In practice the conditions aren‚Äôt as flexible as we‚Äôd like, so most environments still land on vSphere tags. Therefore, I still recommend everyone to use vSphere Tags for grouping. After completing the operation in vSphere, you just need to wait for a while, and the relevant VM Groups will appear in VAO. As shown in the figure below: Here, the naming combination of VM Groups is vSphere Tags Category Name - vSphere Tag Name. Therefore, we see that the VAO Backup tag in vSphere is displayed as VAO Tags Group - VAO Backup in the VM Groups in VAO. After selecting this VM Group, you can see the list of virtual machines included in this VM Group on the right side of the screen. Click the Include button above to add this VM Group to the currently selected Scope. Recovery Locations Recovery Locations are the physical computing resources that our Orchestration Plan will use during recovery, including the three core resources: Compute, Storage, and Network. When converted to vSphere, they have the following corresponding relationships: VAO Recovery Locations name vSphere resources Compute ESXi„ÄÅCluster Storage Datastore Network Port group names on virtual switches In VAO, just like selecting VM Groups, we cannot directly select a specific ESXi or Datastore as our Recovery Location. We can only obtain them through the Business View engine embedded in Veeam ONE. Similar to the VM Group settings above, we can group ESXi or Cluster and Datastore through vSphere Tags. After grouping is complete, VAO can read this information. It‚Äôs s","date":"2020-02-20","objectID":"/en/2020/02/vao-guide-04/:2:0","tags":["VAO"],"title":"VAO Basics (Part 4) ‚Äì Core Components ¬∑ Part 2","uri":"/en/2020/02/vao-guide-04/"},{"categories":[],"content":"Series Index VAO Basics (1) ‚Äì Introduction VAO Basics (2) ‚Äì Installation \u0026 Deployment VAO Basics (3) ‚Äì Core Components ¬∑ Part 1 VAO Basics (4) ‚Äì Core Components ¬∑ Part 2 VAO Basics (5) ‚Äì Key Configuration Points VAO Basics (6) ‚Äì The First Step of a Successful DR Plan VAO Basics (7) ‚Äì Plan Step ¬∑ Part 1 VAO Basics (8) ‚Äì Plan Step ¬∑ Part 2 VAO Basics (9) ‚Äì Document Template Deep Dive VAO defines a special set of concepts for the components it uses. Names may change as releases evolve, but this article reflects v2.0 (and later). If a future version changes again, I‚Äôll update it in a later post. ","date":"2020-02-19","objectID":"/en/2020/02/vao-guide-03/:1:0","tags":["VAO"],"title":"VAO Basics (Part 3) ‚Äì Core Components ¬∑ Part 1","uri":"/en/2020/02/vao-guide-03/"},{"categories":[],"content":"Scope Definition \u0026 Purpose Scope is the most fundamental concept in VAO, first introduced in v2.0. Each scope contains the elements a DR plan needs; VAO refers to them collectively as Plan Components: - VM Groups - Recovery Locations - Plan Steps - Credentials - Template Jobs Picture a scope as a room. The furniture in that room corresponds to the components above. When we create an Orchestration Plan, we select and arrange those components‚Äîlike furniture‚Äîto build a one-click recovery workflow. In addition, each scope has one or more DataLabs of its own. In other words, every scope has one or more dedicated DataLabs. We‚Äôll go deeper into Plan Components and DataLabs in Part 4. Types \u0026 Creation Scopes fall into two categories. The first is the built-in Default scope, which can neither be renamed nor deleted. The Administrators role lives exclusively in this scope. If you want to grant any user the ability to perform Administration tasks, you must add that user to the Administrators role under Default. Recall from Part 2: the account we added during the initialization wizard was automatically placed in this role. You can add more administrative users later. The second category is every additional scope you create. These can be renamed or deleted, and their roles are limited to Plan Authors. Under each scope‚Äôs Plan Authors role, you assign whichever users you want. Example: If the ‚Äúroom‚Äù analogy helps: each scope is a room with a lock. You cut different keys for different users. Key A opens room A, key B opens room B, etc. Translating that into VAO permissions: Rooms (Scopes): A, B, C, D User 1 holds the keys for rooms A and B. User 2 holds the keys for rooms B, C, and D. User 3 holds the key for room D. Which in VAO terms becomes: Scope A: User 1 Scope B: User 1, User 2 Scope C: User 2 Scope D: User 2, User 3 To assign those keys, log in with an account that has the Administrator role and open Administration ‚Üí Permissions ‚Üí Users and Scope: After saving the assignments, if User 1 logs in again, the Dashboard shows exactly which scopes they can access (for User 1 that means A and B): Assigning Plan Components Still under Administration ‚Üí Permissions, switch to Plan Components. Here you decide which components each scope can use. The selector in the red box lets you check one or multiple scopes. Technically you can configure several scopes at once, but to avoid mistakes I recommend selecting and configuring one scope at a time. ","date":"2020-02-19","objectID":"/en/2020/02/vao-guide-03/:2:0","tags":["VAO"],"title":"VAO Basics (Part 3) ‚Äì Core Components ¬∑ Part 1","uri":"/en/2020/02/vao-guide-03/"},{"categories":[],"content":"DataLabs A VAO DataLab is simply the Virtual Lab you configured in VBR. Once a Virtual Lab exists in VBR, VAO detects it and lets you assign it to scopes. Each Virtual Lab can be assigned to exactly one scope. To assign a DataLab, log in as an Administrator, go to Administration ‚Üí Permissions ‚Üí Datalab Assignment, select the Virtual Lab in the middle column, and click Assign. Choose the scope in the pop-up dialog: Need to move it to another scope? Select the Virtual Lab and click Unassign. Once unassigned, you can assign it elsewhere. Lab Groups If you‚Äôre used to VBR‚Äôs Virtual Lab, Application Group, SureBackup Job‚Äîyou might wonder where the latter two went. In VAO, Application Groups correspond to Lab Groups. You won‚Äôt find them in the Administration console; instead, each user signs into their own VAO UI, goes to DataLabs, and creates Lab Groups under their scope. Lab Groups aren‚Äôt inherited from VBR‚Äîthey‚Äôre created from scratch inside VAO. Usually Lab Groups can remain empty, just like Application Groups. Only when an application has dependencies‚Äîi.e., one VM depends on another‚Äîdo you add those supporting systems to the Lab Group. As for SureBackup jobs: VAO no longer needs you to configure them separately. SureBackup is baked directly into each Orchestration Plan. We‚Äôll dive deeper into that in later chapters. That‚Äôs it for this installment‚Äîthanks for reading! ","date":"2020-02-19","objectID":"/en/2020/02/vao-guide-03/:3:0","tags":["VAO"],"title":"VAO Basics (Part 3) ‚Äì Core Components ¬∑ Part 1","uri":"/en/2020/02/vao-guide-03/"},{"categories":[],"content":"Series Index VAO Basics (1) ‚Äì Introduction VAO Basics (2) ‚Äì Installation \u0026 Deployment VAO Basics (3) ‚Äì Core Components ¬∑ Part 1 VAO Basics (4) ‚Äì Core Components ¬∑ Part 2 VAO Basics (5) ‚Äì Key Configuration Points VAO Basics (6) ‚Äì The First Step of a Successful DR Plan VAO Basics (7) ‚Äì Plan Step ¬∑ Part 1 VAO Basics (8) ‚Äì Plan Step ¬∑ Part 2 VAO Basics (9) ‚Äì Document Template Deep Dive ","date":"2020-02-18","objectID":"/en/2020/02/vao-guide-02/:1:0","tags":["VAO"],"title":"VAO Basics (Part 2) ‚Äì Installation \u0026 Deployment","uri":"/en/2020/02/vao-guide-02/"},{"categories":[],"content":"Getting the VAO Installer You can download VAO directly from Veeam‚Äôs website ‚Äì here‚Äôs the shortcut. The ISO contains the entire VAO suite: the VAO server plus embedded instances of VBR and Veeam ONE. Although those embedded builds are just regular VBR/Veeam ONE installations, they cannot be extracted and installed separately; VAO deploys them because they are mandatory components. After VAO is up, you can reach the embedded VBR and Veeam ONE consoles like any other installation. The current ISO includes VBR 9.5 U4 and Veeam ONE 9.5 U4‚Äîonce VAO is installed, remember to patch both to 9.5 U4a/U4b using the standard upgrade process. ","date":"2020-02-18","objectID":"/en/2020/02/vao-guide-02/:2:0","tags":["VAO"],"title":"VAO Basics (Part 2) ‚Äì Installation \u0026 Deployment","uri":"/en/2020/02/vao-guide-02/"},{"categories":[],"content":"Installation Prerequisites Two important reminders: Do not run the VAO installer on a server that already hosts VBR or Veeam ONE. Do not install VAO on a domain controller. In practice, regardless of whether you already have VBR in production, plan to deploy VAO onto a brand-new Windows Server. After the installation, you can either add your existing VBR into VAO for centralized orchestration, or simply use the embedded VBR instance for day-to-day backup/replication tasks. For more detailed prerequisites, see the official requirements. ","date":"2020-02-18","objectID":"/en/2020/02/vao-guide-02/:3:0","tags":["VAO"],"title":"VAO Basics (Part 2) ‚Äì Installation \u0026 Deployment","uri":"/en/2020/02/vao-guide-02/"},{"categories":[],"content":"Installation Process The download is an ISO file. Mount it and autorun the splash screen‚Äîyou‚Äôll find the VAO setup button: The wizard is identical to other Veeam products: keep clicking Next to finish the base deployment. When the installation completes, immediately install the VBR 9.5 U4a and Veeam ONE 9.5 U4a patches‚ÄîU4a fixes many VAO-related bugs. Need help upgrading VBR to 9.5 U4a? Refer to my earlier post. During installation you must provide a username and password. These credentials are used by VAO, VBR, Veeam ONE, and their databases. The account therefore needs at least local Windows administrator rights on the VAO server (membership in the local Administrators group is sufficient). Although this account is unrelated to the disaster recovery administrator who will manage VAO later, the very first time you log into the UI you must use this same account. ","date":"2020-02-18","objectID":"/en/2020/02/vao-guide-02/:4:0","tags":["VAO"],"title":"VAO Basics (Part 2) ‚Äì Installation \u0026 Deployment","uri":"/en/2020/02/vao-guide-02/"},{"categories":[],"content":"Initial Configuration After installation, do not open the embedded VBR or Veeam ONE consoles yet. Start the initialization wizard immediately by navigating to https://\u003cVAO IP\u003e:9898/. Your browser prompts for credentials‚Äîenter the same username/password you specified during setup. This account is used only once during initialization; after the wizard finishes you‚Äôll sign in with the DR admin defined in step 4 below. Once authenticated, the Welcome page briefly introduces what the wizard will configure. Read through it if you like and click Next. Provide the VAO server‚Äôs basic management details. These fields are later referenced in document templates. Don‚Äôt worry if you make a mistake‚Äîyou can edit the values later under Configuration. Next, specify the VAO DR administrator. This must be an Active Directory account because VAO requires AD. If your environment lacks AD, create a dedicated domain just for VAO. This account will be used to access VAO after the wizard completes. When initialization finishes, the local administrator you used during setup can no longer log in‚Äîso be sure to note the DR admin credentials here. The next page covers VBR integration. If you already have a VBR or Enterprise Manager instance you want VRO to orchestrate, enter its address now. Otherwise, click Skip to use the embedded VBR instance. For brand-new environments, it‚Äôs perfectly acceptable to skip this step and rely on the embedded VBR for backup/replication. This series focuses on the ‚ÄúSkip‚Äù scenario (using the built-in VBR). After skipping VBR, you‚Äôre prompted to add vCenter. Provide the production site‚Äôs vCenter account‚Äîideally create a dedicated account for VAO and place it in the vCenter Administrators group. Although this step is optional in the wizard, vCenter is mandatory for actual operations. Even if you skip it now, you must register every vCenter later under Configuration. VAO does not support direct ESXi connections, so you can‚Äôt run VAO without vCenter. After you complete the steps above, click Finish. The page refreshes back to the VAO login screen. Sign in with the DR admin account defined in step 4 and you‚Äôre ready to go. Welcome to VAO! From here you can begin using the product. In the next article we‚Äôll walk through the individual components. ","date":"2020-02-18","objectID":"/en/2020/02/vao-guide-02/:5:0","tags":["VAO"],"title":"VAO Basics (Part 2) ‚Äì Installation \u0026 Deployment","uri":"/en/2020/02/vao-guide-02/"},{"categories":[],"content":"There‚Äôs exciting momentum building in the Veeam ecosystem. With Veeam Availability Suite v10 just around the corner, we‚Äôre also anticipating the release of Veeam Availability Orchestrator v3.0. Right now, VAO is still at version 2.0, but I‚Äôve been spending considerable time diving deep into this powerful yet often misunderstood product. Many Veeam users I talk to find VAO intriguing but mysterious. It looks sophisticated and powerful, yet they‚Äôre unsure how to leverage it in their environment. That‚Äôs exactly why I‚Äôm starting this introductory series‚Äîto share what I‚Äôve learned and help demystify VAO for the community. ","date":"2020-02-17","objectID":"/en/2020/02/vao-guide-01/:0:0","tags":["VRO"],"title":"VRO v6 Âü∫Á°ÄÂÖ•Èó®Ôºà‰∏ÄÔºâ -  ÁÆÄ‰ªã","uri":"/en/2020/02/vao-guide-01/"},{"categories":[],"content":"What is VAO? Think of VAO as Veeam Availability Suite (VAS) on steroids. It‚Äôs not a standalone product‚ÄîVAO extends and enhances your existing VAS deployment, working seamlessly with Veeam Backup \u0026 Replication (VBR). There‚Äôs one important caveat though: VAO is VMware-specific, so you‚Äôll need a vSphere environment to leverage its capabilities. So what does VAO actually bring to the table? Three core capabilities that transform how you handle disaster recovery: Guaranteed SLAs: Software-driven automation ensures your disaster recovery infrastructure consistently meets your RPO and RTO requirements Automated failover: Streamlines the entire disaster recovery switching process, working with both backup archives and replicated VMs Verified recovery: Leverages DataLabs to validate your disaster recovery plans with 1:1 simulated testing‚Äîno more guessing if your recovery will work when it matters most VAO essentially supercharges three critical VBR operations: Recovery, Failover, and SureBackup. It takes these essential functions and adds a layer of orchestration and customization. You can inject custom steps and scripts into these operations, tailoring them to your specific business requirements. For administrators, this means dramatically simplified disaster recovery workflows that align perfectly with real-world scenarios. ","date":"2020-02-17","objectID":"/en/2020/02/vao-guide-01/:1:0","tags":["VRO"],"title":"VRO v6 Âü∫Á°ÄÂÖ•Èó®Ôºà‰∏ÄÔºâ -  ÁÆÄ‰ªã","uri":"/en/2020/02/vao-guide-01/"},{"categories":[],"content":"Where can you use VAO? VAO adapts to your infrastructure, whether you‚Äôre running a simple setup or a complex multi-site environment. Let me walk through two common scenarios to illustrate how VAO fits into different architectures. ","date":"2020-02-17","objectID":"/en/2020/02/vao-guide-01/:2:0","tags":["VRO"],"title":"VRO v6 Âü∫Á°ÄÂÖ•Èó®Ôºà‰∏ÄÔºâ -  ÁÆÄ‰ªã","uri":"/en/2020/02/vao-guide-01/"},{"categories":[],"content":"Single Data Center In a single data center deployment, VAO integrates seamlessly with your existing VAS infrastructure. Your day-to-day backup and restore operations continue running on VBR exactly as before‚Äînothing changes there. What VAO adds is a layer of intelligent orchestration for your most critical workloads. Here‚Äôs how it works in practice: you identify your mission-critical VMs and hand over their RPO/RTO management to VAO. When disaster strikes, these systems recover in-place, so you don‚Äôt need dedicated recovery resources standing by. The beauty of this approach is its simplicity‚Äîyou‚Äôre essentially just elevating your protection strategy for the VMs that matter most, without overhauling your entire infrastructure. ","date":"2020-02-17","objectID":"/en/2020/02/vao-guide-01/:2:1","tags":["VRO"],"title":"VRO v6 Âü∫Á°ÄÂÖ•Èó®Ôºà‰∏ÄÔºâ -  ÁÆÄ‰ªã","uri":"/en/2020/02/vao-guide-01/"},{"categories":[],"content":"Primary and Backup Data Centers Now let‚Äôs look at a more complex but very common scenario: geographically distributed primary and backup data centers. Your primary site handles production workloads, while your secondary site serves as your disaster recovery target. This is where VAO really shines. In a typical VAS setup, you‚Äôre already copying backup files to your DR site and replicating critical VMs. VAO takes this foundation and orchestrates the entire recovery process at your backup site. You can build comprehensive Recovery Plans and Failover Plans that leverage those replicated VMs and backup copies, then validate everything in isolated DataLabs. The architecture remains fundamentally similar to the single data center approach, but now you have the flexibility to dedicate resources specifically for disaster recovery testing and execution. ","date":"2020-02-17","objectID":"/en/2020/02/vao-guide-01/:2:2","tags":["VRO"],"title":"VRO v6 Âü∫Á°ÄÂÖ•Èó®Ôºà‰∏ÄÔºâ -  ÁÆÄ‰ªã","uri":"/en/2020/02/vao-guide-01/"},{"categories":[],"content":"The Two Types of VAO Plans It‚Äôs important to understand that VAO doesn‚Äôt replace your backup and replication functionality‚Äîit orchestrates it. All the heavy lifting of data protection still happens in VBR. What VAO adds are two types of orchestration plans that bring everything together. ","date":"2020-02-17","objectID":"/en/2020/02/vao-guide-01/:3:0","tags":["VRO"],"title":"VRO v6 Âü∫Á°ÄÂÖ•Èó®Ôºà‰∏ÄÔºâ -  ÁÆÄ‰ªã","uri":"/en/2020/02/vao-guide-01/"},{"categories":[],"content":"Restore Plans Think of Restore Plans as VAO‚Äôs way of orchestrating traditional backup and recovery operations. When you need to recover from backup files (.vbk, .vib, .vrb files, etc.), a Restore Plan handles the entire workflow, ensuring everything happens in the right order with proper validation. ","date":"2020-02-17","objectID":"/en/2020/02/vao-guide-01/:3:1","tags":["VRO"],"title":"VRO v6 Âü∫Á°ÄÂÖ•Èó®Ôºà‰∏ÄÔºâ -  ÁÆÄ‰ªã","uri":"/en/2020/02/vao-guide-01/"},{"categories":[],"content":"Failover Plans Failover Plans are all about replicated environments. When you have VMs replicated to your disaster recovery site, Failover Plans orchestrate the entire switchover process‚Äîfrom powering down production VMs to bringing their replicas online and handling all the networking complexities in between. Both plan types come with powerful built-in capabilities: DataLabs validation: Test your plans in isolated environments without impacting production Resource availability checks: Verify that your infrastructure is ready before executing critical operations Automated reporting: Get detailed documentation of every recovery operation One-click automation: Execute complex recovery procedures with a single command ","date":"2020-02-17","objectID":"/en/2020/02/vao-guide-01/:3:2","tags":["VRO"],"title":"VRO v6 Âü∫Á°ÄÂÖ•Èó®Ôºà‰∏ÄÔºâ -  ÁÆÄ‰ªã","uri":"/en/2020/02/vao-guide-01/"},{"categories":[],"content":"Enhanced DataLabs Capabilities DataLabs have always been one of Veeam‚Äôs standout features, and VAO takes them to the next level. While you can still use DataLabs to test your recovery and failover plans, VAO adds powerful scripting and workflow automation that transforms how you approach disaster recovery testing. Here‚Äôs what makes this special: you can build sophisticated test environments with custom scripts and predefined steps, then execute complex testing scenarios with the click of a button. What used to require hours of manual setup and configuration now happens automatically. This dramatically increases your testing frequency and coverage, ensuring your disaster recovery plans are always ready when you need them. ","date":"2020-02-17","objectID":"/en/2020/02/vao-guide-01/:4:0","tags":["VRO"],"title":"VRO v6 Âü∫Á°ÄÂÖ•Èó®Ôºà‰∏ÄÔºâ -  ÁÆÄ‰ªã","uri":"/en/2020/02/vao-guide-01/"},{"categories":[],"content":"Coming Up in This Series This is just the beginning of our VAO journey. Over the next few posts, I‚Äôll dive deeper into practical implementation and advanced topics. Here‚Äôs what‚Äôs coming up: VAO Basics (2) - Installation \u0026 Deployment VAO Basics (3) - Core Components ¬∑ Part 1 VAO Basics (4) - Core Components ¬∑ Part 2 VAO Basics (5) - Essential Configuration Tips VAO Basics (6) - Building Your First Successful Disaster Recovery Plan VAO Basics (7) - Plan Steps Deep Dive ¬∑ Part 1 VAO Basics (8) - Plan Steps Deep Dive ¬∑ Part 2 VAO Basics (9) - Document Templates Explained ","date":"2020-02-17","objectID":"/en/2020/02/vao-guide-01/:5:0","tags":["VRO"],"title":"VRO v6 Âü∫Á°ÄÂÖ•Èó®Ôºà‰∏ÄÔºâ -  ÁÆÄ‰ªã","uri":"/en/2020/02/vao-guide-01/"},{"categories":[],"content":"Introduction Veeam is about to launch the new v10 version. In this version, Veeam supports upgrading from previous VBR to v10. The smooth upgrade process is not complicated and is similar to previous VBR upgrades, though there are some details to pay attention to. ","date":"2020-02-13","objectID":"/en/2020/02/how-to-upgrade-vbr/:1:0","tags":["VBR"],"title":"Veeam Backup Server Upgrade Guide","uri":"/en/2020/02/how-to-upgrade-vbr/"},{"categories":[],"content":"Before Upgrade Please check your current environment according to the flowchart below. Ensure other components are properly upgraded before upgrading VBR. Starting from v10, Veeam will use the new Veeam Universal License (VUL). Please log in to My.veeam.com in advance to get the updated License. During the upgrade process, you will be prompted to use the new License to activate the product. ","date":"2020-02-13","objectID":"/en/2020/02/how-to-upgrade-vbr/:1:1","tags":["VBR"],"title":"Veeam Backup Server Upgrade Guide","uri":"/en/2020/02/how-to-upgrade-vbr/"},{"categories":[],"content":"Upgrade Methods There are two methods to upgrade, with no significant difference. In-place upgrade on the original VBR server; Install a new VBR server, then restore the Configuration Backup File to this newly installed VBR. Since the second method is almost identical to a fresh installation, this article will not discuss it in detail and will only cover the first in-place upgrade method. ","date":"2020-02-13","objectID":"/en/2020/02/how-to-upgrade-vbr/:1:2","tags":["VBR"],"title":"Veeam Backup Server Upgrade Guide","uri":"/en/2020/02/how-to-upgrade-vbr/"},{"categories":[],"content":"Upgrade Preparation Prepare the Veeam upgrade media. Veeam products are very simple - the upgrade media uses the same package as fresh installation. Just mount the product package to the VBR server. Before executing the Upgrade, you need to do a series of preparation work: Carefully read the Release Notes, check your environment, and see if there are any unsupported systems. - VMware vSphere 5.1 and earlier versions - Windows 2003 and XP - Microsoft SQL Server 2005 Use Veeam Configuration Backup to create a backup of your VBR configuration. Please ensure this backup is in Encrypted mode, so all usernames and passwords used in VBR will be properly saved in the .bco file. Check all backup jobs on the VBR server to ensure no jobs are running. Pay special attention to the following jobs, which need to be manually clicked Disable to stop: - Backup Copy Job - SQL, Oracle log backup jobs Check if any Instant VM Recovery is running; Check if any Veeam Explorer is open and performing recovery; Check if any SureBackup/Virtual Lab is running. When all tasks are stopped, the status will be as shown below: ","date":"2020-02-13","objectID":"/en/2020/02/how-to-upgrade-vbr/:1:3","tags":["VBR"],"title":"Veeam Backup Server Upgrade Guide","uri":"/en/2020/02/how-to-upgrade-vbr/"},{"categories":[],"content":"Upgrade Process The entire upgrade process is very simple. Just follow the wizard and click through a few screens, then quietly wait for about 30 minutes for the software to complete the upgrade. Therefore, I won‚Äôt go into step-by-step details of this process here. ","date":"2020-02-13","objectID":"/en/2020/02/how-to-upgrade-vbr/:1:4","tags":["VBR"],"title":"Veeam Backup Server Upgrade Guide","uri":"/en/2020/02/how-to-upgrade-vbr/"},{"categories":[],"content":"Possible Issues During the upgrade process, the upgrade package will first stop all VBR services. You may encounter service stop timeouts or failures, causing the upgrade process to interrupt. If you encounter failures, it‚Äôs recommended to first check if services starting with ‚Äúveeam‚Äù in Services.msc have been properly stopped. After all services are properly stopped, if the in-place upgrade still reports errors, you can try restarting the VBR server and then attempting the upgrade again. Here, pay special attention that after the VBR restart, you need to recheck all VBR jobs to ensure no jobs are running automatically. If you try multiple times and cannot perform a normal upgrade, it‚Äôs recommended to use method 2 mentioned above - install a new VBR server and then import the Configuration backup file. If all the above methods fail, please contact the Veeam Support team in time. Our engineers will promptly provide you with upgrade support. These are some upgrade tips. Thank you for reading! ","date":"2020-02-13","objectID":"/en/2020/02/how-to-upgrade-vbr/:1:5","tags":["VBR"],"title":"Veeam Backup Server Upgrade Guide","uri":"/en/2020/02/how-to-upgrade-vbr/"},{"categories":["ÈªëÁßëÊäÄ"],"content":"It‚Äôs been ages since I last shared something from my ‚ÄúBlack Technology‚Äù series, but today I‚Äôm excited to introduce a feature I‚Äôve been dying to write about. This is quite possibly one of Veeam‚Äôs most powerful yet underappreciated capabilities. I‚Äôd rank it in the top three for sheer utility, yet I‚Äôm willing to bet most Veeam users have no idea it even exists. It‚Äôs like having a silent guardian working behind the scenes in every single backup and replication job, quietly protecting your virtual machines without anyone noticing. ","date":"2019-07-24","objectID":"/en/2019/07/snapshot-hunter/:0:0","tags":["VMware"],"title":"ÈªëÁßëÊäÄ | ÊøÄÊ¥ªÈöêËóèÂú® VBR ‰∏≠ÁöÑÂø´ÁÖßÁåéÊâã","uri":"/en/2019/07/snapshot-hunter/"},{"categories":["ÈªëÁßëÊäÄ"],"content":"Understanding VMware Snapshots VMware snapshots are probably the most controversial technology in virtualization history. They‚Äôre the feature that draws many people into virtualization in the first place, yet they‚Äôre also responsible for driving others away from certain solutions altogether. For any backup software worth its salt, mastering snapshots isn‚Äôt optional‚Äîit‚Äôs absolutely essential. You simply can‚Äôt do proper virtualization backups without becoming a snapshot expert first. Veeam relies heavily on VMware snapshot technology. When a backup job kicks off, Veeam sends snapshot commands through vSphere‚Äôs API, and you‚Äôll see a temporary snapshot called ‚ÄúVEEAM BACKUP TEMPORARY SNAPSHOT‚Äù appear in the VM‚Äôs snapshot manager. Once the job completes, Veeam sends another command to remove it. Here‚Äôs where things get tricky. With multiple infrastructure components communicating, things don‚Äôt always go smoothly. Sometimes that temporary snapshot never gets deleted properly. Even worse, you might experience what I call ‚Äúfalse deletion‚Äù‚Äîthe snapshot disappears from the manager but the underlying files remain on your datastore. These leftover snapshot files (those 00001.vmdk delta files) become what VMware calls orphaned snapshots. They‚Äôre trouble waiting to happen, potentially disrupting future snapshot operations and consuming valuable storage space. VMware does offer a ‚ÄúConsolidate‚Äù option to fix this, but getting there isn‚Äôt always straightforward. These situations are what we in the VMware community refer to as snapshot issues. They‚Äôre notoriously difficult to spot early, and manual consolidation can fail spectacularly if you don‚Äôt catch them in time. For those dealing with these headaches, I‚Äôve compiled some helpful VMware KB articles that might save you hours of troubleshooting: https://kb.vmware.com/s/article/1005049 https://kb.vmware.com/s/article/1006847 https://kb.vmware.com/s/article/1038963 https://kb.vmware.com/s/article/2003638 ","date":"2019-07-24","objectID":"/en/2019/07/snapshot-hunter/:0:1","tags":["VMware"],"title":"ÈªëÁßëÊäÄ | ÊøÄÊ¥ªÈöêËóèÂú® VBR ‰∏≠ÁöÑÂø´ÁÖßÁåéÊâã","uri":"/en/2019/07/snapshot-hunter/"},{"categories":["ÈªëÁßëÊäÄ"],"content":"Enter the Snapshot Hunter Now, what if you could avoid all that manual consolidation drama entirely? That‚Äôs where Veeam Backup \u0026 Replication (VBR) comes in with its secret weapon: the Snapshot Hunter. This feature is an absolute game-changer for anyone who‚Äôs ever wrestled with snapshot problems. The best part? It works completely automatically in the background, running silently in every backup and replication job. Most Veeam users have no idea it‚Äôs even there, tirelessly protecting their virtual machines from snapshot chaos. The Snapshot Hunter operates with a simple but brilliant two-step approach: Step 1: Cleanup leftover Veeam snapshots Before each backup job, it scans for any remaining ‚ÄúVEEAM BACKUP TEMPORARY SNAPSHOT‚Äù entries from previous jobs and removes them. This ensures your VMs start each backup with a clean slate. Step 2: Hunt down orphaned snapshots If it finds any orphaned snapshots, it attempts to consolidate them automatically. This catches everything else that might have slipped through the cracks. But here‚Äôs where it gets really clever. For that second step‚Äîhandling orphaned snapshots‚ÄîVeeam has developed a sophisticated consolidation algorithm that essentially combines the best practices from all four of those VMware KB articles I mentioned earlier. The Four-Stage Consolidation Strategy 1. The Standard Approach First, Veeam tries the same method you‚Äôd use manually in vCenter‚Äîit attempts standard snapshot consolidation. If this works (and often it does), the problem is solved instantly. 2. Force Consolidation If the standard approach fails, Veeam escalates to a more aggressive strategy. It creates a new snapshot and then triggers VMware‚Äôs ‚ÄúDelete all snapshot‚Äù command, essentially forcing the removal of all orphaned snapshots in one operation. 3. Force Consolidation with Quiescence Still having issues? Veeam tries again, but this time it creates a quiesced snapshot (one that ensures application-consistent data) before attempting the deletion again. 4. The Safety Net If all three methods fail, Veeam doesn‚Äôt keep trying indefinitely. Instead, it sends you an alert recommending manual intervention. This prevents potential storage exhaustion while giving you the information you need to take action. I‚Äôll be sharing a video demo soon that shows the Snapshot Hunter in action‚Äîyou‚Äôll get to see firsthand just how powerful this hidden feature really is. Until then, keep exploring those lesser-known features. Sometimes the best tools are the ones working quietly in the background, keeping everything running smoothly while we focus on the bigger picture. Thanks for reading, and I‚Äôll catch you in the next one! ","date":"2019-07-24","objectID":"/en/2019/07/snapshot-hunter/:0:2","tags":["VMware"],"title":"ÈªëÁßëÊäÄ | ÊøÄÊ¥ªÈöêËóèÂú® VBR ‰∏≠ÁöÑÂø´ÁÖßÁåéÊâã","uri":"/en/2019/07/snapshot-hunter/"},{"categories":["Êï∞ÊçÆÊÅ¢Â§ç"],"content":"Here‚Äôs a fundamental truth about IT infrastructure: security and backup are your two essential pillars. Whether you‚Äôre running a home setup or enterprise systems, you need both. But here‚Äôs where things get interesting‚Äîantivirus software faces an impossible battle. It‚Äôs constantly chasing new malware variants, dealing with sophisticated evasion techniques, and sometimes even fighting back against viruses designed to disable the antivirus itself. The traditional approach of installing antivirus on every individual OS has serious limitations. It‚Äôs resource-intensive, easily compromised, and frankly, not enough in today‚Äôs threat landscape. Virtualization helped by moving antivirus engines into the hypervisor layer, avoiding many of the problems with agent-based installations. But we still face a critical challenge: no single antivirus catches everything. Even the best solutions need constant signature updates, and there are always some threats that slip through the cracks. According to AV-Test, there are dozens of antivirus solutions on the market, each with different strengths and varying detection rates across versions. The other day, while designing a distributed backup architecture, I had an insight about Veeam‚Äôs Mount Server functionality. What if we could leverage different Mount Servers, each running a different antivirus engine? This would create a multi-layered defense system where we could choose specific scanning engines during Secure Restore operations. It‚Äôs a simple but powerful idea: use Veeam‚Äôs infrastructure to orchestrate comprehensive malware detection across multiple antivirus platforms. ","date":"2019-07-18","objectID":"/en/2019/07/secure-restore/:0:0","tags":["VMware"],"title":"Secure Restore | Making Malware Detection Truly Comprehensive","uri":"/en/2019/07/secure-restore/"},{"categories":["Êï∞ÊçÆÊÅ¢Â§ç"],"content":"Making It Work ","date":"2019-07-18","objectID":"/en/2019/07/secure-restore/:1:0","tags":["VMware"],"title":"Secure Restore | Making Malware Detection Truly Comprehensive","uri":"/en/2019/07/secure-restore/"},{"categories":["Êï∞ÊçÆÊÅ¢Â§ç"],"content":"Setting Up Your Mount Servers In Veeam Backup \u0026 Replication, Mount Servers are straightforward components. Basically, you need a Windows Server that‚Äôs managed as a Veeam server. The real requirement is network connectivity‚Äîyour Mount Server needs to talk to both the VBR server and your backup repositories. For the specific port requirements, check the official documentation. https://helpcenter.veeam.com/docs/backup/vsphere/used_ports.html?ver=95u4#mount Once you‚Äôre in the VBR console, navigate to Backup Infrastructure ‚Üí Managed Servers and add your Windows Server. The process follows Veeam‚Äôs familiar wizard pattern: Server Details: Enter the FQDN or IP address of your Mount Server. Pro tip: use the description field to note which antivirus engine this server runs‚Äîit‚Äôll make identification much easier later. Credentials: Provide administrator credentials for Veeam to push and install the Mount Server components. Installation Preview: Review the components to be installed and complete the setup. ","date":"2019-07-18","objectID":"/en/2019/07/secure-restore/:1:1","tags":["VMware"],"title":"Secure Restore | Making Malware Detection Truly Comprehensive","uri":"/en/2019/07/secure-restore/"},{"categories":["Êï∞ÊçÆÊÅ¢Â§ç"],"content":"Assigning Mount Servers to Repositories Each backup repository can be assigned a specific Mount Server. This is where the magic happens‚Äîwhen you need a particular antivirus engine, simply edit your repository settings and select the corresponding Mount Server. From there, it‚Äôs business as usual. Run any recovery operation that supports Secure Restore, and Veeam will automatically use the antivirus engine associated with your chosen Mount Server. That‚Äôs the complete solution. Not overly complex, but incredibly effective for administrators dealing with malware challenges. By leveraging Veeam‚Äôs infrastructure this way, you gain the flexibility to apply multiple antivirus engines where they matter most‚Äîduring the recovery process. ","date":"2019-07-18","objectID":"/en/2019/07/secure-restore/:1:2","tags":["VMware"],"title":"Secure Restore | Making Malware Detection Truly Comprehensive","uri":"/en/2019/07/secure-restore/"},{"categories":["Data Recovery"],"content":"Yesterday, I walked you through setting up Veeam Agent for Microsoft Windows and creating your first backups. But a backup strategy isn‚Äôt complete without knowing how to restore when disaster strikes. That‚Äôs why today I‚Äôm covering the essential recovery methods that make Veeam Agent such a powerful tool for Windows users. Whether you need to recover a single file or rebuild an entire system, understanding these recovery options will give you the confidence to handle any data loss scenario. ","date":"2019-07-03","objectID":"/en/2019/07/agent-backup-and-restore/:0:0","tags":["Agent"],"title":"Restoring Data from Your Veeam Backups: A Complete Guide","uri":"/en/2019/07/agent-backup-and-restore/"},{"categories":["Data Recovery"],"content":"Three Recovery Scenarios While there‚Äôs essentially one way to create backups, Veeam excels at giving you multiple recovery paths to get your data back quickly. The right method depends on what you‚Äôre trying to restore and how much time you have. ","date":"2019-07-03","objectID":"/en/2019/07/agent-backup-and-restore/:1:0","tags":["Agent"],"title":"Restoring Data from Your Veeam Backups: A Complete Guide","uri":"/en/2019/07/agent-backup-and-restore/"},{"categories":["Data Recovery"],"content":"1. File-Level Recovery The most straightforward recovery method works right from the Veeam Control Panel. Each bar in your backup timeline represents a restore point‚Äîessentially a snapshot of your system at that moment. Click any bar to dive deeper into that backup. You‚Äôll see detailed logs of your incremental backups, and at the bottom of the window, you‚Äôll find two recovery options: one for individual files and another for entire volumes. The Restore Files option opens a file-level recovery browser that looks and feels just like Windows Explorer. This familiar interface lets you navigate through your backup archives and extract exactly what you need. Veeam provides a full set of operations‚Äîrestore, overwrite, copy, and view properties‚Äîto give you complete control over your recovery process. Need even more flexibility? Click the Open in Explorer button to access your backup directly through Windows Explorer. This gives you full visibility into every file format in your backup archive, making it easy to locate and recover specific content. ","date":"2019-07-03","objectID":"/en/2019/07/agent-backup-and-restore/:1:1","tags":["Agent"],"title":"Restoring Data from Your Veeam Backups: A Complete Guide","uri":"/en/2019/07/agent-backup-and-restore/"},{"categories":["Data Recovery"],"content":"2. Volume-Level Recovery Sometimes you need to recover an entire drive or partition rather than just individual files. That‚Äôs where volume recovery comes in. The volume recovery wizard guides you through restoring entire disk volumes. Since you‚Äôre launching this directly from your backup job, Veeam smartly skips the backup archive selection and takes you straight to choosing your restore point. Click Next to proceed to disk partition mapping, where you‚Äôll specify how your restored volumes should be organized. Once you‚Äôve configured your volume mappings, the recovery process begins. Important Safety Considerations Volume-level recovery is powerful, but it requires careful planning. Because you‚Äôre working with active system components, keep these critical rules in mind: ‚ö†Ô∏è Critical Warnings: Never restore an operating system volume to the currently running system Avoid restoring system volumes to partitions containing Windows swap files Don‚Äôt restore volumes to disk partitions that store your VBK backup files These safeguards prevent data corruption and ensure your recovery completes successfully. ","date":"2019-07-03","objectID":"/en/2019/07/agent-backup-and-restore/:1:2","tags":["Agent"],"title":"Restoring Data from Your Veeam Backups: A Complete Guide","uri":"/en/2019/07/agent-backup-and-restore/"},{"categories":["Data Recovery"],"content":"3. Bare Metal Recovery (Complete System Restore) When disaster strikes and your entire system becomes unbootable, bare metal recovery (BMR) is your ultimate solution. This is where the recovery ISO we created earlier becomes invaluable. The most practical approach is to create a bootable USB drive from that ISO. Boot your computer from this USB drive, and you‚Äôll enter the Windows PE recovery environment. This recovery environment is a comprehensive toolkit that Veeam provides completely free. It includes not only the Bare Metal Recovery wizard but also essential system repair tools. Even if you don‚Äôt need Veeam‚Äôs BMR features, this emergency kit can be a lifesaver in critical situations. Good news: If you‚Äôre recovering to the original hardware, network card drivers are typically detected automatically, simplifying the process significantly. Starting the Bare Metal Recovery Process The BMR process follows Veeam‚Äôs familiar wizard approach. Click Bare Metal Recovery to begin the step-by-step restoration. Once inside the wizard, you have two primary options for accessing your backup data: Option 1: Local Storage If local disk drivers aren‚Äôt automatically detected, you can load specific drivers to access backup data on local drives. Option 2: Network Storage (Recommended) The simpler approach is connecting to network storage where your backups are stored. Select Share Folder and click Next to configure your network storage connection. You‚Äôll use the standard CIFS UNC path format (\\server\\share), and you may need to provide network credentials. With correct network configuration, clicking Next reveals all available backup archives in your specified folder. Select your desired backup archive and click Next to choose your specific restore point. Choosing Your Recovery Strategy Click Next to select your recovery mode. You have three powerful options: Full System Restore: Complete restoration of all volumes and partitions System Volume Only: Restore just the operating system partition Advanced Manual Recovery: The most flexible option, allowing custom partition rebuilding and mapping The advanced mode is particularly powerful for hardware migrations or when you need to restructure your disk layout during recovery. After configuring your disk mappings, the restoration process begins. Depending on your data size and hardware, this may take some time, but Veeam keeps you informed of progress throughout. Once complete, you‚Äôll have a fully restored system ready to boot. ","date":"2019-07-03","objectID":"/en/2019/07/agent-backup-and-restore/:1:3","tags":["Agent"],"title":"Restoring Data from Your Veeam Backups: A Complete Guide","uri":"/en/2019/07/agent-backup-and-restore/"},{"categories":["Data Recovery"],"content":"Getting Help with Veeam Agent One of the most impressive aspects of Veeam Agent is that even the free edition comes with access to technical support. Yes, you read that right‚Äîfree software with actual support. If you run into issues, you can access help directly from the Veeam Control Panel. Simply navigate to the Support section. Here you‚Äôll find several valuable resources: Online Documentation: Comprehensive guides and reference materials Community Forums: Connect with other Veeam users and share experiences Direct Technical Support: Submit a support case for personalized assistance For free users, Veeam‚Äôs technical support engineers respond to cases via email as their availability permits. While response times may vary compared to paid editions, having access to official support for a free product is remarkable. ","date":"2019-07-03","objectID":"/en/2019/07/agent-backup-and-restore/:2:0","tags":["Agent"],"title":"Restoring Data from Your Veeam Backups: A Complete Guide","uri":"/en/2019/07/agent-backup-and-restore/"},{"categories":["Data Recovery"],"content":"Your Next Steps Today‚Äôs recovery guide might seem shorter than yesterday‚Äôs backup setup, but don‚Äôt let that fool you‚Äîthese recovery capabilities are what truly make your backup strategy complete. If you haven‚Äôt started using Veeam Agent yet, there‚Äôs no better time than now. Remember: the best time to start backing up was yesterday; the second-best time is today. In our next article, I‚Äôll explore practical backup scenarios that showcase how this excellent personal backup software can adapt to different needs and environments. You‚Äôll see firsthand how flexible and powerful Veeam Agent can be in real-world situations. Ready to get started? Download Veeam Agent for Microsoft Windows Free Edition today and take the first step toward comprehensive data protection. Your future self will thank you when disaster strikes. ","date":"2019-07-03","objectID":"/en/2019/07/agent-backup-and-restore/:3:0","tags":["Agent"],"title":"Restoring Data from Your Veeam Backups: A Complete Guide","uri":"/en/2019/07/agent-backup-and-restore/"},{"categories":["Êï∞ÊçÆ‰øùÊä§"],"content":"Remembering Norton Ghost: The Tool That Defined an Era How many of you remember Norton Ghost? For me, Ghost brings back memories from about 20 years ago when I first started building PCs. Back then, after assembling a new computer at the local tech market, the very first thing I‚Äôd do was create a system backup with Ghost. From that moment forward, Ghost became essential equipment for every computer I owned. Even as we moved through the Windows 7 era ten years ago and into today‚Äôs Windows 10 world, many PCs still had that dual-boot setup. You know the one‚Äîsecond option: ‚ÄúRestore System with One-Click Ghost.‚Äù At its peak, Ghost wasn‚Äôt just popular; it was practically universal. Ghost was incredibly reliable, but it belongs to another era. Symantec officially stopped updating and supporting Norton Ghost back in March 2013. The version still floating around out there? Stuck at v11. It‚Äôs a real shame. But here‚Äôs the good news: Ghost may be gone, but we now have the perfect replacement‚ÄîVeeam Agent for Microsoft Windows Free Edition! I‚Äôve been thinking about writing this post for a while, mainly because I worried about how people perceive ‚Äúfree‚Äù software these days. Let‚Äôs be honest: most of us immediately think of stripped-down features, companies designing frustrating user experiences to push paid upgrades, and constant nagging about upgrading. When I encounter software like that, my first instinct is to uninstall it immediately. What made Ghost so special was actually the simplicity of its time. The internet wasn‚Äôt what it is today, and the software was refreshingly free of commercial considerations. No ads, no bundled crapware‚Äîjust a tool that worked. The free Veeam tool I‚Äôm excited to share with you today follows that exact same philosophy. ","date":"2019-07-02","objectID":"/en/2019/07/agent-backup/:0:1","tags":["Agent"],"title":"ÈÄÅ | ‰∏∫Ë£∏Â•î‰∏≠ÁöÑÁîµËÑëÈÄÅ‰∏Ä‰∏™Â§á‰ªΩ‰øùÊä§","uri":"/en/2019/07/agent-backup/"},{"categories":["Êï∞ÊçÆ‰øùÊä§"],"content":"Meet Veeam Agent for Microsoft Windows Free Edition Just like Ghost, this is completely ad-free with no bundled software. Download it, install it, and you‚Äôre ready to go with a full-featured backup solution. The only limitation? It‚Äôs currently English-only. But that‚Äôs not a dealbreaker‚ÄîI‚Äôll walk you through everything step by step to get you up and running. Getting Started: Download and Installation The installation process is refreshingly simple. Head over to the Veeam website (https://www.veeam.com), create an account, and you‚Äôll find the free version in their downloads section. Grab the latest version (VeeamAgentWindows_3.0.1.1039.exe at the time of writing), double-click it, and you‚Äôre on your way. The whole process takes just four steps. Step 1: Welcome Screen You‚Äôll see a brief introduction and license agreement. Feel free to read through if you‚Äôre curious, or just check both ‚ÄúI accept‚Äù boxes to enable the Install button and move forward. Step 2: Installation Location Here Veeam handles everything automatically. You can‚Äôt customize the installation path‚Äîit goes straight into Windows‚Äô default program directory, which keeps things simple. Step 3: Installation Progress A few minutes later, you‚Äôre done! If you have any USB drives connected, Veeam will detect them and offer to set up a backup job. You can skip this for now‚Äîwe‚Äôll configure everything manually. Step 4: Recovery Media Creation Here‚Äôs where Veeam shows its forward-thinking approach. After confirming successful installation, it prompts you to create Recovery Media. This is your emergency boot disk‚Äîessential for restoring your system when everything goes wrong. Essential Next Step: Creating Your Recovery Media This is one step you don‚Äôt want to skip. Veeam‚Äôs wizard makes it painless, but it‚Äôs absolutely critical for when disaster strikes. Step 1: Choose Your Recovery Media Type After clicking Finish from the main installation, you‚Äôll jump right into the Recovery Media creation wizard. First, decide between creating an ISO image or writing directly to a USB drive. If you have a spare USB drive ready, you can select it directly. For this guide, I‚Äôm using an ISO image‚Äîprocess is nearly identical for USB, and you can always convert the ISO to a bootable USB later if needed. Step 2: Network Support Options Veeam thoughtfully includes two network-related options by default: network drivers and network configuration. This is brilliant for network-based recoveries, saving you headaches during restoration. Select your ISO file location (local drive or network UNC path), and if you‚Äôre using a network share like CIFS, you‚Äôll need credentials to access it. Step 3: Review Your Configuration A quick summary screen shows what you‚Äôve configured so far. Simple, but it‚Äôs good to double-check before moving forward. Step 4: Create Your Recovery Media Click Create and let Veeam work its magic. A few minutes later, you‚Äôll have your bootable recovery media ready. When your system crashes and won‚Äôt boot, this ISO or USB drive will be your lifeline. Just remember‚Äîthe recovery media contains the tools, not your actual backup data. ","date":"2019-07-02","objectID":"/en/2019/07/agent-backup/:0:2","tags":["Agent"],"title":"ÈÄÅ | ‰∏∫Ë£∏Â•î‰∏≠ÁöÑÁîµËÑëÈÄÅ‰∏Ä‰∏™Â§á‰ªΩ‰øùÊä§","uri":"/en/2019/07/agent-backup/"},{"categories":["Êï∞ÊçÆ‰øùÊä§"],"content":"Setting Up Your Backup Strategy Now for the main event: configuring your actual backup job. Open up the Veeam Control Panel, and you‚Äôll get a one-time prompt asking whether to run in free mode or enter a commercial license. Just click ‚ÄúNo‚Äù to continue with the free version‚Äîthis is the only time you‚Äôll see this prompt. Click the three-line menu icon in the top-right corner, then select ‚ÄúAdd New Job‚Äù to start creating your backup strategy. As you‚Äôll quickly notice, Veeam follows the same clean wizard approach throughout‚Äîeverything is straightforward and logical. Step 1: Name and Describe Your Job Give your backup job a meaningful name and add a quick description. This helps when you‚Äôre managing multiple jobs down the road. Step 2: Choose What to Back Up The free edition gives you flexible options: backup the entire computer (including external USB drives), target specific disk volumes, or even back up individual files and folders. For comprehensive protection, I recommend backing up the entire computer‚Äîthis captures everything needed for a complete system restore. Step 3: Select Your Backup Destination Here‚Äôs where you decide where your backups live. Veeam supports virtually any storage option: USB drives, FireWire, eSATA, network-attached storage (NAS), or even Veeam‚Äôs own managed backup repositories. For personal use, you‚Äôll likely choose an external hard drive or a home NAS. In my setup, I‚Äôm backing up to a Synology NAS on my home network. Step 4: Configure Storage Settings If you chose a network share, you‚Äôll need to provide the UNC path, username, and password. Veeam helpfully shows you the available space on your target volume. This is also where you configure important settings like retention policies (how many backup copies to keep), compression and deduplication options, and encryption. For sensitive data, encryption is definitely worth the minimal overhead. Step 5: Schedule Your Backups This is where Veeam really shines in terms of convenience. Once configured, it runs completely automatically in the background‚Äîno manual intervention required. The scheduling options are incredibly flexible, with enough depth that I could write an entire article just on backup strategies. For now, let‚Äôs keep it simple: set it to run automatically, and you‚Äôll never have to worry about forgetting to back up again. Step 6: Finalize and Run Click Apply to create your backup job. You‚Äôll get a final summary of your configuration, and then you can click Finish to complete the setup. If you‚Äôre eager to get started, check the ‚ÄúRun the job when I click finish‚Äù box to kick off your first backup immediately. ","date":"2019-07-02","objectID":"/en/2019/07/agent-backup/:0:3","tags":["Agent"],"title":"ÈÄÅ | ‰∏∫Ë£∏Â•î‰∏≠ÁöÑÁîµËÑëÈÄÅ‰∏Ä‰∏™Â§á‰ªΩ‰øùÊä§","uri":"/en/2019/07/agent-backup/"},{"categories":["Êï∞ÊçÆ‰øùÊä§"],"content":"Watching Your Backups in Action Once your job is configured, Veeam takes over completely. Backups run automatically according to your schedule‚Äîno intervention needed. Typically, the first backup is a full backup, followed by much faster incremental backups that only capture changes since the last run. On my system, after completing the initial full backup, the subsequent incremental backup completed quickly. Here‚Äôs what a successful backup job looks like in the console: You can browse your backup files directly in Windows File Explorer. You‚Äôll notice three types of files: VBM files: These are metadata files that track your backup chain information VBK files: Full backup archives (your complete system snapshots) VIB files: Incremental backup files that depend on their corresponding full backup ","date":"2019-07-02","objectID":"/en/2019/07/agent-backup/:0:4","tags":["Agent"],"title":"ÈÄÅ | ‰∏∫Ë£∏Â•î‰∏≠ÁöÑÁîµËÑëÈÄÅ‰∏Ä‰∏™Â§á‰ªΩ‰øùÊä§","uri":"/en/2019/07/agent-backup/"},{"categories":["Êï∞ÊçÆ‰øùÊä§"],"content":"Your Turn to Get Protected And that‚Äôs it‚Äîyou now have a comprehensive backup solution protecting your computer, completely free. No more running your system ‚Äúbare‚Äù without protection. If this sounds useful, I highly recommend downloading Veeam Agent from their official website and getting it set up. The peace of mind is worth the few minutes it takes to configure. In my next post, I‚Äôll walk through the recovery process‚Äîhow to actually restore your system from those backup archives when disaster strikes. We‚Äôll dive deeper into using Veeam Agent for Microsoft Windows Free Edition to its full potential. For more tech insights and practical guides, follow my blog for regular updates. ","date":"2019-07-02","objectID":"/en/2019/07/agent-backup/:0:5","tags":["Agent"],"title":"ÈÄÅ | ‰∏∫Ë£∏Â•î‰∏≠ÁöÑÁîµËÑëÈÄÅ‰∏Ä‰∏™Â§á‰ªΩ‰øùÊä§","uri":"/en/2019/07/agent-backup/"},{"categories":["Êï∞ÊçÆ‰øùÊä§"],"content":"Ransomware seems to be one of those topics that just keeps getting hotter. Remember those service outage images from a year ago when the attacks first exploded? Most of us who weren‚Äôt hit watched them with that curious ‚Äúglad it‚Äôs not me‚Äù feeling. I couldn‚Äôt resist sharing a few in my posts back then‚Äîcapitalizing on the buzz helped boost my follower count. At first, I thought this ransomware craze would die down quickly. With security patches rolling out and protection getting stronger, surely these attacks wouldn‚Äôt last long. But that‚Äôs not what happened. Instead, ransomware keeps evolving, and this back-and-forth battle between attackers and defenders keeps getting more interesting. ","date":"2019-06-10","objectID":"/en/2019/06/ransomeware-attack/:0:0","tags":["VMware"],"title":"‰∏çÁü•ÂãíÁ¥¢ÁóÖÊØíÁöÑÊîªÂáªÂéüÁêÜÔºåÊÄéÁü•Â¶Ç‰ΩïÈò≤Âæ°Ôºü","uri":"/en/2019/06/ransomeware-attack/"},{"categories":["Êï∞ÊçÆ‰øùÊä§"],"content":"Ransomware 101 By now, I‚Äôm sure we all know what ransomware is. The attack playbook is pretty straightforward: Encrypt everything on the infected system Contact the victim through various channels demanding payment Typically, my conversations with ransomware victims go something like this: Unlucky Admin: Crap, I got hit! All my files are locked and they want 10 bitcoins. What do I do? Stone Brother: Do you have backups? Unlucky Admin: No! Stone Brother: Well, pay them and hope for the best. Without backups, what happens next is anyone‚Äôs guess. Reports from the past couple of years show that less than 25% of people who actually pay the ransom get their data back. ","date":"2019-06-10","objectID":"/en/2019/06/ransomeware-attack/:1:0","tags":["VMware"],"title":"‰∏çÁü•ÂãíÁ¥¢ÁóÖÊØíÁöÑÊîªÂáªÂéüÁêÜÔºåÊÄéÁü•Â¶Ç‰ΩïÈò≤Âæ°Ôºü","uri":"/en/2019/06/ransomeware-attack/"},{"categories":["Êï∞ÊçÆ‰øùÊä§"],"content":"How Ransomware Has Evolved Lately, I‚Äôve been seeing discussions about how modern ransomware has gotten much smarter. These malware programs can now replicate themselves and spread through user environments. They‚Äôll also disable mainstream antivirus software, backup tools, firewalls, and databases to make sure they can successfully extort their victims. Some particularly nasty variants even include destruction capabilities. They‚Äôll analyze known backup software catalog systems and wipe out both production data and backup data to maximize their leverage. In these scenarios, the conversation sounds a bit different: Unlucky Admin: Crap, I got hit! All my files are locked and they want 20 bitcoins. What do I do? Stone Brother: Do you have backups? Unlucky Admin: Yes, but they were too clever. They infected my backup server, disabled all backup jobs after the infection date, and deleted my backup catalog file. Stone Brother: Can you recover any data? Unlucky Admin: The data‚Äôs sitting on an EMC DataDomain with the latest file locking protocols, so it‚Äôs pretty secure. But without the catalog, even the safest backup archives are useless for recovery. Stone Brother: Well, guess you‚Äôll have to pay up. Even though they had backup software in place, their protection strategy wasn‚Äôt sophisticated enough. They didn‚Äôt consider that ransomware could target the backup infrastructure itself, making their backups essentially worthless. The images below come from a ransomware sample analysis, showing the various services this malware can disable. Notice how it systematically eliminates anything that might interfere with its destructive operations. You can see all the major antivirus and backup software services on its target list. ","date":"2019-06-10","objectID":"/en/2019/06/ransomeware-attack/:2:0","tags":["VMware"],"title":"‰∏çÁü•ÂãíÁ¥¢ÁóÖÊØíÁöÑÊîªÂáªÂéüÁêÜÔºåÊÄéÁü•Â¶Ç‰ΩïÈò≤Âæ°Ôºü","uri":"/en/2019/06/ransomeware-attack/"},{"categories":["Êï∞ÊçÆ‰øùÊä§"],"content":"Backup and Disaster Recovery Strategies Having backups doesn‚Äôt guarantee peace of mind. When designing backup and disaster recovery architectures, you need to consider several crucial factors: ","date":"2019-06-10","objectID":"/en/2019/06/ransomeware-attack/:3:0","tags":["VMware"],"title":"‰∏çÁü•ÂãíÁ¥¢ÁóÖÊØíÁöÑÊîªÂáªÂéüÁêÜÔºåÊÄéÁü•Â¶Ç‰ΩïÈò≤Âæ°Ôºü","uri":"/en/2019/06/ransomeware-attack/"},{"categories":["Êï∞ÊçÆ‰øùÊä§"],"content":"1. Independent and Portable Backup Archives More and more customers are realizing just how important this is. If your backup archives can‚Äôt self-recover and completely depend on a catalog created by your backup software, then destroying that catalog is equivalent to destroying everything. In contrast, environments using Veeam Backup without a centralized catalog have it much easier. Each backup archive is a self-contained entity, meaning ransomware would have to target each file individually to succeed. I‚Äôm sure you‚Äôd store your most critical data in the safest location to avoid infection. Let‚Äôs say the worst happens: your backup server gets infected, and a particularly aggressive ransomware corrupts the disk‚Äôs MBR records, preventing system boot. Here‚Äôs what you‚Äôd do: Clean and restore your environment to ensure the ransomware is completely eliminated Install a fresh VBR (Veeam Backup \u0026 Replication) server Retrieve your previously backed up VBK files from your most secure tapes Import them into the new VBR. Veeam can recognize each backup archive‚Äôs content without needing a centralized catalog database or deduplication database Use various recovery methods‚Äîexactly like normal Veeam recovery‚Äî including Instant VM Recovery and Instant File Recovery ","date":"2019-06-10","objectID":"/en/2019/06/ransomeware-attack/:3:1","tags":["VMware"],"title":"‰∏çÁü•ÂãíÁ¥¢ÁóÖÊØíÁöÑÊîªÂáªÂéüÁêÜÔºåÊÄéÁü•Â¶Ç‰ΩïÈò≤Âæ°Ôºü","uri":"/en/2019/06/ransomeware-attack/"},{"categories":["Êï∞ÊçÆ‰øùÊä§"],"content":"2. Secure Isolation of Multiple Backup Copies When storing data, never rely on synchronization features. This applies to both enterprise and personal data. Take personal cloud storage like Google Drive or OneDrive as an example. The lazy approach is enabling automatic background sync. As soon as data writes to your disk, these tools automatically sync it to the cloud in near real-time. But what if that data write was initiated by ransomware? Your cloud data would get infected too, rendering all your backup defenses useless. The same principle applies to enterprise data centers. Storage-level synchronization, even vendors‚Äô so-called ‚Äúbyte-level sync‚Äù methods, are exactly what ransomware wants‚Äîautomatic propagation that spreads the attack for them. That‚Äôs why I strongly recommend switching from automatic to semi-automatic mode. There‚Äôs nothing wrong with having the technology, but when necessary, use periodic data replication instead to significantly reduce infection risk. Storing multiple data copies across different media types is another excellent defense strategy. Since ransomware is automated software that operates with minimal human intervention, breaking the usual data storage patterns can be an effective countermeasure. Of course, this requires backup software flexible enough to support various storage devices. ","date":"2019-06-10","objectID":"/en/2019/06/ransomeware-attack/:3:2","tags":["VMware"],"title":"‰∏çÁü•ÂãíÁ¥¢ÁóÖÊØíÁöÑÊîªÂáªÂéüÁêÜÔºåÊÄéÁü•Â¶Ç‰ΩïÈò≤Âæ°Ôºü","uri":"/en/2019/06/ransomeware-attack/"},{"categories":["Êï∞ÊçÆ‰øùÊä§"],"content":"3. Regular Backup Verification and Automated Recovery Testing Here‚Äôs another interesting topic: recoverability verification. In backup and disaster recovery environments, this verification typically has to be done manually, consuming significant time and resources. Before ransomware became widespread, this was mostly a formality to satisfy management and regulators‚Äîa written report would usually suffice. But in today‚Äôs ransomware-dominated landscape, we need to think more seriously. If ransomware destroys my environment, which of my backup archives are clean and can restore a malware-free system? Fully automated backup verification can save administrators significant time and resources in these scenarios. Veeam Availability Orchestrator 2.0, with its enhanced automated validation logic, excels at this. ","date":"2019-06-10","objectID":"/en/2019/06/ransomeware-attack/:3:3","tags":["VMware"],"title":"‰∏çÁü•ÂãíÁ¥¢ÁóÖÊØíÁöÑÊîªÂáªÂéüÁêÜÔºåÊÄéÁü•Â¶Ç‰ΩïÈò≤Âæ°Ôºü","uri":"/en/2019/06/ransomeware-attack/"},{"categories":["Êï∞ÊçÆ‰øùÊä§"],"content":"Outsmarting Ransomware No software is completely free of vulnerabilities, and no software can be fully immune to attacks. I believe the only way to win this prolonged battle against ransomware is to store data more intelligently and continuously verify its integrity. The cat-and-mouse game continues, but with the right strategies, we can stay one step ahead. ","date":"2019-06-10","objectID":"/en/2019/06/ransomeware-attack/:4:0","tags":["VMware"],"title":"‰∏çÁü•ÂãíÁ¥¢ÁóÖÊØíÁöÑÊîªÂáªÂéüÁêÜÔºåÊÄéÁü•Â¶Ç‰ΩïÈò≤Âæ°Ôºü","uri":"/en/2019/06/ransomeware-attack/"},{"categories":["FAQ"],"content":"The English translation of this FAQ is still being prepared. For now, please refer to the original Chinese article. ","date":"2019-03-21","objectID":"/en/2019/03/veeam-faq/:0:0","tags":["Veeam"],"title":"Veeam FAQ (Translation Pending)","uri":"/en/2019/03/veeam-faq/"},{"categories":["Data Protection"],"content":"Last time, we covered the fundamentals of Veeam‚Äôs Cloud Tier functionality. I noticed a few technical details in that post that needed clarification, so if you‚Äôre looking for the updated version, just drop me a message with ‚ÄúCloud‚Äù and I‚Äôll share the corrected version. Today, we‚Äôre diving deeper for those of you who want to understand the sophisticated architecture behind Veeam‚Äôs cloud storage optimization. One of the first things you‚Äôll notice when using Cloud Tier is that Veeam maintains full recovery capabilities regardless of where your backup archives live‚Äîwhether in your local data center or in cloud object storage. This includes Veeam‚Äôs groundbreaking Instant VM Recovery technology, which we pioneered back in 2010. If you want to explore that technology in detail, I covered it thoroughly in this earlier post about vPower NFS. ","date":"2019-03-04","objectID":"/en/2019/03/cloud-tier-02/:0:0","tags":["VMware"],"title":"Veeam Cloud Tier ‚Äì Understanding Cloud Object Storage Architecture (Part 2)","uri":"/en/2019/03/cloud-tier-02/"},{"categories":["Data Protection"],"content":"The Economics of Cloud Storage What makes cloud object storage special is its pricing model. Unlike traditional storage where you make a one-time capital investment, cloud providers charge across four dimensions: storage capacity, read/write requests, data transfer out, and subscription duration. This fundamental difference creates an interesting cost dynamic. For long-term archival data that‚Äôs rarely accessed, the costs for read operations and data retrieval become remarkably low. This is precisely why object storage excels as an off-site archival solution. However, this economic model comes with a crucial caveat. If backup vendors treat cloud object storage like traditional local storage, the frequent read/write operations that are commonplace in traditional environments‚Äîthings like data verification, integrity checks, recovery testing, and periodic deduplication‚Äîcan generate unexpectedly high I/O and retrieval costs. This is where Veeam‚Äôs intelligent approach shines. We‚Äôve completely restructured how data interacts with cloud object storage, implementing sophisticated access patterns that minimize I/O operations while ensuring data availability. The goal is simple: reduce your cloud storage costs without compromising on reliability. ","date":"2019-03-04","objectID":"/en/2019/03/cloud-tier-02/:0:1","tags":["VMware"],"title":"Veeam Cloud Tier ‚Äì Understanding Cloud Object Storage Architecture (Part 2)","uri":"/en/2019/03/cloud-tier-02/"},{"categories":["Data Protection"],"content":"Metadata and Data Block Separation Every Veeam backup archive (.vbk, .vib, .vrb files) consists of two fundamental components: Metadata and Data Blocks. In traditional local storage, these components are tightly coupled within the same file. But when data moves to cloud object storage, Veeam employs a clever separation strategy. We split the metadata and data blocks, storing them in separate directories. Crucially, we keep the metadata locally on disk. This design choice enables fast recovery operations‚ÄîVeeam can quickly locate and retrieve the required data blocks from either local or cloud storage based on availability and cost optimization. ","date":"2019-03-04","objectID":"/en/2019/03/cloud-tier-02/:0:2","tags":["VMware"],"title":"Veeam Cloud Tier ‚Äì Understanding Cloud Object Storage Architecture (Part 2)","uri":"/en/2019/03/cloud-tier-02/"},{"categories":["Data Protection"],"content":"Intelligent Indexing System The real magic happens with Veeam‚Äôs indexing system, which gets generated when your SOBR Offload Job runs. This index contains hash values for every data block within your backup files. Veeam extracts these hashes from the backup archive metadata and stores them in the ArchiveIndex directory. What makes this system so powerful is its deduplication efficiency. During subsequent data transfers, if Veeam encounters a data block with a hash that already exists in the index, it skips the upload entirely. This approach saves significant bandwidth and upload time by reusing existing data blocks. However, there‚Äôs an important limitation to understand: this indexing operates at the backup chain level. Two different backup jobs targeting the same VM won‚Äôt share data blocks, even if the blocks have identical hashes. Each backup chain maintains its own index, which gets regenerated whenever the chain structure changes. The index also tracks data block locations across both local and cloud storage. If a particular data block exists in three different full backups‚Äîtwo locally and one in the cloud‚Äîthe index maintains awareness of all three locations. During new upload operations, Veeam leverages this intelligence to skip uploading blocks that already exist in the cloud, updating both local and cloud records accordingly. This same indexing mechanism works brilliantly during recovery operations. Veeam prioritizes using locally stored data blocks whenever available, dramatically reducing the need to pull data from cloud object storage. This intelligent data sourcing is what makes Instant VM Recovery feasible even when working primarily with cloud-stored backups. ","date":"2019-03-04","objectID":"/en/2019/03/cloud-tier-02/:0:3","tags":["VMware"],"title":"Veeam Cloud Tier ‚Äì Understanding Cloud Object Storage Architecture (Part 2)","uri":"/en/2019/03/cloud-tier-02/"},{"categories":["Data Protection"],"content":"Understanding Backup Chain Architecture A critical concept in Cloud Tier operations is the distinction between active and inactive backup chain segments. Only inactive portions of backup chains can be uploaded to cloud object storage. This holds true regardless of whether the upload is triggered manually or through automated schedules‚Äîrestore points in the active chain segment will never be offloaded. Veeam introduced this active/inactive segmentation concept specifically for cloud operations, and it‚Äôs fundamental to understanding how Cloud Tier manages data placement. Let‚Äôs quickly review what constitutes a backup chain. In Veeam‚Äôs architecture, backup data is stored as a chain of interdependent files. For a standard incremental backup, this typically looks like a full backup followed by a series of incremental backups. This entire collection of files represents a single backup chain. The active/inactive boundary is defined by the most recent full backup. Everything preceding that full backup is considered the inactive portion. The full backup itself and all subsequent incrementals comprise the active portion. While this example uses standard incremental backups, the same principles apply to reverse incremental, forever forward incremental, and backup copy jobs‚Äîthe specifics may vary slightly, but the active/inactive concept remains consistent. As your backup jobs continue running over time, older restore points naturally transition from active to inactive status as new full backups are created. This gradual transition enables the automated offload process to move historical data to cloud storage without disrupting your recent recovery capabilities. ","date":"2019-03-04","objectID":"/en/2019/03/cloud-tier-02/:0:4","tags":["VMware"],"title":"Veeam Cloud Tier ‚Äì Understanding Cloud Object Storage Architecture (Part 2)","uri":"/en/2019/03/cloud-tier-02/"},{"categories":["Data Protection"],"content":"Data Upload Decision Criteria So, what determines which data gets uploaded to cloud object storage? Veeam evaluates three key conditions: ‚úì Data must belong to the inactive portion of the backup chain ‚úì Data must be older than the specified Capacity Tier retention period ‚úì Data blocks must not have been previously uploaded for this backup job Only when all three conditions are satisfied will the data be queued for cloud upload. This sophisticated decision-making ensures that Cloud Tier operations are both cost-effective and performance-optimized. By understanding these architectural principles, you can better appreciate how Veeam has engineered Cloud Tier to deliver the best of both worlds: the economics of cloud storage combined with the performance characteristics of local infrastructure. ","date":"2019-03-04","objectID":"/en/2019/03/cloud-tier-02/:0:5","tags":["VMware"],"title":"Veeam Cloud Tier ‚Äì Understanding Cloud Object Storage Architecture (Part 2)","uri":"/en/2019/03/cloud-tier-02/"},{"categories":["Data Protection"],"content":"On January 23, 2019, Veeam released VBR 9.5U4, which was the most feature-rich update in the product‚Äôs history. This update included a series of cloud-related feature modules, and this article will discuss in detail the most important one among them: cloud object storage. In VBR 9.5U4, you can use Amazon S3, Microsoft Azure Blob, IBM Cloud Object Storage, and various other S3-compatible object storages, which means that for our domestic users, AliCloud OSS and Tencent Cloud COS are also perfectly supported. ","date":"2019-02-21","objectID":"/en/2019/02/cloud-tier-01/:0:0","tags":["Object Storage"],"title":"Veeam Cloud Tier ‚Äì Detailed Usage of Cloud Object Storage (Part 1)","uri":"/en/2019/02/cloud-tier-01/"},{"categories":["Data Protection"],"content":"The Role of Cloud Object Storage In VBR, there are three main types of repositories: Backup Repository, External Repository, and Scale-Out Backup Repository (SOBR). I believe for the vast majority of Veeam users, Backup Repository is the most familiar one. That‚Äôs where Veeam stores backup data on disk and has been the most commonly used data storage method. External Repository was newly added in VBR 9.5U4, but this is not part of the cloud object storage discussed in this article, so we won‚Äôt discuss it here for now. As for SOBR, it might have been rarely mentioned in previous VBR versions, but in the future, it could become Veeam‚Äôs primary data storage method. Before understanding cloud object storage, I think it‚Äôs necessary to review the composition of SOBR. Each SOBR consists of one or more Extents, and each Extent is actually a regular Backup Repository. In other words, SOBR is a collection of Backup Repositories, which was the basic composition of SOBR in the past. In this brand new SOBR, Veeam divides it into two tiers: Performance Tier and Capacity Tier. All local disk-based Extents are classified as Performance Tier, while cloud object storage-based Extents are classified as Capacity Tier. ","date":"2019-02-21","objectID":"/en/2019/02/cloud-tier-01/:1:0","tags":["Object Storage"],"title":"Veeam Cloud Tier ‚Äì Detailed Usage of Cloud Object Storage (Part 1)","uri":"/en/2019/02/cloud-tier-01/"},{"categories":["Data Protection"],"content":"How It Works Simply put, a SOBR containing cloud object storage must consist of one or more Extents, and must include one cloud object storage. Every 4 hours, Veeam automatically runs the SOBR Offload task according to the retention policy settings in the SOBR, uploading data that needs to be uploaded to the cloud from local storage. Conversely, the SOBR Download task can retrieve data from cloud object storage back to local Extents. During the restore process, cloud object storage exists in an almost transparent state. It‚Äôs different from any previous storage solution. In Veeam, restore points on cloud object storage can retain all their original restore capabilities, performing data restoration in a completely source-native smooth manner. Let‚Äôs look at a practical example: when performing data restoration, if the selected restore point is located on cloud object storage, Veeam will first read the local data index. This index tells Veeam which data exists both in the cloud and locally. When reading and writing data, Veeam will prioritize using local data as the data source and only fetch data that doesn‚Äôt exist locally from the cloud. This will greatly reduce cloud object storage usage costs because the billing for most cloud object storage services is calculated based on requests and data transfer. ","date":"2019-02-21","objectID":"/en/2019/02/cloud-tier-01/:2:0","tags":["Object Storage"],"title":"Veeam Cloud Tier ‚Äì Detailed Usage of Cloud Object Storage (Part 1)","uri":"/en/2019/02/cloud-tier-01/"},{"categories":["Data Protection"],"content":"Management and Operations Adding Cloud Object Storage As mentioned above, cloud object storage is also an Extent of SOBR, and Extents are Backup repositories. Therefore, the entry point for adding cloud object storage is Add Repository. In Add Backup Repository, a new Object Storage wizard will be added, which is for adding cloud object storage, including the 4 different protocols mentioned above. The addition process is very simple. Like any Veeam function, you can complete the configuration by interactively filling in appropriate information. This article won‚Äôt repeat the official User Guide. You can select the appropriate storage type according to the cloud object storage you actually use. https://helpcenter.veeam.com/docs/backup/vsphere/new_object_storage.html?ver=95u4 Configuring SOBR and Capacity Tier Find Scale-Out Backup Repository in Backup Infrastructure, then click Add to create a new one. At this point, you need to configure the Performance Tier first. Regarding the detailed options of Performance Tier configuration, this article won‚Äôt expand into detailed discussion. Those in need can check the relevant chapters in the official User Guide. https://helpcenter.veeam.com/docs/backup/vsphere/sorb_add_extents.html?ver=95u4 After selecting the default Placement Policy, you can enter the Capacity Tier configuration. At this time, the cloud object storage repository configured in the previous step will appear in the List below. On this page, we can also configure how to perform SOBR Offload tasks, which is the SOBR retention policy we mentioned earlier. After setting up the content on this page, the cloud object storage configuration is complete. Usage Operations In daily backups, we don‚Äôt need too much operation. The system will automatically check every 4 hours to see if there is data that needs to be offloaded. If there is no data that needs to be offloaded, or if no data meets the offloading conditions, the SOBR Offload task will complete quickly. Of course, we have ways to manually transfer data. We can perform data Offload and Download on demand. For example, as shown in the figure, we already have a set of backup archives, some located in cloud object storage and some on local disks. At this time, for the data in the cloud, we can perform the Copy to Performance Tier operation, which is the SOBR Download task. During the Download process, Veeam still optimizes data retrieval through the Index. Data that can be reassembled from local disks will not be retrieved from the cloud. The above is today‚Äôs content. In the next issue, we will discuss Veeam cloud object storage usage in more depth. ","date":"2019-02-21","objectID":"/en/2019/02/cloud-tier-01/:3:0","tags":["Object Storage"],"title":"Veeam Cloud Tier ‚Äì Detailed Usage of Cloud Object Storage (Part 1)","uri":"/en/2019/02/cloud-tier-01/"},{"categories":["Data Protection"],"content":"Now that we‚Äôve covered the installation and configuration of Veeam Availability for Nutanix AHV (VAN) in our previous article, it‚Äôs time to dive into the core operations that make this solution so valuable. Today, we‚Äôll explore how VAN handles backup and recovery operations for your AHV virtual machines. What I find particularly interesting about VAN‚Äôs approach is how it bridges the familiar Veeam workflow with the unique requirements of Nutanix environments. While the concepts remain consistent with traditional Veeam Backup \u0026 Replication (VBR), the implementation details reflect thoughtful adaptation to the AHV ecosystem. ","date":"2018-07-30","objectID":"/en/2018/07/van-02/:0:0","tags":["Nutanix AHV"],"title":"Veeam Availability for Nutanix AHV Configuration and Usage Series (Part 2)","uri":"/en/2018/07/van-02/"},{"categories":["Data Protection"],"content":"Managing AHV Virtual Machine Backups Let‚Äôs start with the backup workflow. If you‚Äôre familiar with Veeam, you‚Äôll notice that VAN maintains the job-based approach we‚Äôve come to expect. However, there‚Äôs an important architectural difference: unlike VMware or Hyper-V environments where backup jobs run through VBR, all Nutanix AHV VM backup operations are managed directly through the VAN Console. The VAN Console interface is refreshingly straightforward. You‚Äôll find four main sections across the top navigation: Dashboard, Backup Jobs, Protected Virtual Machines, and Events. This clean design makes it easy to navigate and find what you need quickly. The Backup Jobs section serves as your command center for both configuring new backup jobs and monitoring existing ones. This centralized view gives you immediate visibility into your backup infrastructure‚Äôs health and status. ","date":"2018-07-30","objectID":"/en/2018/07/van-02/:1:0","tags":["Nutanix AHV"],"title":"Veeam Availability for Nutanix AHV Configuration and Usage Series (Part 2)","uri":"/en/2018/07/van-02/"},{"categories":["Data Protection"],"content":"Creating Your First Backup Job Setting up a backup job in VAN follows Veeam‚Äôs signature wizard-based approach. I appreciate how the interface maintains this familiar pattern while adapting to the web-based format. The entire configuration process flows through just five logical steps, making it accessible even for those new to Veeam. Step 1: Basic Job Information The first step is straightforward ‚Äì you‚Äôll define your job name and description. This follows the same pattern as VBR, so there‚Äôs no learning curve here. Use descriptive names that will help you identify the job‚Äôs purpose at a glance. Step 2: Selecting VMs to Protect Here‚Äôs where VAN shows its Nutanix-aware design. Similar to vSphere or Hyper-V, you can select individual VMs or broader containers like hosts and clusters. What‚Äôs particularly helpful is how the interface identifies VMs that are currently in an ‚ÄúUnprotected‚Äù state, preventing duplicate configurations and helping you quickly spot coverage gaps. The VM selection interface provides clear visual indicators for protection status, making it easy to ensure comprehensive coverage without redundant jobs. Step 3: Choosing Backup Storage Your backup destination options include any repositories that have been granted permission in VBR. This integration means you can leverage existing storage infrastructure, whether it‚Äôs standard repositories or scale-out backup repositories (SOBRs). The flexibility here allows you to align with your organization‚Äôs storage strategy. Step 4: Scheduling Configuration The scheduling interface showcases the modern web-based design approach. While the underlying scheduling logic remains consistent with traditional VBR, the visual presentation is notably more intuitive. The same powerful scheduling capabilities are there ‚Äì they‚Äôre just presented in a more user-friendly package. Step 5: Review and Launch The final step provides a comprehensive review of your configuration. Once you confirm the settings, your backup job is ready to execute according to the defined schedule. This last step ensures nothing gets missed before the job goes live. ","date":"2018-07-30","objectID":"/en/2018/07/van-02/:2:0","tags":["Nutanix AHV"],"title":"Veeam Availability for Nutanix AHV Configuration and Usage Series (Part 2)","uri":"/en/2018/07/van-02/"},{"categories":["Data Protection"],"content":"Monitoring Backup Operations After your jobs start running, you‚Äôll have visibility into their status from both the VAN Console and traditional VBR. However, there‚Äôs an important distinction: VBR provides read-only access to these jobs ‚Äì all management and configuration happens through the VAN Console. This design ensures clear separation of responsibilities while maintaining visibility across your infrastructure. ","date":"2018-07-30","objectID":"/en/2018/07/van-02/:3:0","tags":["Nutanix AHV"],"title":"Veeam Availability for Nutanix AHV Configuration and Usage Series (Part 2)","uri":"/en/2018/07/van-02/"},{"categories":["Data Protection"],"content":"Recovery Operations: Restoring Your Virtual Machines When it comes to recovery, VAN offers multiple pathways depending on your needs. You can perform restoration through either the VAN Console or VBR Console, though the available operations differ between these interfaces. ","date":"2018-07-30","objectID":"/en/2018/07/van-02/:4:0","tags":["Nutanix AHV"],"title":"Veeam Availability for Nutanix AHV Configuration and Usage Series (Part 2)","uri":"/en/2018/07/van-02/"},{"categories":["Data Protection"],"content":"VAN Console Recovery Options The VAN Console provides the most comprehensive recovery capabilities for AHV environments, offering both full VM restoration and granular disk recovery options. Complete VM Recovery For full virtual machine restoration, the process is intuitive and flexible: Initiate Recovery: Click the Restore button to launch the recovery wizard. Select Virtual Machines: Add the VMs you need to restore from your available backups. Choose Restore Point: Select the appropriate recovery point based on your RPO requirements. Define Recovery Location: You have two primary options: Original Location: Direct overwrite of the existing VM New Location: Create a new VM with custom configurations When choosing a new location, you can specify different VM names and configuration parameters, which is particularly useful for testing or parallel recovery scenarios. Configure Target Settings: Select appropriate VM containers and nodes. The defaults typically use the original location, but you can redistribute workloads based on current infrastructure capacity. Execute Recovery: After providing a recovery reason for documentation purposes, initiate the restoration process. Selective Disk Recovery Sometimes you don‚Äôt need the entire VM ‚Äì just specific disks. VAN‚Äôs disk recovery feature provides this granular capability: Launch Disk Recovery: Access the disk restoration wizard from the main recovery interface. Select Recovery Point: Choose the appropriate backup timestamp for your disk recovery. Configure Disk Mapping: Define how the recovered disks will be mapped to target VMs or new configurations. Complete Recovery: After documenting the recovery reason, execute the disk restoration process. ","date":"2018-07-30","objectID":"/en/2018/07/van-02/:4:1","tags":["Nutanix AHV"],"title":"Veeam Availability for Nutanix AHV Configuration and Usage Series (Part 2)","uri":"/en/2018/07/van-02/"},{"categories":["Data Protection"],"content":"VBR Console Recovery Integration While the VAN Console provides AHV-specific recovery options, the VBR Console offers additional flexibility through standard Veeam Agent recovery methods. This integration includes: Instant Recovery to Hyper-V Export to Virtual Disk formats (VMDK/VHD/VHDX) Guest File Recovery Application Item Recovery Direct Restore to Microsoft Azure These options follow the same workflows as traditional Veeam Agent recoveries. For Linux VM file-level recovery, you‚Äôll still need to deploy a Help Appliance on either Hyper-V or vSphere infrastructure ‚Äì a consistent requirement across Veeam‚Äôs product family. ","date":"2018-07-30","objectID":"/en/2018/07/van-02/:4:2","tags":["Nutanix AHV"],"title":"Veeam Availability for Nutanix AHV Configuration and Usage Series (Part 2)","uri":"/en/2018/07/van-02/"},{"categories":["Data Protection"],"content":"What This Means for Your Environment The beauty of VAN‚Äôs dual-console approach is the flexibility it provides. The VAN Console gives you streamlined, AHV-optimized operations, while the VBR Console integration ensures you‚Äôre not limited to a single recovery pathway. This hybrid approach allows you to choose the right tool for each recovery scenario based on urgency, infrastructure availability, and specific requirements. In our next installment, we‚Äôll explore some advanced VAN features and performance optimization techniques that can help you get the most out of your Nutanix-Veeam integration. ","date":"2018-07-30","objectID":"/en/2018/07/van-02/:5:0","tags":["Nutanix AHV"],"title":"Veeam Availability for Nutanix AHV Configuration and Usage Series (Part 2)","uri":"/en/2018/07/van-02/"},{"categories":["Data Protection"],"content":"I‚Äôm thrilled to share that Veeam Availability for Nutanix AHV (VAN) has finally been released! As someone who works extensively with both Nutanix and Veeam technologies, I‚Äôve been eagerly anticipating this integration. Today, I want to walk you through everything you need to know to get started with this powerful new tool. VAN comes as a Proxy Appliance that you can download directly from the Veeam website. Once you extract the ZIP file, you‚Äôll find a disk image in VMDK format. Just like other Veeam products, you can grab a 30-day trial license to test everything out before committing. ","date":"2018-07-28","objectID":"/en/2018/07/van-01/:0:0","tags":["Nutanix AHV"],"title":"Veeam Availability for Nutanix AHV Configuration and Usage Series (Part 1)","uri":"/en/2018/07/van-01/"},{"categories":["Data Protection"],"content":"Understanding VAN Architecture Here‚Äôs where things get interesting. VAN isn‚Äôt a standalone solution - it‚Äôs actually an extension of Veeam Backup \u0026 Replication (VBR) that brings enterprise-grade data protection to Nutanix AHV environments. Let me break down how everything fits together: This means that even if you‚Äôre running a pure AHV environment, you‚Äôll still need a VBR server deployed first. VAN acts as the bridge between your AHV infrastructure and Veeam‚Äôs proven backup technology. You‚Äôll also need a Zero-Socket VBR ENT+ license to unlock all of VAN‚Äôs capabilities. I won‚Äôt dive deep into VBR deployment here - the official documentation covers that well - but it‚Äôs worth mentioning this architectural dependency upfront. ","date":"2018-07-28","objectID":"/en/2018/07/van-01/:1:0","tags":["Nutanix AHV"],"title":"Veeam Availability for Nutanix AHV Configuration and Usage Series (Part 1)","uri":"/en/2018/07/van-01/"},{"categories":["Data Protection"],"content":"Getting Started with VAN Deployment Let‚Äôs get hands-on with the deployment process. I‚Äôll walk you through each step to ensure everything goes smoothly. ","date":"2018-07-28","objectID":"/en/2018/07/van-01/:2:0","tags":["Nutanix AHV"],"title":"Veeam Availability for Nutanix AHV Configuration and Usage Series (Part 1)","uri":"/en/2018/07/van-01/"},{"categories":["Data Protection"],"content":"Step 1: Upload the VAN Image to Nutanix First things first, we need to get the VAN image into your Nutanix environment. Head over to Prism and select ‚ÄúConfigure Image.‚Äù ","date":"2018-07-28","objectID":"/en/2018/07/van-01/:2:1","tags":["Nutanix AHV"],"title":"Veeam Availability for Nutanix AHV Configuration and Usage Series (Part 1)","uri":"/en/2018/07/van-01/"},{"categories":["Data Protection"],"content":"Step 2: Upload the Disk Image In the configuration dialog, choose ‚ÄúUpload Image‚Äù to get started with the import process. ","date":"2018-07-28","objectID":"/en/2018/07/van-01/:2:2","tags":["Nutanix AHV"],"title":"Veeam Availability for Nutanix AHV Configuration and Usage Series (Part 1)","uri":"/en/2018/07/van-01/"},{"categories":["Data Protection"],"content":"Step 3: Configure the Image Details Now it‚Äôs time to set up your image properly. Give it a descriptive name, add some notes if you‚Äôd like, select ‚ÄúDisk‚Äù as the image type, choose an appropriate Storage Container, and point to the VMDK file you extracted earlier. Hit Save and let the upload begin. ","date":"2018-07-28","objectID":"/en/2018/07/van-01/:2:3","tags":["Nutanix AHV"],"title":"Veeam Availability for Nutanix AHV Configuration and Usage Series (Part 1)","uri":"/en/2018/07/van-01/"},{"categories":["Data Protection"],"content":"Step 4: Verify Image Activation Patience is key here. The AHV system needs time to upload and initialize the image. Once all background tasks complete, check back in the ‚ÄúConfigure Image‚Äù dialog - you should see your VeeamProxy image showing as ‚ÄúActive.‚Äù ","date":"2018-07-28","objectID":"/en/2018/07/van-01/:2:4","tags":["Nutanix AHV"],"title":"Veeam Availability for Nutanix AHV Configuration and Usage Series (Part 1)","uri":"/en/2018/07/van-01/"},{"categories":["Data Protection"],"content":"Step 5: Create the VAN Proxy VM This is where the magic happens! We‚Äôre going to create the VM that will serve as your data extraction engine in Nutanix. Think of it as the equivalent of a Veeam Proxy in VMware environments, except this one comes pre-packaged as a Linux appliance by Veeam. The VM creation process is straightforward. I recommend following the official guidelines: 2 vCPU, 2 cores, 4GB RAM, and add a new disk using the image we just uploaded. Don‚Äôt forget to assign it to the right network for initial access. ","date":"2018-07-28","objectID":"/en/2018/07/van-01/:2:5","tags":["Nutanix AHV"],"title":"Veeam Availability for Nutanix AHV Configuration and Usage Series (Part 1)","uri":"/en/2018/07/van-01/"},{"categories":["Data Protection"],"content":"Step 6: Initialize the VAN Proxy Once your VeeamProxy VM is created, power it on in AHV. After a quick initialization, you‚Äôll see the command line prompt with instructions to access the web interface via HTTPS. At this point, your work in Nutanix is essentially done - the rest happens through VAN‚Äôs web console. ","date":"2018-07-28","objectID":"/en/2018/07/van-01/:2:6","tags":["Nutanix AHV"],"title":"Veeam Availability for Nutanix AHV Configuration and Usage Series (Part 1)","uri":"/en/2018/07/van-01/"},{"categories":["Data Protection"],"content":"Step 7: Access the Web Console Fire up your browser and navigate to the Proxy Appliance address. You‚Äôll be greeted with Veeam‚Äôs signature sleek black interface and green logo. Use the default ‚ÄúAdmin‚Äù credentials to launch the initial configuration wizard. ","date":"2018-07-28","objectID":"/en/2018/07/van-01/:2:7","tags":["Nutanix AHV"],"title":"Veeam Availability for Nutanix AHV Configuration and Usage Series (Part 1)","uri":"/en/2018/07/van-01/"},{"categories":["Data Protection"],"content":"Step 8: Choose Installation Type On first access, you‚Äôll have two options: fresh installation or restore from configuration. Since we‚Äôre starting from scratch, go with ‚ÄúFresh Install.‚Äù ","date":"2018-07-28","objectID":"/en/2018/07/van-01/:2:8","tags":["Nutanix AHV"],"title":"Veeam Availability for Nutanix AHV Configuration and Usage Series (Part 1)","uri":"/en/2018/07/van-01/"},{"categories":["Data Protection"],"content":"Step 9: Accept the License Agreement Like any enterprise software, you‚Äôll need to accept the End User License Agreement. Check the box and continue to the next step. ","date":"2018-07-28","objectID":"/en/2018/07/van-01/:2:9","tags":["Nutanix AHV"],"title":"Veeam Availability for Nutanix AHV Configuration and Usage Series (Part 1)","uri":"/en/2018/07/van-01/"},{"categories":["Data Protection"],"content":"Step 10: Set Admin Password Change the default Admin password to something secure, then move on to network configuration. ","date":"2018-07-28","objectID":"/en/2018/07/van-01/:2:10","tags":["Nutanix AHV"],"title":"Veeam Availability for Nutanix AHV Configuration and Usage Series (Part 1)","uri":"/en/2018/07/van-01/"},{"categories":["Data Protection"],"content":"Step 11: Configure Network Settings Set the hostname and IP address for your Proxy appliance. Make sure it‚Äôs on a network that can communicate with both your VBR server and Nutanix cluster. ","date":"2018-07-28","objectID":"/en/2018/07/van-01/:2:11","tags":["Nutanix AHV"],"title":"Veeam Availability for Nutanix AHV Configuration and Usage Series (Part 1)","uri":"/en/2018/07/van-01/"},{"categories":["Data Protection"],"content":"Step 12: Complete Initial Setup Review your configuration settings and click Finish. The system will reboot once more to apply all the changes. ","date":"2018-07-28","objectID":"/en/2018/07/van-01/:2:12","tags":["Nutanix AHV"],"title":"Veeam Availability for Nutanix AHV Configuration and Usage Series (Part 1)","uri":"/en/2018/07/van-01/"},{"categories":["Data Protection"],"content":"Step 13: License the Appliance When you log back into the web console, you‚Äôll be prompted to enter your license. All Nutanix-related licensing is managed directly on the Proxy Appliance, which simplifies things considerably. ","date":"2018-07-28","objectID":"/en/2018/07/van-01/:2:13","tags":["Nutanix AHV"],"title":"Veeam Availability for Nutanix AHV Configuration and Usage Series (Part 1)","uri":"/en/2018/07/van-01/"},{"categories":["Data Protection"],"content":"Step 14: Complete Core Configuration Click the gear icon in the upper right corner to access the main configuration interface. Here you‚Äôll need to complete three essential tasks: activate your license, connect to your VBR server, and add your Nutanix cluster. The interface is clean and intuitive - basic information is all you need to get everything configured. For licensing, simply import your .lic file just like with other Veeam products. ","date":"2018-07-28","objectID":"/en/2018/07/van-01/:2:14","tags":["Nutanix AHV"],"title":"Veeam Availability for Nutanix AHV Configuration and Usage Series (Part 1)","uri":"/en/2018/07/van-01/"},{"categories":["Data Protection"],"content":"Step 15: Connect to VBR Server Configuring the VBR connection is straightforward - just provide the IP address, default port (9419), and your VBR server credentials. ","date":"2018-07-28","objectID":"/en/2018/07/van-01/:2:15","tags":["Nutanix AHV"],"title":"Veeam Availability for Nutanix AHV Configuration and Usage Series (Part 1)","uri":"/en/2018/07/van-01/"},{"categories":["Data Protection"],"content":"Step 16: Add Nutanix Cluster Finally, add your Nutanix cluster by providing the CVM address along with admin credentials. ","date":"2018-07-28","objectID":"/en/2018/07/van-01/:2:16","tags":["Nutanix AHV"],"title":"Veeam Availability for Nutanix AHV Configuration and Usage Series (Part 1)","uri":"/en/2018/07/van-01/"},{"categories":["Data Protection"],"content":"Ready for Action And that‚Äôs it! With these configurations complete, your VAN deployment is ready to start protecting VMs in your AHV environment. The setup process might seem involved, but it‚Äôs quite logical when you break it down step by step. In the next installment of this series, I‚Äôll dive deep into AHV backup and recovery operations, showing you how to leverage VAN‚Äôs full capabilities for your data protection strategy. Stay tuned! ","date":"2018-07-28","objectID":"/en/2018/07/van-01/:3:0","tags":["Nutanix AHV"],"title":"Veeam Availability for Nutanix AHV Configuration and Usage Series (Part 1)","uri":"/en/2018/07/van-01/"},{"categories":["Data Protection"],"content":"One question I get asked frequently is whether Veeam supports application-level recovery for specific databases. The interesting thing about this question is that the answer has nothing to do with which database you‚Äôre using ‚Äî it‚Äôs always yes. That‚Äôs because Veeam includes a powerful feature called U-AIR (Universal Application-Item Recovery) that makes application-level recovery possible for virtually any system. Today, I want to walk you through a practical MySQL recovery scenario to show you how this works in practice. ","date":"2018-04-10","objectID":"/en/2018/04/uair/:0:0","tags":["VMware"],"title":"Recovering MySQL Database with Veeam U-Air","uri":"/en/2018/04/uair/"},{"categories":["Data Protection"],"content":"Setting Up Our Scenario For this example, I‚Äôm working with a MySQL 5.1.7 installation running on CentOS. The database is backed up using Veeam Backup \u0026 Replication with pre-freeze and post-freeze scripts to ensure data consistency. If you need details on setting up those consistency scripts, Veeam has excellent documentation: https://www.veeam.com/wp-consistent-protection-mysql-mariadb.html Here‚Äôs what our test data looks like in the source database: Now, let‚Äôs create our recovery scenario. After taking a backup of this MySQL server, something goes wrong and the veeamlab database becomes corrupted. Our goal is to recover this specific database while leaving the rest of the server running normally. I‚Äôll create a new empty database called veeamlab_recovered to serve as our recovery target, while the original MySQL server continues operating normally: ","date":"2018-04-10","objectID":"/en/2018/04/uair/:1:0","tags":["VMware"],"title":"Recovering MySQL Database with Veeam U-Air","uri":"/en/2018/04/uair/"},{"categories":["Data Protection"],"content":"Starting the Recovery Process The recovery begins with the Universal Lab Request Wizard. This is where we request access to a backup copy for recovery purposes. The process is straightforward: First, specify the VM name. Veeam supports pattern matching, so you don‚Äôt need the exact name: Select the most recent restore point: Submit the request: Now the U-AIR request is in the system, awaiting approval from the backup administrator. ","date":"2018-04-10","objectID":"/en/2018/04/uair/:2:0","tags":["VMware"],"title":"Recovering MySQL Database with Veeam U-Air","uri":"/en/2018/04/uair/"},{"categories":["Data Protection"],"content":"The Administrator Approval Process Switching over to the backup administrator view in Veeam Enterprise Manager, we can see the pending recovery request: The approval process leverages Veeam‚Äôs SureBackup and Virtual Lab capabilities. If you‚Äôre not familiar with these technologies, I covered them in a previous post about verifying backup recoverability. During approval, Veeam automatically locates the appropriate backup: Then it selects the right Virtual Lab and SureBackup Job to create a temporary recovery environment: Once approved, the database administrator receives connection details for the temporary recovery environment after a brief wait: ","date":"2018-04-10","objectID":"/en/2018/04/uair/:3:0","tags":["VMware"],"title":"Recovering MySQL Database with Veeam U-Air","uri":"/en/2018/04/uair/"},{"categories":["Data Protection"],"content":"Extracting and Recovering the Data Now for the interesting part. I can SSH into the recovery environment at 172.20.1.139, while my production MySQL server at 10.10.1.139 continues running normally. Let‚Äôs verify the database state in our temporary environment: Perfect ‚Äî the data looks intact. Now I need to extract the corrupted database and transfer it back to our production server. I‚Äôll use mysqldump for the extraction: The extracted data is saved to /tmp/mysql/veeamlab.sql. Back on our production server (10.10.1.139), I‚Äôve configured Virtual Lab‚Äôs Static IP Mapping to make the recovery environment accessible at 10.10.1.138. This allows me to pull the dump file directly: The restore command itself is beautifully simple: ","date":"2018-04-10","objectID":"/en/2018/04/uair/:4:0","tags":["VMware"],"title":"Recovering MySQL Database with Veeam U-Air","uri":"/en/2018/04/uair/"},{"categories":["Data Protection"],"content":"Wrapping Up And that‚Äôs it ‚Äî our MySQL database recovery is complete. All the data from our corrupted veeamlab database is now safely restored in veeamlab_recovered. The temporary U-AIR environment can be terminated manually by the database administrator or will automatically clean up when its time limit expires. ","date":"2018-04-10","objectID":"/en/2018/04/uair/:5:0","tags":["VMware"],"title":"Recovering MySQL Database with Veeam U-Air","uri":"/en/2018/04/uair/"},{"categories":["Data Protection"],"content":"Why This Matters What makes this approach powerful is its flexibility. The only prerequisite is using Veeam Backup \u0026 Replication ‚Äî beyond that, U-AIR gives you the ability to recover any application data with the same level of control and precision I‚Äôve demonstrated here. Whether you‚Äôre dealing with databases, email servers, or custom applications, the U-AIR workflow provides a safe, isolated environment for recovery without impacting your production systems. That‚Äôs the beauty of Veeam‚Äôs approach to application recovery ‚Äî it‚Äôs comprehensive, it‚Äôs reliable, and it works with virtually any application you can throw at it. ","date":"2018-04-10","objectID":"/en/2018/04/uair/:6:0","tags":["VMware"],"title":"Recovering MySQL Database with Veeam U-Air","uri":"/en/2018/04/uair/"},{"categories":["Cutting-edge Technology"],"content":"Imagine recovering terabytes of data in minutes instead of hours. What if you could run virtual machines directly from backup files without any restoration process? This isn‚Äôt science fiction‚Äîit‚Äôs Veeam‚Äôs vPower technology, a breakthrough that fundamentally changed how we think about data recovery in virtualized environments. When Veeam introduced vPower, they didn‚Äôt just improve an existing process; they created an entirely new paradigm for virtualization data protection that still influences the industry today. The beauty of vPower lies in its elegant simplicity. While traditional data recovery could take hours or even days for large datasets, vPower transforms this process into a matter of minutes. Suddenly, massive data recovery operations became manageable, and downtime nightmares turned into minor inconveniences. Veeam‚Äôs vPower technology works seamlessly across both VMware vSphere and Microsoft Hyper-V platforms, delivering consistent results regardless of your virtualization choice. For this deep dive, we‚Äôll focus on the VMware vSphere implementation to understand the magic behind vPower. At its heart, vPower is brilliantly simple. The Veeam engineering team developed an incredibly clever approach: they use virtualization techniques to make compressed, deduplicated backup files appear as standard VMDK disks that any hypervisor can immediately recognize and use. It‚Äôs a architectural masterpiece where ESXi hosts connect directly to a vPower NFS Server, enabling instant virtual machine recovery. The result? A technology that tricks your infrastructure into seeing backup files as live virtual machines, ready to run in seconds. Here‚Äôs where the magic happens: at the center of this architecture sits a Windows Server running Veeam‚Äôs vPower NFS service, essentially masquerading as a standard NFS server. If you‚Äôre familiar with VMware, you know that beyond traditional block-level storage like VMFS, vSphere can also use NFS datastores. Veeam leverages this capability brilliantly. When ESXi connects to Veeam‚Äôs vPower NFS server, something remarkable occurs. Through Veeam‚Äôs patented vPower protocol, ESXi discovers what appear to be perfectly normal VMDK files in the datastore. To ESXi, these look identical to the virtual disks used by any running VM. Veeam‚Äôs simulation technology completely fools the hypervisor. But here‚Äôs the clever part: those VMDK files aren‚Äôt actually stored as traditional disk files. Instead, Veeam uses sophisticated data block redirection technology that maps ESXi‚Äôs read requests directly to the corresponding data blocks within compressed, deduplicated backup files. It‚Äôs like having a translator that instantly converts backup data into live disk format on demand. This redirection works as a one-way street for reads. The backup archives remain pristine and read-only. When the running VM needs to write data‚Äîa natural occurrence during normal operation‚ÄîvPower intelligently intercepts these write requests and redirects them to separate cache locations. This elegant separation ensures your backup archives maintain their integrity while the VM runs normally from what appears to be standard storage. ","date":"2018-03-05","objectID":"/en/2018/03/vpower-nfs/:0:0","tags":["VMware Cutting-edge Technology"],"title":"Veeam Cutting-edge Technology: vPower NFS","uri":"/en/2018/03/vpower-nfs/"},{"categories":["Cutting-edge Technology"],"content":"Where vPower Makes a Difference The vPower NFS service isn‚Äôt just a one-trick pony‚Äîit‚Äôs the engine behind five of Veeam‚Äôs most powerful features: Instant VM Recovery ‚Äì The flagship use case that brings VMs online directly from backup files in minutes. SureBackup ‚Äì Fully automated backup verification that runs your VMs in isolated virtual labs to ensure backups actually work. (Check my previous post for a deep dive into this game-changing feature.) U-AIR (Universal Application Item Recovery) ‚Äì Recover individual application items without full VM restoration. On-demand Sandbox ‚Äì Create isolated environments for testing, development, or security analysis directly from production backups. Instant File-level Recovery ‚Äì Restore individual files from any operating system without full VM recovery. These five capabilities all depend on the vPower NFS service running behind the scenes. If the vPower NFS service were to fail, all these features would be affected. Fortunately, the technology is so robust that failures are virtually unheard of in production environments. ","date":"2018-03-05","objectID":"/en/2018/03/vpower-nfs/:1:0","tags":["VMware Cutting-edge Technology"],"title":"Veeam Cutting-edge Technology: vPower NFS","uri":"/en/2018/03/vpower-nfs/"},{"categories":["Cutting-edge Technology"],"content":"Understanding the Limitations vPower works with any VM backup stored on disk-based repositories. However, the technology has some natural boundaries: Tape backups won‚Äôt work due to their offline nature and sequential access patterns Cloud repositories face performance challenges from network latency and bandwidth limitations Both scenarios simply can‚Äôt provide the rapid, random access required for instant VM operations. ","date":"2018-03-05","objectID":"/en/2018/03/vpower-nfs/:2:0","tags":["VMware Cutting-edge Technology"],"title":"Veeam Cutting-edge Technology: vPower NFS","uri":"/en/2018/03/vpower-nfs/"},{"categories":["Cutting-edge Technology"],"content":"How vPower Handles Write Operations The clever part of vPower is how it manages different use cases. When it comes to handling write operations from running VMs, Veeam employs different strategies depending on whether you‚Äôre using SureBackup or Instant VM Recovery. ","date":"2018-03-05","objectID":"/en/2018/03/vpower-nfs/:3:0","tags":["VMware Cutting-edge Technology"],"title":"Veeam Cutting-edge Technology: vPower NFS","uri":"/en/2018/03/vpower-nfs/"},{"categories":["Cutting-edge Technology"],"content":"SureBackup‚Äôs Approach For SureBackup environments, vPower takes advantage of the virtual lab infrastructure. Write operations from the running VM get captured in VMDK redo logs stored on whatever datastore you‚Äôve designated for your Virtual Lab. The original VM disks are automatically configured as non-persistent, meaning all changes disappear when the verification completes‚Äîperfect for temporary testing scenarios. ","date":"2018-03-05","objectID":"/en/2018/03/vpower-nfs/:3:1","tags":["VMware Cutting-edge Technology"],"title":"Veeam Cutting-edge Technology: vPower NFS","uri":"/en/2018/03/vpower-nfs/"},{"categories":["Cutting-edge Technology"],"content":"Instant VM Recovery‚Äôs Strategy Instant VM Recovery has different requirements. When you recover a VM this way, you typically plan to migrate it back to production storage eventually. This means the VM needs to maintain its changes and remain fully functional for extended periods. Instead of using non-persistent disks, vPower employs its own caching technology. Write operations get captured in a special vPower NFS cache, which makes the recovered VM appear as a complete, persistent virtual machine from VMware‚Äôs perspective. This approach preserves full VMware functionality, including critical capabilities like vMotion for live migration to production infrastructure. ","date":"2018-03-05","objectID":"/en/2018/03/vpower-nfs/:3:2","tags":["VMware Cutting-edge Technology"],"title":"Veeam Cutting-edge Technology: vPower NFS","uri":"/en/2018/03/vpower-nfs/"},{"categories":["Cutting-edge Technology"],"content":"Configuration Essentials Setting up vPower is straightforward. Each backup repository you configure gets its own dedicated vPower NFS server automatically. ","date":"2018-03-05","objectID":"/en/2018/03/vpower-nfs/:4:0","tags":["VMware Cutting-edge Technology"],"title":"Veeam Cutting-edge Technology: vPower NFS","uri":"/en/2018/03/vpower-nfs/"},{"categories":["Cutting-edge Technology"],"content":"Port Requirements Veeam handles most port configuration automatically: Ports 2049+ and 1058+: Auto-detected, with the system finding available alternatives if needed Ports 6161 and 111: Fixed ports that require manual changes if conflicts occur ","date":"2018-03-05","objectID":"/en/2018/03/vpower-nfs/:4:1","tags":["VMware Cutting-edge Technology"],"title":"Veeam Cutting-edge Technology: vPower NFS","uri":"/en/2018/03/vpower-nfs/"},{"categories":["Cutting-edge Technology"],"content":"Cache Management: The Critical Detail Here‚Äôs something you need to pay attention to: the vPower NFS cache. Since vPower needs somewhere to store write operations, cache management becomes crucial for production deployments. Default location: C:\\Programdata\\Veeam\\Backup\\NFSdatastore Best practice: Reserve at least 100GB of free space for this cache directory. You can redirect this location to another drive if needed‚Äîjust make sure it has adequate space and performance. Runtime flexibility: During Instant VM Recovery operations, Veeam lets you redirect the cache to a different location with more available space, which is handy for unexpected large-scale recoveries. SureBackup advantage: With SureBackup, write operations go to VMDK redo logs on your designated Virtual Lab datastore, so you don‚Äôt need to worry about the NFS cache directory capacity at all. ","date":"2018-03-05","objectID":"/en/2018/03/vpower-nfs/:4:2","tags":["VMware Cutting-edge Technology"],"title":"Veeam Cutting-edge Technology: vPower NFS","uri":"/en/2018/03/vpower-nfs/"},{"categories":["Cutting-edge Technology"],"content":"Advanced Instant VM Recovery Techniques Instant VM Recovery offers more creative possibilities than just quickly bringing a VM online. Let me share a couple of advanced techniques that showcase the versatility of this technology. ","date":"2018-03-05","objectID":"/en/2018/03/vpower-nfs/:5:0","tags":["VMware Cutting-edge Technology"],"title":"Veeam Cutting-edge Technology: vPower NFS","uri":"/en/2018/03/vpower-nfs/"},{"categories":["Cutting-edge Technology"],"content":"HotAdd Disk Recovery Without Network Sometimes you need to recover data without network connectivity. Here‚Äôs a clever workaround: Start Instant VM Recovery but don‚Äôt connect to network and keep the VM powered off Once the VM is registered, attach its virtual disk to a running VM in your production environment Bring the attached disk online in the operating system Copy and restore whatever data you need Unmount the disk when you‚Äôre finished Cancel the Instant VM Recovery operation This technique gives you direct disk access without ever booting the recovered VM or touching your network. ","date":"2018-03-05","objectID":"/en/2018/03/vpower-nfs/:5:1","tags":["VMware Cutting-edge Technology"],"title":"Veeam Cutting-edge Technology: vPower NFS","uri":"/en/2018/03/vpower-nfs/"},{"categories":["Cutting-edge Technology"],"content":"Creating New Disks for Non-Standard File Systems Need to recover data from unusual file systems or create custom disk configurations? Try this approach: Start Instant VM Recovery without network connectivity Power on the recovered VM and create a new, empty VMDK Attach this new VMDK to the recovered VM Log into the system, format the new disk according to your specific requirements and copy data to it Remove the newly created VMDK from the recovered VM and put it into production use Stop the Instant VM Recovery operation This method is perfect for handling non-standard file systems or creating customized disk images from backup data. vPower represents one of those rare technologies that‚Äôs both incredibly clever and practically useful. By elegantly solving the challenge of instant access to backup data, Veeam created a solution that continues to save organizations countless hours of downtime. The beauty is in the simplicity‚Äîtricking ESXi into seeing backup files as live VMs‚Äîand the result is nothing short of magical for anyone who‚Äôs ever faced a recovery emergency. ","date":"2018-03-05","objectID":"/en/2018/03/vpower-nfs/:5:2","tags":["VMware Cutting-edge Technology"],"title":"Veeam Cutting-edge Technology: vPower NFS","uri":"/en/2018/03/vpower-nfs/"},{"categories":["Data Protection"],"content":"There‚Äôs one fundamental truth in backup and recovery that every IT professional eventually learns: you don‚Äôt know if your backup archives can actually be restored until you‚Äôve tried to restore them. Veeam has a remarkable feature that automatically verifies backup archive availability online, ensuring your backed-up content can be properly restored when disaster strikes. The magic happens because SureBackup starts backup archives as normal virtual machines in an isolated environment, then runs comprehensive automated tests. It checks everything from VM heartbeats and network connectivity to application and service status within the VMs. After testing completes, it generates a detailed verification report about the archive‚Äôs recoverability. While SureBackup works with both VMware and Hyper-V, I‚Äôll focus on VMware environments to explain the technical principles and implementation methods. ","date":"2018-03-05","objectID":"/en/2018/03/surebackup/:0:0","tags":["VMware"],"title":"You Only Know if Backup Archives Can Be Restored When You've Actually Done It","uri":"/en/2018/03/surebackup/"},{"categories":["Data Protection"],"content":"How It Works SureBackup follows a methodical sequence to complete the verification process: Veeam Backup \u0026 Replication publishes Application Groups and target VMs to an isolated sandbox environment called ‚ÄúDataLab.‚Äù These VMs start directly from compressed, deduplicated backup files in the backup repository‚Äîno pre-restoration to VMware Datastores required. This relies on Veeam‚Äôs Instant VM Recovery and vPower NFS Service. Veeam performs automated verification tests on Application Groups and target VMs, typically including VM heartbeats, network pings, and custom application script tests. After basic verification, you can optionally run file-level CRC checks on backup archives to ensure original files remain unmodified during testing. When verification completes, Veeam unpublishes the VMs and generates a test report sent to designated administrators via email. Throughout verification, Veeam maintains all backup archives in read-only mode. All runtime data gets stored in VM Redo Logs on VMware storage, which Veeam deletes after verification to reclaim temporary space. ","date":"2018-03-05","objectID":"/en/2018/03/surebackup/:0:1","tags":["VMware"],"title":"You Only Know if Backup Archives Can Be Restored When You've Actually Done It","uri":"/en/2018/03/surebackup/"},{"categories":["Data Protection"],"content":"Key Components Unlike standard backup infrastructure, SureBackup requires several specialized objects: Application Group: Some VMs depend on others to start and function properly. Application Groups provide these dependencies‚Äîthink AD and DNS servers for an Exchange server. When you need to verify an Exchange server, you add VMs providing AD and DNS services to the Application Group to support startup dependencies. Virtual Lab: An isolated virtual sandbox where Application Group VMs and target VMs start up for testing. SureBackup Job: The automated or manual task that executes backup archive verification on schedule or demand. ","date":"2018-03-05","objectID":"/en/2018/03/surebackup/:0:2","tags":["VMware"],"title":"You Only Know if Backup Archives Can Be Restored When You've Actually Done It","uri":"/en/2018/03/surebackup/"},{"categories":["Data Protection"],"content":"Implementation Guide SureBackup requires configuring all three components. Let‚Äôs walk through each one. Application Group These are your production infrastructure‚Äôs cornerstone services‚Äîeverything else depends on them. Application Groups define essential VM sets that other verified VMs can‚Äôt function without. Crucially, Application Group VMs start from backup images, not production environment VMs. They must be pre-backed up and include their own verification tests. SureBackup validates Application Group VMs first‚Äîif they fail, verification stops entirely because other VMs can‚Äôt start without their dependencies. Keep Application Groups minimal. If target VMs don‚Äôt need application or service dependencies, don‚Äôt add VMs to the group. Configuration Method Creating Application Groups is straightforward. In Veeam Backup \u0026 Replication, navigate to Backup Infrastructure, select the SureBackup node, and click ‚ÄúAdd Application Group.‚Äù This launches Veeam‚Äôs classic wizard interface. First, set the Application Group name and description following your organization‚Äôs naming conventions. Next, select VMs for this group. You can add VMs from backup archives, replica archives, or storage snapshot archives‚Äîeach supporting different SureBackup functions (SureBackup/SureReplica/On-demand Sandbox for Storage Snapshots). We‚Äôll use ‚ÄúFrom Backup,‚Äù the most common approach for regular backup verification. Remember: Application Group VMs must be pre-backed up‚Äîyou can‚Äôt select production environment VMs directly. After selecting VMs, configure verification options. Application Group VMs must pass verification before other VMs get tested. Options include built-in server roles like DNS Server, Domain Controller, Global Catalog, Mail Server, SQL Server, and Web Server. When selected, Veeam automatically applies predefined verification scripts for each role. Additional verification options include startup settings, test scripts, and account credentials‚Äîdetailed settings helpful for specialized applications. Consult Veeam‚Äôs official documentation for specific configurations. Review your settings on the Summary page to complete the Application Group setup. Virtual Lab This isolated environment runs your verified VMs. Here, Veeam starts Application Group VMs first, then launches target VMs for verification. Virtual Labs consume minimal resources and can deploy on any ESXi host. They request compute resources only when VMs start. Virtual Labs create network environments that completely mirror production networks‚ÄîVMs maintain identical IP configurations, functioning exactly as they would in production. Three critical concepts within Virtual Labs: Proxy Appliance, IP Masquerading, and Static IP Mapping. Proxy Appliance For production network communication, Veeam uses a Linux-based lightweight Proxy Appliance created in each Virtual Lab. Multiple network cards connect Virtual Lab VMs to the production environment. IP Masquerading Veeam establishes rules allowing production network access to isolated networks through specific IPs without modifying internal IP configurations. Each production IP gets a corresponding isolated network IP through IP Masquerading. For example, if production uses 172.16.10.10 with IP Masquerading rule 172.16.10.X/24 mapping to 172.18.10.X/24, the VM‚Äôs masquerade IP becomes 172.18.10.10. Veeam adds these as static routes to the VBR backup server and Virtual Lab Client desktops. When accessing 172.18.10.10, the Proxy Appliance acts as a NAT server, forwarding requests to the Virtual Lab VM. The VM‚Äôs actual IP remains unchanged. Static IP Mapping Since static routes only get added to VBR servers and Virtual Lab Clients, accessing VMs from multiple clients becomes cumbersome. Veeam provides Static IP Mapping for broader access. Using an available production IP (like 172.16.10.99), you can map it to 172.18.10.10. All network clients then access the Virtual Lab VM via 172.16.10.99 without individual static route configurations. Virtual Lab C","date":"2018-03-05","objectID":"/en/2018/03/surebackup/:0:3","tags":["VMware"],"title":"You Only Know if Backup Archives Can Be Restored When You've Actually Done It","uri":"/en/2018/03/surebackup/"},{"categories":["Data Protection"],"content":"Kicking off the New Year with some exciting news! Veeam 9.5U3 brings us centralized agent management, a game-changing feature that transforms how we handle physical and cloud infrastructure backups. The interface has evolved significantly, but don‚Äôt worry ‚Äî Veeam maintains its familiar wizard-driven approach that we all know and love. Let‚Äôs dive into what‚Äôs new and explore how this centralized management works. ","date":"2018-01-01","objectID":"/en/2018/01/centrilized-agent-management/:0:0","tags":["Agent"],"title":"First Post of the New Year - Detailed Guide to Veeam 9.5U3 Centralized Agent Management","uri":"/en/2018/01/centrilized-agent-management/"},{"categories":["Data Protection"],"content":"The Big Picture: Interface Changes First things first ‚Äî you‚Äôll notice some familiar faces have moved: Backup \u0026 Replication is now called Home Virtual Machine has become Inventory Agent management lives under Physical \u0026 Cloud Infrastructure in the Inventory section Veeam‚Äôs approach to agent management follows its proven three-step methodology: Create Protection Groups ‚Äî Define and automatically discover what needs protecting Create Jobs or Policies ‚Äî Set up your backup configurations Execute Restores ‚Äî Recover data when needed using various methods This consistency makes the transition smooth for anyone familiar with Veeam‚Äôs virtualization backup workflows. ","date":"2018-01-01","objectID":"/en/2018/01/centrilized-agent-management/:1:0","tags":["Agent"],"title":"First Post of the New Year - Detailed Guide to Veeam 9.5U3 Centralized Agent Management","uri":"/en/2018/01/centrilized-agent-management/"},{"categories":["Data Protection"],"content":"Exploring the Physical \u0026 Cloud Infrastructure Interface The Physical \u0026 Cloud Infrastructure node displays folder-like icons that represent different protection groups. After upgrading, you‚Äôll immediately see two system-created folders: Manually Added ‚Äî For individually managed computers Unmanaged ‚Äî For discovered but not yet protected systems As you create protection groups, new folders will appear, each containing the servers or workstations you‚Äôve designated for backup. ","date":"2018-01-01","objectID":"/en/2018/01/centrilized-agent-management/:2:0","tags":["Agent"],"title":"First Post of the New Year - Detailed Guide to Veeam 9.5U3 Centralized Agent Management","uri":"/en/2018/01/centrilized-agent-management/"},{"categories":["Data Protection"],"content":"Creating Protection Groups True to Veeam form, creating protection groups uses their classic wizard interface. Let‚Äôs walk through the three different ways you can add computers to your protection groups. ","date":"2018-01-01","objectID":"/en/2018/01/centrilized-agent-management/:3:0","tags":["Agent"],"title":"First Post of the New Year - Detailed Guide to Veeam 9.5U3 Centralized Agent Management","uri":"/en/2018/01/centrilized-agent-management/"},{"categories":["Data Protection"],"content":"Method 1: Individual Computers Perfect for small environments or specific servers, this method lets you add computers manually one by one. Simply enter the host name or IP address and provide appropriate credentials. It‚Äôs straightforward and ideal for targeted protection. ","date":"2018-01-01","objectID":"/en/2018/01/centrilized-agent-management/:3:1","tags":["Agent"],"title":"First Post of the New Year - Detailed Guide to Veeam 9.5U3 Centralized Agent Management","uri":"/en/2018/01/centrilized-agent-management/"},{"categories":["Data Protection"],"content":"Method 2: Microsoft Active Directory Objects For larger environments, AD integration is a lifesaver. You can dynamically add entire organizational units, security groups, or individual computers based on AD queries. Start by clicking the Change button to configure your AD connection ‚Äî enter your domain details and provide domain administrator credentials. Once connected, you can browse your AD structure and select exactly what you want to protect. One smart feature: Veeam automatically excludes virtual machines from agent-based protection, since they should typically be protected through hypervisor-level backups. ","date":"2018-01-01","objectID":"/en/2018/01/centrilized-agent-management/:3:2","tags":["Agent"],"title":"First Post of the New Year - Detailed Guide to Veeam 9.5U3 Centralized Agent Management","uri":"/en/2018/01/centrilized-agent-management/"},{"categories":["Data Protection"],"content":"Method 3: Computers from CSV Files Sometimes you need the flexibility of custom lists. The CSV import method lets you maintain your inventory in a simple text file. Just create a CSV file with your host names or IP addresses, then point Veeam to it. This method works great for mixed environments or when you‚Äôre migrating from another backup solution. You can even specify different credentials for different hosts within the same CSV file, giving you granular control over authentication. ","date":"2018-01-01","objectID":"/en/2018/01/centrilized-agent-management/:3:3","tags":["Agent"],"title":"First Post of the New Year - Detailed Guide to Veeam 9.5U3 Centralized Agent Management","uri":"/en/2018/01/centrilized-agent-management/"},{"categories":["Data Protection"],"content":"Advanced Protection Group Settings Regardless of which method you choose, you‚Äôll have access to some powerful automation settings: Automatic discovery intervals ‚Äî Set how often Veeam scans for new computers Agent deployment ‚Äî Automatically install Veeam agents and CBT drivers on discovered machines Restart policies ‚Äî Control automatic reboots when required after agent installation The wizard performs final status checks on target systems before creating your protection group, ensuring everything is ready for deployment. ","date":"2018-01-01","objectID":"/en/2018/01/centrilized-agent-management/:4:0","tags":["Agent"],"title":"First Post of the New Year - Detailed Guide to Veeam 9.5U3 Centralized Agent Management","uri":"/en/2018/01/centrilized-agent-management/"},{"categories":["Data Protection"],"content":"Managing Windows Agents Once Veeam discovers machines in your protection groups, you‚Äôll see them listed in the Physical \u0026 Cloud Infrastructure view. The toolbar gives you complete control over agent lifecycle: Install/Uninstall agents ‚Äî Push agents to new systems or remove them when needed Restart computers ‚Äî Reboot machines remotely for maintenance Create recovery media ‚Äî Build bootable recovery media directly from the console What‚Äôs particularly impressive is that all these operations, which previously required working directly on individual machines, are now centralized in the Veeam console. ","date":"2018-01-01","objectID":"/en/2018/01/centrilized-agent-management/:5:0","tags":["Agent"],"title":"First Post of the New Year - Detailed Guide to Veeam 9.5U3 Centralized Agent Management","uri":"/en/2018/01/centrilized-agent-management/"},{"categories":["Data Protection"],"content":"Creating Windows Backup Jobs Setting up backups is as simple as selecting your computers and clicking Add to Backup. The familiar Veeam wizard guides you through the process: You‚Äôll notice three deployment options, each serving different scenarios: Workstation ‚Äî Ideal for desktop/laptop environments Managed by Agent ‚Äî Perfect for remote sites with local backup servers Managed by Backup Server ‚Äî Our focus for centralized management The Managed by backup server option gives you full control over backup scheduling, retention, and storage allocation. Job Configuration Walkthrough Let‚Äôs walk through the key configuration steps: Step 1: Name your job ‚Äî Give it a descriptive name that makes sense in your environment. Step 2: Select servers ‚Äî Choose which computers to include and set their processing order if needed. Step 3: Choose backup mode ‚Äî Options mirror what you‚Äôre used to in Veeam‚Äôs agent client. Step 4: Configure storage ‚Äî Select your backup repository and set retention policies. Advanced options let you configure synthetic full and active full backup schedules. Step 5: Application-aware processing ‚Äî Enable consistent backups for applications like SQL Server and Exchange. Step 6: Schedule ‚Äî Set your backup frequency and timing using Veeam‚Äôs familiar scheduling interface. Once configured, your jobs run with the same reliability you expect from Veeam: During execution, Veeam collects necessary drivers and system information, ensuring reliable recovery when you need it. ","date":"2018-01-01","objectID":"/en/2018/01/centrilized-agent-management/:5:1","tags":["Agent"],"title":"First Post of the New Year - Detailed Guide to Veeam 9.5U3 Centralized Agent Management","uri":"/en/2018/01/centrilized-agent-management/"},{"categories":["Data Protection"],"content":"Recovery Operations All your backup archives appear in the Home interface, where you can perform various recovery operations: The recovery options match what you‚Äôre used to in virtualization backups ‚Äî file-level recovery, volume recovery, and full bare-metal recovery. The consistency across platforms makes training and operations much simpler. For bare-metal recovery, Veeam now generates recovery media directly from the backup server console: This centralization eliminates the need to manage recovery media creation on individual machines. ","date":"2018-01-01","objectID":"/en/2018/01/centrilized-agent-management/:5:2","tags":["Agent"],"title":"First Post of the New Year - Detailed Guide to Veeam 9.5U3 Centralized Agent Management","uri":"/en/2018/01/centrilized-agent-management/"},{"categories":["Data Protection"],"content":"Managing Linux Agents Linux agent management follows a similar workflow but with some platform-specific differences: Linux environments have fewer management options ‚Äî you won‚Äôt find recovery media creation, CBT driver installation, or reboot capabilities directly in the console, reflecting the different requirements of Linux systems. ","date":"2018-01-01","objectID":"/en/2018/01/centrilized-agent-management/:6:0","tags":["Agent"],"title":"First Post of the New Year - Detailed Guide to Veeam 9.5U3 Centralized Agent Management","uri":"/en/2018/01/centrilized-agent-management/"},{"categories":["Data Protection"],"content":"Linux Backup Configuration Creating Linux backup jobs uses the same wizard approach, though with some Linux-specific considerations: Notably, Linux doesn‚Äôt support cluster-based protection in this release, though that may change in future versions. The configuration screens will look familiar: Name and describe your job ‚Äî Good documentation practices help in any environment. Select servers ‚Äî Choose which Linux systems to protect. Choose backup mode ‚Äî Select the appropriate backup strategy for your Linux workloads. Configure storage ‚Äî Set your backup target and retention policies. Application-aware processing ‚Äî Linux uses pre-freeze and post-thaw scripts for application consistency, with filesystem indexing handled during backup. Schedule ‚Äî Set your backup timing using the familiar scheduling interface. ","date":"2018-01-01","objectID":"/en/2018/01/centrilized-agent-management/:6:1","tags":["Agent"],"title":"First Post of the New Year - Detailed Guide to Veeam 9.5U3 Centralized Agent Management","uri":"/en/2018/01/centrilized-agent-management/"},{"categories":["Data Protection"],"content":"Linux Recovery Options Linux recovery operations in VBR are more limited compared to Windows: From the Veeam console, you can perform: File-level recovery ‚Äî Restore individual files and folders Restore to Azure ‚Äî Migrate workloads to Azure Export to virtual disk ‚Äî Create VMDK/VHD files for virtualization For bare-metal recovery of Linux systems, you‚Äôll need to download the dedicated Linux recovery media from Veeam‚Äôs website: Direct download link: https://download2.veeam.com/veeam-recovery-media-2.0.0.400_x86_64.iso ","date":"2018-01-01","objectID":"/en/2018/01/centrilized-agent-management/:6:2","tags":["Agent"],"title":"First Post of the New Year - Detailed Guide to Veeam 9.5U3 Centralized Agent Management","uri":"/en/2018/01/centrilized-agent-management/"},{"categories":["Data Protection"],"content":"Looking Ahead The 9.5U3 update marks a significant step forward in Veeam‚Äôs physical and cloud infrastructure protection capabilities. By centralizing agent management alongside virtualization workloads, Veeam creates a unified protection platform that simplifies administration while maintaining the flexibility and power that administrators expect. For the complete release notes and to download the update, check out the official Veeam documentation. This New Year‚Äôs update sets the stage for even more exciting developments in the months to come. Whether you‚Äôre managing a handful of servers or thousands of distributed endpoints, centralized agent management in Veeam 9.5U3 provides the tools you need to protect your physical and cloud infrastructure effectively. The familiar interface, combined with powerful automation capabilities, makes this a welcome addition to any Veeam administrator‚Äôs toolkit. ","date":"2018-01-01","objectID":"/en/2018/01/centrilized-agent-management/:7:0","tags":["Agent"],"title":"First Post of the New Year - Detailed Guide to Veeam 9.5U3 Centralized Agent Management","uri":"/en/2018/01/centrilized-agent-management/"},{"categories":[],"content":"Sometimes the best discoveries happen completely by accident. Last week at VeeamON Shanghai, I stumbled upon something that completely changed my perspective on home lab setups. One of my colleagues casually mentioned he was running ESXi on his laptop, and I was blown away. Now, I‚Äôve always assumed installing ESXi on a laptop would be a nightmare of driver hunting and compatibility issues. But here‚Äôs the game-changing insight: use Dell‚Äôs customized ESXi ISO. Everything just works out of the box‚Äîno driver hunting, no compatibility headaches. The installation process is literally one-click, and you‚Äôre up and running. I couldn‚Äôt wait to try this myself. But as I started planning my weekend project, I hit a small snag. I still needed Hyper-V for some work, and formatting the internal drives of my Dell M4800 workstation into VMFS seemed like a waste. That‚Äôs when inspiration struck: I had an old USB 3.0 external drive sitting around. What if I could create a dual-boot setup, keeping Hyper-V on the internal drives while running ESXi from external storage? A quick Google search confirmed it was totally possible, and I was ready to dive in. ","date":"2017-08-27","objectID":"/en/2017/08/esxi-in-m4800/:0:0","tags":["VMware"],"title":"Transforming HOME LAB: Installing ESXi on M6400","uri":"/en/2017/08/esxi-in-m4800/"},{"categories":[],"content":"The Setup Here‚Äôs what I was working with: Dell M4800 Specs: CPU: Intel Core i7-4710MQ @ 2.5GHz Memory: 32GB DDR3 Internal Storage: Samsung 500GB SSD + Seagate 500GB SATA Network: Intel i217-LM Gigabit Ethernet External Hardware: Boot Media: 8GB USB flash drive Storage: WD 2TB SATA drive connected via USB 3.0 (for VM datastore) Software: Dell Customized ESXi ISO (available from Dell‚Äôs support site) ","date":"2017-08-27","objectID":"/en/2017/08/esxi-in-m4800/:1:0","tags":["VMware"],"title":"Transforming HOME LAB: Installing ESXi on M6400","uri":"/en/2017/08/esxi-in-m4800/"},{"categories":[],"content":"Installation: Surprisingly Simple Time to get my hands dirty! I was honestly expecting some complications, but the installation process was incredibly straightforward. The Dell customized ESXi ISO lived up to its reputation. The installer booted perfectly, detected all my hardware (including that tricky Intel NIC), and completed the entire installation in just five minutes. Seriously‚Äîfive minutes from USB stick to fully functional ESXi host. After the basic setup, I configured the network settings, set a hostname, and joined it to my existing vCenter cluster. Everything just worked, exactly as promised. ","date":"2017-08-27","objectID":"/en/2017/08/esxi-in-m4800/:2:0","tags":["VMware"],"title":"Transforming HOME LAB: Installing ESXi on M6400","uri":"/en/2017/08/esxi-in-m4800/"},{"categories":[],"content":"The Real Challenge: USB Datastore Setup Now for the interesting part‚Äîgetting that external USB drive working as a datastore. VMware officially doesn‚Äôt support USB storage for production environments, which makes total sense from a reliability perspective. But for a home lab? This is exactly the kind of flexible setup that makes experimenting so much fun. Quick note: These steps are specifically for ESXi 6.0. Your mileage may vary with other versions. Here‚Äôs how I got it working: ","date":"2017-08-27","objectID":"/en/2017/08/esxi-in-m4800/:3:0","tags":["VMware"],"title":"Transforming HOME LAB: Installing ESXi on M6400","uri":"/en/2017/08/esxi-in-m4800/"},{"categories":[],"content":"Step 1: Enable SSH and Connect First things first, I needed SSH access to the ESXi host. Once that was enabled, I could connect and start exploring the storage devices. ","date":"2017-08-27","objectID":"/en/2017/08/esxi-in-m4800/:3:1","tags":["VMware"],"title":"Transforming HOME LAB: Installing ESXi on M6400","uri":"/en/2017/08/esxi-in-m4800/"},{"categories":[],"content":"Step 2: Identify the USB Drive [root@esxim4800:~] ls /dev/disks In the output, I looked for my USB drive and found these entries: mpx.vmhba38:C0:T0:L0 mpx.vmhba38:C0:T0:L0:1 mpx.vmhba38:C0:T0:L0:2 ","date":"2017-08-27","objectID":"/en/2017/08/esxi-in-m4800/:3:2","tags":["VMware"],"title":"Transforming HOME LAB: Installing ESXi on M6400","uri":"/en/2017/08/esxi-in-m4800/"},{"categories":[],"content":"Step 3: Create the Partition Table [root@esxim4800:~] partedUtil mklabel /dev/disks/mpx.vmhba38:C0:T0:L0 gpt ","date":"2017-08-27","objectID":"/en/2017/08/esxi-in-m4800/:3:3","tags":["VMware"],"title":"Transforming HOME LAB: Installing ESXi on M6400","uri":"/en/2017/08/esxi-in-m4800/"},{"categories":[],"content":"Step 4: Calculate Partition Layout This was the trickiest part‚ÄîI needed to calculate the end sector for the VMFS volume: [root@esxim4800:~] eval expr $(partedUtil getptbl /dev/disks/mpx.vmhba38:C0:T0:L0 | tail -1 | awk '{print $1 \"* \" $2 \" * \" $3}') ‚Äì 13907024064 ","date":"2017-08-27","objectID":"/en/2017/08/esxi-in-m4800/:3:4","tags":["VMware"],"title":"Transforming HOME LAB: Installing ESXi on M6400","uri":"/en/2017/08/esxi-in-m4800/"},{"categories":[],"content":"Step 5: Create the Partition [root@esxim4800:~] partedUtil setptbl /dev/disks/mpx.vmhba38:C0:T0:L0 gpt \"12048 3907024064 AA31E02A400F11DB9590000C2911D1B8\" ","date":"2017-08-27","objectID":"/en/2017/08/esxi-in-m4800/:3:5","tags":["VMware"],"title":"Transforming HOME LAB: Installing ESXi on M6400","uri":"/en/2017/08/esxi-in-m4800/"},{"categories":[],"content":"Step 6: Format as VMFS5 [root@esxim4800:~] vmkfstools -C vmfs5 -S USB-LOCAL /dev/disks/mpx.vmhba38:C0:T0:L0:1 And there it was! Back in the vSphere Client, I could see my new ‚ÄúUSB-LOCAL‚Äù datastore ready to use. ","date":"2017-08-27","objectID":"/en/2017/08/esxi-in-m4800/:3:6","tags":["VMware"],"title":"Transforming HOME LAB: Installing ESXi on M6400","uri":"/en/2017/08/esxi-in-m4800/"},{"categories":[],"content":"The Result: Perfect Dual-Boot Setup Mission accomplished! My Dell M4800 now has the best of both worlds. When I need to work with Hyper-V, I simply boot from the internal drives into Windows Server 2016. For my VMware home lab adventures, I boot from the USB drive and have a full ESXi environment with 2TB of external storage. This setup gives me incredible flexibility without sacrificing anything. I can experiment with VMware, run test VMs, and explore virtualization techniques while keeping my work environment completely separate. The external USB storage provides plenty of room for VMs, and because it‚Äôs all on removable media, I can even take my lab environment with me if needed. Would I recommend this approach? Absolutely‚Äîfor home lab enthusiasts. It‚Äôs not something I‚Äôd deploy in production, but for learning, testing, and experimentation? It‚Äôs perfect. The key takeaway here is that sometimes the most creative solutions come from working within constraints. Don‚Äôt let conventional thinking limit your home lab possibilities! ","date":"2017-08-27","objectID":"/en/2017/08/esxi-in-m4800/:4:0","tags":["VMware"],"title":"Transforming HOME LAB: Installing ESXi on M6400","uri":"/en/2017/08/esxi-in-m4800/"},{"categories":["Data Protection"],"content":"In our last post, we explored how to accelerate the backup engine ‚Äî a critical optimization for maximizing backup performance and improving your RPO. But that‚Äôs just one piece of the performance puzzle. Today, I want to share another game-changing accelerator that Veeam introduced: the vSphere communication acceleration technology. And trust me, the results are absolutely stunning. ","date":"2017-08-07","objectID":"/en/2017/08/speed-up-02/:0:0","tags":["VMware"],"title":"Speed Up! Speed Up! Speed Up! (Part 2)","uri":"/en/2017/08/speed-up-02/"},{"categories":["Data Protection"],"content":"The Broker Service Revolution Introduced in Veeam 9.5, the Broker Service is one of those features that seems simple on the surface but delivers incredible performance gains in practice. Here‚Äôs the concept: Veeam places an intelligent intermediary service between the backup infrastructure and VMware vCenter. Instead of hitting vCenter directly every time it needs information, Veeam can query this cached Broker Service instead. The difference is dramatic. Without the Broker Service, every backup job initiates direct communication with vCenter. The response time depends entirely on vCenter‚Äôs performance and network conditions ‚Äî factors often outside your control. With the Broker Service enabled, Veeam queries locally cached information while the Broker handles the heavy lifting of staying synchronized with vCenter. ","date":"2017-08-07","objectID":"/en/2017/08/speed-up-02/:1:0","tags":["VMware"],"title":"Speed Up! Speed Up! Speed Up! (Part 2)","uri":"/en/2017/08/speed-up-02/"},{"categories":["Data Protection"],"content":"Under the Hood The Broker Service runs as a Windows service that you can see in your Services.msc console: What makes this so efficient is how it handles inventory changes. Any modifications to your VMware vCenter infrastructure ‚Äî new VMs, changed configurations, moved objects ‚Äî get pushed in real-time to the Broker‚Äôs cache. And for added reliability, if no changes are detected, Veeam automatically forces a cache refresh every 15 minutes (900 seconds) to ensure everything stays accurate. ","date":"2017-08-07","objectID":"/en/2017/08/speed-up-02/:2:0","tags":["VMware"],"title":"Speed Up! Speed Up! Speed Up! (Part 2)","uri":"/en/2017/08/speed-up-02/"},{"categories":["Data Protection"],"content":"The Performance Numbers Speak for Themselves Theory is great, but let‚Äôs look at real-world performance. Here‚Äôs what happened when I tested backup job initialization without the Broker Service. Veeam needed to query vCenter to build the backup VM list, which took a full 40 seconds: Now, with the Broker Service enabled, the same operation ‚Äî querying the cached information to create the backup VM list ‚Äî completed in just 1 second: That‚Äôs a 40x performance improvement. I‚Äôll say that again: forty times faster. This isn‚Äôt just a marginal gain ‚Äî it‚Äôs transformative. Tasks that once took nearly a minute now complete instantly. The impact on large-scale backup operations is simply massive. ","date":"2017-08-07","objectID":"/en/2017/08/speed-up-02/:3:0","tags":["VMware"],"title":"Speed Up! Speed Up! Speed Up! (Part 2)","uri":"/en/2017/08/speed-up-02/"},{"categories":["Data Protection"],"content":"Ready to Fly? If you want to experience this kind of performance boost in your environment, it‚Äôs time to upgrade to Veeam 9.5 Update 2. The Broker Service alone makes it worth the upgrade. ","date":"2017-08-07","objectID":"/en/2017/08/speed-up-02/:4:0","tags":["VMware"],"title":"Speed Up! Speed Up! Speed Up! (Part 2)","uri":"/en/2017/08/speed-up-02/"},{"categories":["Data Protection"],"content":"Coming Up Next Fast backups are incredible, but let‚Äôs be honest ‚Äî what really matters in a disaster scenario is recovery speed. Everyone knows about Veeam‚Äôs Instant VM Recovery, but what about the other recovery technologies? Are they just as fast? In our next post, we‚Äôll dive deep into Veeam‚Äôs recovery performance and uncover some surprising results. Trust me, you won‚Äôt want to miss it. ","date":"2017-08-07","objectID":"/en/2017/08/speed-up-02/:5:0","tags":["VMware"],"title":"Speed Up! Speed Up! Speed Up! (Part 2)","uri":"/en/2017/08/speed-up-02/"},{"categories":["Data Protection"],"content":"I don‚Äôt often talk about speed and performance, because I‚Äôve always considered it a fundamental requirement‚Äîlike a good car‚Äôs engine. You expect it to work well, and you don‚Äôt really think about it until something goes wrong. But here‚Äôs the thing: in the world of backup and recovery, that engine is everything. It‚Äôs where backup software truly proves its worth. Today, I want to dive deep into Veeam‚Äôs acceleration technologies. This is part one of a new series focused on performance, starting with the heart of Veeam‚Äôs speed advantage: the Backup Acceleration Engine. This isn‚Äôt just about faster backups‚Äîit‚Äôs about how Veeam helps customers achieve true IT availability. ","date":"2017-08-01","objectID":"/en/2017/08/speed-up-01/:0:0","tags":["VMware"],"title":"Speed Up! Speed Up! Speed Up! (Part 1)","uri":"/en/2017/08/speed-up-01/"},{"categories":["Data Protection"],"content":"Veeam‚Äôs Backup Acceleration Engine Most backup solutions use VMware‚Äôs vStorage API for Data Protection (VADP) with the Virtual Disk Development Kit (VDDK). But Veeam goes further by adding something special: the Veeam Advanced Data Fetcher (ADF). Think of ADF as a performance multiplier for enterprise storage arrays. It increases queue depth by more than 2x, which means dramatically faster data reads from vSphere environments. Compared to similar backup products, Veeam delivers double the efficiency at the source. Even better, ADF reduces the number of I/O operations needed to read data, which means less impact on your production storage when backing up the same amount of data. ","date":"2017-08-01","objectID":"/en/2017/08/speed-up-01/:1:0","tags":["VMware"],"title":"Speed Up! Speed Up! Speed Up! (Part 1)","uri":"/en/2017/08/speed-up-01/"},{"categories":["Data Protection"],"content":"Smart Control with Backup I/O Control Speed is great, but not at the expense of production performance. That‚Äôs why Veeam paired ADF with intelligent throttling: Backup I/O Control. When production storage is already struggling with slow reads, backup software typically doesn‚Äôt need to worry about causing performance issues. But when you can read data quickly, you must consider the production storage‚Äôs capacity to handle additional load. This isn‚Äôt something you can just guess at‚Äîit requires intelligent control. The magic happens when Veeam ADF and Backup I/O Control work together. They automatically sense production storage latency and dynamically adjust ADF‚Äôs throughput to keep backups running within acceptable latency ranges. ","date":"2017-08-01","objectID":"/en/2017/08/speed-up-01/:1:1","tags":["VMware"],"title":"Speed Up! Speed Up! Speed Up! (Part 1)","uri":"/en/2017/08/speed-up-01/"},{"categories":["Data Protection"],"content":"Transforming Backup Windows Traditionally, backup administrators would schedule daily backups during off-peak hours‚Äîtypically late at night when business activity is minimal. This results in a 24-hour Recovery Point Objective (RPO), not because administrators are overly cautious, but because they lacked intelligent control mechanisms. Backups had to step aside for production to ensure availability. With Veeam‚Äôs engine‚Äîspecifically the collaboration between ADF and Backup I/O Control‚Äîbackup administrators can now run backups anytime without impacting production. This dramatically improves backup RPO. This is what sets Veeam apart. Many solutions can perform backups, but Veeam‚Äôs technology helps you achieve availability goals at the same time. Critical business workloads can be backed up anytime, not just during maintenance windows. True 24√ó7√ó365 availability starts with smarter backup practices. Coming Up Next: vSphere Communication Acceleration ‚Äî Before backing up virtual machines, backup software spends significant time communicating with the virtualization platform. This communication overhead is often the second most time-consuming part of any backup job. Veeam‚Äôs new Broker Service dramatically speeds up this process, saving valuable time in every backup operation. ","date":"2017-08-01","objectID":"/en/2017/08/speed-up-01/:1:2","tags":["VMware"],"title":"Speed Up! Speed Up! Speed Up! (Part 1)","uri":"/en/2017/08/speed-up-01/"},{"categories":["Data Protection"],"content":"Virtualization didn‚Äôt just change IT‚Äîit revolutionized it. But while we were busy transforming our infrastructure, something equally profound was happening in the backup world. The rise of virtualization brought us agentless backup, and suddenly the old way of doing things didn‚Äôt make so much sense anymore. Here‚Äôs the thing about backup architecture: it‚Äôs always been a debate between agents and no agents. Both approaches have their obvious trade-offs, but what if you could have the best of both worlds? That‚Äôs exactly where Veeam‚Äôs approach to agentless backup with application awareness changes the game. What Exactly is a Software Agent? Here‚Äôs something interesting about our industry: we throw around the term ‚Äúagent‚Äù all the time, but ask five IT professionals to define it and you‚Äôll get five different answers. Even in Chinese technical discussions, we tend to be vague about whether we mean agents in the broad sense or the narrow sense. I did some digging‚Äîchecked Baidu Baike, consulted Wikipedia‚Äîand found that Wikipedia actually captures the essence well. A Software Agent typically has these characteristics: Always-on - It runs continuously, sitting there waiting even when idle Self-sufficient - It operates autonomously without human intervention Interactive - It can communicate with other programs, activate modules, and work collaboratively When you think about traditional backup agents, they fit this profile perfectly. They‚Äôre always running, always watching, always ready. How Veeam Does It Differently Veeam‚Äôs approach to virtualization backup is fundamentally different: no agents required in any operating system. Your backups don‚Äôt depend on anything being running inside the guest OS. But here‚Äôs where it gets clever. When you need application-aware processing, Veeam temporarily runs a process inside the OS during backup to handle application consistency and file system quiescing. Once that work is done, the process shuts down cleanly. This isn‚Äôt an agent‚Äîit‚Äôs a temporary worker that shows up, does its job, and leaves. The contrast with traditional backup agents is stark. Think about all the headaches that come with conventional backup agents: Installation fatigue - Every new VM needs manual agent installation (yes, even ‚Äúpush‚Äù installations require configuration work) Update nightmares - Every single machine needs agent upgrades when software updates roll out Monitoring overhead - You need dedicated tools just to watch your backup agents, what we call ‚Äúagent nannies‚Äù to alert you when something goes wrong Resource drain - All these agents constantly consume CPU, memory, network, and storage resources, often duplicating effort across your infrastructure Veeam‚Äôs application-aware process runs for just a few minutes during backup initiation, then terminates. All those problems? They disappear. No deployment hassles, no update cycles, no monitoring requirements. The Security Angle You Might Not Consider Here‚Äôs something that keeps security professionals up at night: every running application increases your attack surface. The safest system is one with nothing running on it. Each additional process you add‚Äîwhether it‚Äôs a backup agent or anything else‚Äîcreates another potential entry point for hackers, malware, or ransomware. By eliminating permanently running backup agents, you‚Äôre systematically reducing your attack surface across every system in your environment. There‚Äôs another practical advantage: what happens when systems are powered down? Traditional backup agents become completely useless in this scenario. We‚Äôve all seen that dreaded ‚ÄúBackup target Offline‚Äù status in backup consoles. The only solution? Track down whoever owns that system and get them to boot it up. With agentless backup, powered-off systems don‚Äôt matter. The backup process continues unaffected. And when it comes time to recover, Veeam‚Äôs granular recovery options still give you the flexibility to restore exactly what you need. That‚Äôs what I call backup done ","date":"2017-07-23","objectID":"/en/2017/07/agentless-backup/:0:0","tags":["VMware"],"title":"Agentless Backup and Application Awareness","uri":"/en/2017/07/agentless-backup/"},{"categories":["Black Technology"],"content":"I‚Äôve been working with more VMware environments lately, and I‚Äôm noticing a clear trend: NFS datastores are becoming mainstream. It used to be that only NetApp enthusiasts would seriously consider NFS for VMware, but times have changed. With the rise of hyper-converged infrastructure, major platforms like Nutanix and Cisco HyperFlex are now delivering storage to VMware exclusively through NFS. This shift has always been a bit problematic for backup performance. When you‚Äôre using NFS datastores, your only option for virtual machine backups has been the network transport method (NBD), which caps you at just 40% of VMKernel‚Äôs total network throughput. Even with plenty of bandwidth available, you‚Äôd hit that performance ceiling every time. But here‚Äôs where things get interesting. Starting with Veeam Backup \u0026 Replication v9.0, there‚Äôs a game-changing approach for NFS backups called Direct NFS Access. If you‚Äôre familiar with Direct SAN Access for SAN environments, you‚Äôll recognize the pattern immediately. Instead of routing backup traffic through the ESXi host, Veeam can now read directly from NFS storage - bypassing the host entirely. ","date":"2017-07-04","objectID":"/en/2017/07/direct-nfs-access/:0:0","tags":["VMware"],"title":"Veeam Black Technology: Direct NFS Access","uri":"/en/2017/07/direct-nfs-access/"},{"categories":["Black Technology"],"content":"Getting Started with Direct NFS Access True to Veeam‚Äôs philosophy, this powerful feature is surprisingly simple to configure. Let me walk you through the setup process. First, let‚Äôs assume you have a virtual machine running on an NFS datastore: The critical step is configuring your NFS server permissions. You‚Äôll need to grant your Veeam Backup Proxy read/write access to the same NFS volume that your ESXi hosts use. In my FreeNAS setup, I configured access for both 10.10.1.130 (the ESXi host) and 10.10.1.171 (the Veeam Backup Proxy): Next, head over to the Veeam console and specify your preferred backup network - this should be the network segment that provides optimal connectivity to your NFS storage: If you‚Äôve just added a new NFS datastore, run a VMware infrastructure rescan to make sure Veeam recognizes it properly: That‚Äôs it for configuration. Now just run your backup job as usual. Veeam will automatically detect that Direct NFS Access is available and switch to this optimized transport method: Notice the [nfs] transport indicator in the backup session - that‚Äôs your confirmation that Direct NFS Access is active. Compare that to the other transport methods you might see: [san] for Direct SAN Access, [hotadd] for HotAdd mode, and [nbd] for standard network backups. You can also verify the transport method in the backup logs: ","date":"2017-07-04","objectID":"/en/2017/07/direct-nfs-access/:1:0","tags":["VMware"],"title":"Veeam Black Technology: Direct NFS Access","uri":"/en/2017/07/direct-nfs-access/"},{"categories":["Black Technology"],"content":"The Bottom Line Direct NFS Access is one of those features that just makes sense - it delivers significant performance improvements with minimal configuration overhead. If you‚Äôre running VMware on NFS datastores (and many more of us are these days), this is definitely worth enabling. For deeper technical details, check out the official Veeam documentation. The performance gains you‚Äôll see are substantial, especially in environments where network backup throughput has been a bottleneck. ","date":"2017-07-04","objectID":"/en/2017/07/direct-nfs-access/:2:0","tags":["VMware"],"title":"Veeam Black Technology: Direct NFS Access","uri":"/en/2017/07/direct-nfs-access/"},{"categories":["Data Backup"],"content":"Great news from the Veeam team! Last week, we achieved another significant milestone by passing the newly available VMware Web Client Plug-in Ready certification for vSphere 6.5. This is genuinely exciting news for anyone managing VMware infrastructure with Veeam. You can verify our certification status on VMware‚Äôs official compatibility list: https://www.vmware.com/resources/compatibility/search.php?deviceCategory=wcp ","date":"2017-06-30","objectID":"/en/2017/06/another-vmware-ready/:0:0","tags":["VMware"],"title":"Good news, Veeam passes another VMware Ready certification!","uri":"/en/2017/06/another-vmware-ready/"},{"categories":["Data Backup"],"content":"Why VMware Ready Certification Matters If you‚Äôre not familiar with VMware Ready certification, here‚Äôs why it‚Äôs such a big deal. This certification ensures that plug-ins meet VMware‚Äôs highest standards, providing several key advantages: 1. Industry Best Practices Integration Certified plug-ins align with VMware‚Äôs established best practices and are often featured in official documentation and whitepapers, giving you confidence in the implementation approach. 2. Seamless User Experience The interface feels completely native, delivering an experience virtually identical to VMware‚Äôs built-in tools. Your team won‚Äôt need to learn new workflows or adapt to different interaction patterns. 3. Performance and Stability Assurance VMware conducts rigorous testing on certified plug-ins, guaranteeing they won‚Äôt impact vCenter performance or compromise system stability. You can deploy with confidence knowing your core infrastructure remains protected. 4. Comprehensive Support Coverage If issues arise, VMware provides direct warranty support for certified plug-ins. This means you have a single point of contact for troubleshooting, eliminating finger-pointing between vendors. ","date":"2017-06-30","objectID":"/en/2017/06/another-vmware-ready/:1:0","tags":["VMware"],"title":"Good news, Veeam passes another VMware Ready certification!","uri":"/en/2017/06/another-vmware-ready/"},{"categories":["Data Backup"],"content":"Exploring the Plugin‚Äôs Powerful Features Now let‚Äôs dive into what makes this plugin so useful. Once deployed, you‚Äôll notice a new Veeam icon in your vSphere Web Client, appearing alongside other registered plugins. Simply click to access the integrated backup management interface. ","date":"2017-06-30","objectID":"/en/2017/06/another-vmware-ready/:2:0","tags":["VMware"],"title":"Good news, Veeam passes another VMware Ready certification!","uri":"/en/2017/06/another-vmware-ready/"},{"categories":["Data Backup"],"content":"Comprehensive Infrastructure Overview The plugin provides an at-a-glance view of your entire backup infrastructure status, helping you quickly identify any issues or areas needing attention. ","date":"2017-06-30","objectID":"/en/2017/06/another-vmware-ready/:2:1","tags":["VMware"],"title":"Good news, Veeam passes another VMware Ready certification!","uri":"/en/2017/06/another-vmware-ready/"},{"categories":["Data Backup"],"content":"Backup Performance Monitoring You can easily track VM backup success rates across different time periods - the last 24 hours, 7 days, and 14 days - giving you insights into backup trends and potential problems. ","date":"2017-06-30","objectID":"/en/2017/06/another-vmware-ready/:2:2","tags":["VMware"],"title":"Good news, Veeam passes another VMware Ready certification!","uri":"/en/2017/06/another-vmware-ready/"},{"categories":["Data Backup"],"content":"Job Management Dashboard The plugin displays backup job execution status and upcoming schedules, allowing you to monitor backup operations without leaving the vSphere interface. ","date":"2017-06-30","objectID":"/en/2017/06/another-vmware-ready/:2:3","tags":["VMware"],"title":"Good news, Veeam passes another VMware Ready certification!","uri":"/en/2017/06/another-vmware-ready/"},{"categories":["Data Backup"],"content":"Processing Metrics Track the volume of virtual machines processed over the past 7 days, 14 days, and month, helping you understand your backup workload patterns and capacity planning needs. ","date":"2017-06-30","objectID":"/en/2017/06/another-vmware-ready/:2:4","tags":["VMware"],"title":"Good news, Veeam passes another VMware Ready certification!","uri":"/en/2017/06/another-vmware-ready/"},{"categories":["Data Backup"],"content":"Storage Capacity Monitoring Keep an eye on backup repository capacity to avoid running out of storage space during critical backup windows. The visual indicators make it easy to spot when repositories are approaching capacity limits. ","date":"2017-06-30","objectID":"/en/2017/06/another-vmware-ready/:2:5","tags":["VMware"],"title":"Good news, Veeam passes another VMware Ready certification!","uri":"/en/2017/06/another-vmware-ready/"},{"categories":["Data Backup"],"content":"Seamless Veeam ONE Integration If you‚Äôre also running Veeam ONE, each dashboard section includes direct links to detailed reports, allowing you to drill down into specific areas without switching between interfaces. This integration significantly streamlines your infrastructure management workflow. ","date":"2017-06-30","objectID":"/en/2017/06/another-vmware-ready/:2:6","tags":["VMware"],"title":"Good news, Veeam passes another VMware Ready certification!","uri":"/en/2017/06/another-vmware-ready/"},{"categories":["Data Backup"],"content":"Quick Backup Capabilities Beyond monitoring, the plugin also enhances your backup operations through quick backup options. Simply right-click on any VM to access the Backup menu: The plugin offers several quick backup options: VeeamZIP: Performs an immediate full backup (Active Full type), perfect for creating quick, standalone backup files when you need them most. VeeamZIP to‚Ä¶: Opens the VeeamZIP configuration interface directly within vSphere Web Client, eliminating the need to switch to the Veeam console for setup. Quick Backup: Executes a fast incremental or reverse incremental backup for on-demand protection of critical VMs. ","date":"2017-06-30","objectID":"/en/2017/06/another-vmware-ready/:3:0","tags":["VMware"],"title":"Good news, Veeam passes another VMware Ready certification!","uri":"/en/2017/06/another-vmware-ready/"},{"categories":["Data Backup"],"content":"VeeamZIP Configuration Interface The VeeamZIP settings are conveniently accessible through the Manage tab on each VM‚Äôs configuration page: Within this interface, you can configure essential backup parameters including: Backup server selection Target backup repository Encryption keys Retention settings for VeeamZIP files Compression levels Application-aware processing options These settings mirror the full Veeam console experience, ensuring consistency across your backup operations. The interface also includes immediate task trigger buttons, allowing you to start backups without navigating to separate consoles. ","date":"2017-06-30","objectID":"/en/2017/06/another-vmware-ready/:3:1","tags":["VMware"],"title":"Good news, Veeam passes another VMware Ready certification!","uri":"/en/2017/06/another-vmware-ready/"},{"categories":["Data Backup"],"content":"Progress Tracking When you execute VeeamZIP or Quick Backup operations, the progress appears directly in vSphere Web Client‚Äôs task panel, keeping you informed without disrupting your workflow: ","date":"2017-06-30","objectID":"/en/2017/06/another-vmware-ready/:3:2","tags":["VMware"],"title":"Good news, Veeam passes another VMware Ready certification!","uri":"/en/2017/06/another-vmware-ready/"},{"categories":["Data Backup"],"content":"The Bottom Line The Veeam vSphere Web Client Plugin delivers a lightweight yet powerful integration that brings essential backup management capabilities directly into your VMware environment. It combines the simplicity you need with the enterprise-grade features you expect, all backed by VMware‚Äôs certification support. For administrators managing VMware infrastructure, this plugin represents a significant step forward in operational efficiency, allowing you to monitor and manage backup operations without context switching between different management interfaces. The result is a more streamlined, intuitive backup experience that saves time while maintaining the robust protection your virtual machines require. ","date":"2017-06-30","objectID":"/en/2017/06/another-vmware-ready/:4:0","tags":["VMware"],"title":"Good news, Veeam passes another VMware Ready certification!","uri":"/en/2017/06/another-vmware-ready/"},{"categories":["Veeam Tools"],"content":"Sometimes the most exciting announcements at conferences are the ones you never saw coming. At last month‚Äôs VeeamON conference, Veeam unveiled something completely unexpected‚Äîa product that has nothing to do with backup. They called it Veeam PN (short for Veeam Powered Network), and it‚Äôs a lightweight SDN solution that quickly connects multiple sites for both site-to-site and endpoint-to-site communication. Rather than attempting a comprehensive review (you can dive deeper in Veeam KB2271 and the official help manual), I want to share how I‚Äôm using it in my home lab. ","date":"2017-06-16","objectID":"/en/2017/06/veeam-pn-intro/:0:0","tags":["VeeamON"],"title":"VeeamON 2017 Series: Alternative VPN -- Veeam PN","uri":"/en/2017/06/veeam-pn-intro/"},{"categories":["Veeam Tools"],"content":"The Remote Access Challenge My need is pretty straightforward: when I‚Äôm away from home, I want to connect to my home lab from anywhere and get work done. Sure, most VPN solutions can handle this, but they often require complex setups with varying methods depending on your environment. What caught my attention about Veeam PN is how simple it makes the whole process‚Äîwe‚Äôre talking a few minutes and a few clicks to get everything running. ","date":"2017-06-16","objectID":"/en/2017/06/veeam-pn-intro/:1:0","tags":["VeeamON"],"title":"VeeamON 2017 Series: Alternative VPN -- Veeam PN","uri":"/en/2017/06/veeam-pn-intro/"},{"categories":["Veeam Tools"],"content":"Understanding the Architecture Veeam PN runs on three core components that work together: 1. Veeam Hub This serves as the central access point and single entry point for managing all endpoints. You can deploy it anywhere with internet access‚Äîon-premises or in the cloud‚Äîas long as it can communicate with other sites over the WAN and has a public IP address. 2. Veeam Site Gateway Each site gets its own gateway that connects back to the Hub. Think of each subnet as requiring its own Site Gateway. These just need internet access‚Äîno public IP required. 3. VPN Client End users connect using any OpenVPN-compatible client, giving you plenty of options across all platforms. For my home lab setup, I‚Äôm running a single network segment (10.100.1.0/24), so I just need one Hub and one Site Gateway. The best part? Both components come from the same OVA file‚Äîyou just choose different deployment modes for each. ","date":"2017-06-16","objectID":"/en/2017/06/veeam-pn-intro/:2:0","tags":["VeeamON"],"title":"VeeamON 2017 Series: Alternative VPN -- Veeam PN","uri":"/en/2017/06/veeam-pn-intro/"},{"categories":["Veeam Tools"],"content":"Getting Started: Deployment The deployment process is refreshingly simple. In your vSphere Client, deploy the OVA just like any other virtual appliance. Once imported, you‚Äôll configure the IP address and hostname within the Ubuntu system. Since I‚Äôm running both Hub and Site Gateway at home, I deployed two VMs from the same OVA‚Äîone for each role: ","date":"2017-06-16","objectID":"/en/2017/06/veeam-pn-intro/:3:0","tags":["VeeamON"],"title":"VeeamON 2017 Series: Alternative VPN -- Veeam PN","uri":"/en/2017/06/veeam-pn-intro/"},{"categories":["Veeam Tools"],"content":"Configuring the Hub Access the Hub‚Äôs web interface (mine is at https://10.100.1.40/) using the default credentials: Username: root Password: VeeamPN You‚Äôll be prompted to change the password and select the Hub role during initialization: The setup wizard walks you through basic configuration. Fill in your details, keep the default 2048-bit encryption, and configure your public IP or DNS: I used my external DDNS domain name for the public address. Click Finish, and your Hub is ready. ","date":"2017-06-16","objectID":"/en/2017/06/veeam-pn-intro/:4:0","tags":["VeeamON"],"title":"VeeamON 2017 Series: Alternative VPN -- Veeam PN","uri":"/en/2017/06/veeam-pn-intro/"},{"categories":["Veeam Tools"],"content":"Adding Sites and Clients Now for the fun part‚Äîadding your infrastructure. Click ‚ÄúClients‚Äù and then ‚ÄúAdd‚Äù to launch the wizard: You have two options: ‚ÄúEntire Site‚Äù (for a Site Gateway) or ‚ÄúStandalone Computer‚Äù (for individual remote access): Let‚Äôs add our site first. Choose ‚ÄúEntire Site‚Äù and proceed: Give it a descriptive name and specify your subnet (mine is 10.100.1.0/24): After clicking Finish, the Hub automatically downloads an XML file‚Äîhold onto this, as you‚Äôll need it for the Site Gateway configuration. Next, repeat the process to add a client access point: This just needs a name for identification. After completing the wizard, your browser downloads an .ovpn file that you can use with any OpenVPN client. ","date":"2017-06-16","objectID":"/en/2017/06/veeam-pn-intro/:5:0","tags":["VeeamON"],"title":"VeeamON 2017 Series: Alternative VPN -- Veeam PN","uri":"/en/2017/06/veeam-pn-intro/"},{"categories":["Veeam Tools"],"content":"Configuring the Site Gateway Access your Site Gateway‚Äôs web interface and go through the same password change and initialization process‚Äîthis time, select ‚ÄúSite Gateway‚Äù instead of ‚ÄúNetwork Hub‚Äù: Import the XML file you downloaded from the Hub, click Finish, and your Site Gateway will automatically connect to the Hub: ","date":"2017-06-16","objectID":"/en/2017/06/veeam-pn-intro/:6:0","tags":["VeeamON"],"title":"VeeamON 2017 Series: Alternative VPN -- Veeam PN","uri":"/en/2017/06/veeam-pn-intro/"},{"categories":["Veeam Tools"],"content":"Final Step: Client Setup For client access, you can use any OpenVPN-compatible client across all operating systems and mobile devices. I‚Äôm using Windows with the standard OpenVPN client (openvpn-install-2.4.2-I601.exe). The installation is straightforward‚Äîrun through the installer, then import the .ovpn file you downloaded earlier. The connection process works exactly like standard OpenVPN, requiring no additional credentials. ","date":"2017-06-16","objectID":"/en/2017/06/veeam-pn-intro/:7:0","tags":["VeeamON"],"title":"VeeamON 2017 Series: Alternative VPN -- Veeam PN","uri":"/en/2017/06/veeam-pn-intro/"},{"categories":["Veeam Tools"],"content":"The Result That‚Äôs it. From anywhere in the world, I can now securely connect to my home lab and access all my resources as if I were sitting at my desk. What impresses me most about Veeam PN is its simplicity. While traditional VPN solutions often require complex networking knowledge and lengthy configuration processes, Veeam PN abstracts away the complexity while maintaining enterprise-grade security and functionality. If you‚Äôre looking for a straightforward way to connect distributed environments‚Äîwhether for home labs, branch offices, or cloud connectivity‚ÄîVeeam PN deserves a serious look. Sometimes the best solutions are the ones that just work, right out of the box. ","date":"2017-06-16","objectID":"/en/2017/06/veeam-pn-intro/:8:0","tags":["VeeamON"],"title":"VeeamON 2017 Series: Alternative VPN -- Veeam PN","uri":"/en/2017/06/veeam-pn-intro/"},{"categories":[],"content":"It‚Äôs been a hectic 72 hours. From Friday evening through today, my phone hasn‚Äôt stopped ringing. Friends calling in panic, canceling weekend plans, activating emergency protocols, desperately trying to recover their data. This WannaCry ransomware earned its name‚Äîit‚Äôs left countless unprepared organizations literally wanting to cry. Whether you paid the ransom or managed to recover your data another way, now that the dust is settling a bit, it‚Äôs time to step back and think strategically. How do we prevent this from happening again? How do we build truly comprehensive protection that leaves no gaps? Let‚Äôs rewind to before the outbreak. Backups! Backups! Backups! I can‚Äôt say this enough. When a massive ransomware attack hits, having clean backup data from before the infection makes the difference between a minor inconvenience and a catastrophe. With proper backups, this ransomware becomes relatively trivial to defeat. But what does ‚Äúproper backup‚Äù actually mean? First rule: never store backups with production data. This is the cardinal sin of backup strategy. Keeping them together is like putting all your money in one wallet‚Äîlose it, and you lose everything. It‚Äôs the most overlooked basic principle, yet it‚Äôs the mistake I see most often. And I don‚Äôt just mean on the same server or storage array. True backup isolation means your backup data should have no direct connection to your production environment whatsoever. Second: redundancy matters. Multiple backup copies are never a mistake. When you have three or more independent copies of your data, you can face these situations with confidence instead of panic. Third: test your recovery procedures. If you regularly run drills and verify that every recovery point actually works, when disaster strikes, you‚Äôll operate with confidence instead of chaos. Now, let‚Äôs talk about when the outbreak happens. Speed is everything. The faster you recover, the better. This is where instant virtual machine recovery becomes your best friend. We‚Äôre talking about rolling back to a previous save point in under two minutes and getting operations back online. No embarrassing notices on your front door, no frantic customer service calls. Of course, the reality is more nuanced. Some system-level issues can be resolved with antivirus updates and patches. But for actual file decryption? There‚Äôs no magic solution‚Äîbackup software is your only real option. And since not all files are equally critical, you need flexible recovery options. Instant VM recovery is your blunt instrument‚Äîfast and effective. But instant file-level recovery is your surgical tool. This lets you selectively restore the most important files first, getting critical business functions running while you continue recovering less essential data in the background. After the crisis: system maintenance. Once you‚Äôve stabilized the immediate emergency, it‚Äôs time to look at the systems that survived unscathed. Prevention is better than cure, and patches are available. But here‚Äôs where things get tricky again. Have you ever applied a Microsoft patch only to see the dreaded blue screen? With thousands of Windows machines requiring patches and reboots, even a 5% failure rate becomes a nightmare. Suddenly you realize the systems that survived WannaCry are being taken down by Microsoft‚Äôs own fixes. Before patching anything, always follow this protocol: First, create a fresh backup. Ensure you can roll back if things go wrong. This isn‚Äôt optional‚Äîit‚Äôs mandatory. Second, test patches in a sandbox environment. Verify they install correctly and don‚Äôt break system functionality. While you‚Äôre at it, test whether the patched systems are still vulnerable to the attack vector. These are the hard-won lessons from the WannaCry outbreak. Learn them now, before the next crisis hits. ","date":"2017-05-15","objectID":"/en/2017/05/wannacry/:0:0","tags":[],"title":"A Few Words About the 'WannaCry' Virus","uri":"/en/2017/05/wannacry/"},{"categories":["Veeam Tools"],"content":"One of the most common questions I get asked is: ‚ÄúHow effective is your backup software‚Äôs deduplication, and how much storage space will my backups actually use?‚Äù The truth is, effectiveness varies dramatically depending on your data types and storage methods. Different environments and hardware configurations can produce vastly different results, making it impossible to give a one-size-fits-all answer. But regardless of these variables, backup data needs storage space, and capacity planning becomes a critical component of any backup infrastructure design. Getting your storage capacity and bandwidth calculations right directly impacts project success, affecting storage costs, efficiency, and overall backup reliability. Let me walk you through the calculation process using a typical virtualized environment as our example. ","date":"2017-05-05","objectID":"/en/2017/05/how-to-calculate-backup-size/:0:0","tags":["backup"],"title":"How to Calculate Backup Size and Bandwidth in Data Centers","uri":"/en/2017/05/how-to-calculate-backup-size/"},{"categories":["Veeam Tools"],"content":"Our Example Environment ESXi Hosts: 25 servers Virtual Machines: 500 VMs Average VM disk capacity: 200GB Total datastore usage: 100TB ","date":"2017-05-05","objectID":"/en/2017/05/how-to-calculate-backup-size/:1:0","tags":["backup"],"title":"How to Calculate Backup Size and Bandwidth in Data Centers","uri":"/en/2017/05/how-to-calculate-backup-size/"},{"categories":["Veeam Tools"],"content":"Calculating Bandwidth Requirements Backup operations typically follow a pattern: an initial full backup followed by regular incremental backups. The first backup transfers all your virtual environment data to the backup storage, essentially moving your entire datastore usage. Subsequent backups only transfer what has changed since the last backup‚Äîtypically daily changes in most environments. The daily change rate in your environment can be accurately obtained from Veeam ONE‚Äôs change assessment report. For our example, let‚Äôs assume a conservative 7% daily change rate. Here‚Äôs what we‚Äôre working with: Initial full backup: 100TB Daily incremental backup: 7TB Now, let‚Äôs factor in Veeam‚Äôs built-in compression and deduplication. Assuming typical deduplication efficiency reduces our data by 50%, we get: Actual initial transfer: 50TB Actual daily transfer: 3.5TB ","date":"2017-05-05","objectID":"/en/2017/05/how-to-calculate-backup-size/:2:0","tags":["backup"],"title":"How to Calculate Backup Size and Bandwidth in Data Centers","uri":"/en/2017/05/how-to-calculate-backup-size/"},{"categories":["Veeam Tools"],"content":"The Bandwidth Math For our bandwidth calculations, let‚Äôs make some practical assumptions about backup windows: Initial full backup: Can run continuously for 24 hours (we‚Äôll schedule this for Saturday) Daily incremental backups: Run during off-peak hours (8 PM to 6 AM) Only 80% of the backup window is actual data transfer (the rest is job setup and overhead) This gives us: Full backup window: 24 hours √ó 80% = 19.2 hours of actual transfer time Incremental backup window: 10 hours √ó 80% = 8 hours of actual transfer time Now for the calculations: Full backup bandwidth requirement: 50TB √ó 1024GB/TB √ó 8bits/byte √∑ (24hrs √ó 3600sec/hr √ó 0.8) = 5.93 Gbps Incremental backup bandwidth requirement: 3.5TB √ó 1024GB/TB √ó 8bits/byte √∑ (10hrs √ó 3600sec/hr √ó 0.8) = 1.0 Gbps With these numbers, you can now plan your network and storage throughput accordingly, configuring the right number of network cards or HBAs to achieve these transfer rates. ","date":"2017-05-05","objectID":"/en/2017/05/how-to-calculate-backup-size/:2:1","tags":["backup"],"title":"How to Calculate Backup Size and Bandwidth in Data Centers","uri":"/en/2017/05/how-to-calculate-backup-size/"},{"categories":["Veeam Tools"],"content":"Planning Storage Capacity Storage capacity planning becomes straightforward when you understand your backup retention strategy. Let‚Äôs work with a common scenario: keeping at least 14 backup points, with weekly full backups and daily incrementals. Here‚Äôs what our two-week retention cycle looks like: Day Backup Type Size 1 Full Backup 50 TB 2 Incremental 3.5 TB 3 Incremental 3.5 TB 4 Incremental 3.5 TB 5 Incremental 3.5 TB 6 Incremental 3.5 TB 7 Incremental 3.5 TB 8 Full Backup 50 TB 9 Incremental 3.5 TB 10 Incremental 3.5 TB 11 Incremental 3.5 TB 12 Incremental 3.5 TB 13 Incremental 3.5 TB 14 Incremental 3.5 TB Capacity calculations: Raw backup data: 209.5 TB 15% buffer space: 31.4 TB Total recommended capacity: 240.9 TB ","date":"2017-05-05","objectID":"/en/2017/05/how-to-calculate-backup-size/:3:0","tags":["backup"],"title":"How to Calculate Backup Size and Bandwidth in Data Centers","uri":"/en/2017/05/how-to-calculate-backup-size/"},{"categories":["Veeam Tools"],"content":"A Better Way to Plan While these manual calculations give you a solid foundation, I highly recommend checking out the Veeam Backup Repository Capacity Planning Tool created by my international colleagues. This web-based tool offers more comprehensive calculations with additional variables you can customize for your specific environment. You can access it at: http://vee.am/rps The tool provides a more detailed analysis and can help you fine-tune your capacity planning based on your unique requirements and constraints. Capacity planning might seem complex, but getting it right from the start saves countless headaches down the road. Whether you‚Äôre planning a new deployment or optimizing an existing one, taking the time to do the math properly ensures your backup infrastructure will be ready when you need it most. ","date":"2017-05-05","objectID":"/en/2017/05/how-to-calculate-backup-size/:4:0","tags":["backup"],"title":"How to Calculate Backup Size and Bandwidth in Data Centers","uri":"/en/2017/05/how-to-calculate-backup-size/"},{"categories":["Veeam Tools"],"content":"While vSphere and Hyper-V each offer their own migration technologies, Veeam brings a different perspective to the table. As a data protection platform, Veeam offers IT administrators another approach to VM migration through what‚Äôs commonly known as Quick Migration. If you‚Äôve worked with Veeam before, you might recognize Quick Migration as an option during Instant VM Recovery. It‚Äôs an optional step in the recovery process that becomes particularly useful when you need to move data from backup storage to production storage. Think about those scenarios where you don‚Äôt have VMware Enterprise Plus licensing for Storage vMotion, or perhaps vCenter is unavailable during recovery and you‚Äôre working with just a single ESXi host. In these situations, Quick Migration shines as an excellent alternative. Yes, it comes with a bit more downtime than Storage vMotion, but you gain much broader compatibility ‚Äì making it a fantastic complementary tool to have in your arsenal. But that‚Äôs just scratching the surface. Quick Migration offers far more capabilities than you might initially expect. ","date":"2017-04-21","objectID":"/en/2017/04/veeam-quick-migration/:0:0","tags":["Migration"],"title":"Veeam's Quick Migration Technology","uri":"/en/2017/04/veeam-quick-migration/"},{"categories":["Veeam Tools"],"content":"Cross-vCenter and Cross-Datacenter Migration Anyone who‚Äôs tackled VM migration across different vCenters or datacenters knows it typically involves complex manual procedures or expensive enterprise solutions. Veeam changes this equation entirely. With Quick Migration, what was once a daunting task becomes remarkably straightforward. As long as you have a suitable proxy server available, Veeam can handle these cross-boundary migrations seamlessly. The best part? This isn‚Äôt a backup-dependent operation. Veeam can migrate VMs directly without requiring prior backup or replication jobs as prerequisites. The process is refreshingly simple ‚Äì just navigate to the Veeam console, click the Quick Migration button, and follow the wizard. During migration, Veeam handles the essentials like Thin/Thick provisioning conversions and disk redirection automatically. ","date":"2017-04-21","objectID":"/en/2017/04/veeam-quick-migration/:0:1","tags":["Migration"],"title":"Veeam's Quick Migration Technology","uri":"/en/2017/04/veeam-quick-migration/"},{"categories":["Veeam Tools"],"content":"LAN-free Migration Yes, you read that right ‚Äì LAN-free VM migration is possible with Veeam. Quick Migration can be configured to work completely outside your regular network infrastructure when you set up your proxy servers strategically. By leveraging Direct SAN Access technology, Quick Migration can use either Fiber Channel or Direct NFS connections. This approach completely bypasses potential VMKernel bandwidth bottlenecks, giving you precise control over data flow. For large VM migrations where network bandwidth becomes a critical concern, this capability can be a real game-changer. Of course, you could potentially achieve similar results with other tools and methods, but Veeam‚Äôs Quick Migration gives us another powerful option in our virtualization toolkit. Having multiple approaches to tackle the daily challenges of virtualized data management means we can always choose the right tool for the job. Sometimes the best solutions aren‚Äôt the most expensive or complex ones ‚Äì they‚Äôre the ones that work reliably in your specific environment. Quick Migration exemplifies this philosophy perfectly. ","date":"2017-04-21","objectID":"/en/2017/04/veeam-quick-migration/:0:2","tags":["Migration"],"title":"Veeam's Quick Migration Technology","uri":"/en/2017/04/veeam-quick-migration/"},{"categories":["Data Recovery"],"content":"When it comes to restoring virtual machines, you typically have several recovery methods at your disposal, each suited for different scenarios. Among these, file-level recovery stands out as one of the most widely used approaches. This isn‚Äôt exactly cutting-edge technology‚Äîthe need for it emerged alongside virtualization backup itself, and major backup software vendors quickly implemented support for it. On the surface, file-level recovery seems straightforward, but when you actually need to use it, Veeam offers some powerful capabilities that can make a real difference. Let me walk you through a scenario I encountered recently. I opened up the file-level recovery browser‚Äîthe interface you typically get from backup software vendors: Looking at this screen, I found numerous PDF files, but here‚Äôs the problem: I had no idea what any of these files actually contained. The filenames weren‚Äôt descriptive enough to tell me what was inside. Before committing to a recovery operation, I really wanted to preview their contents first. What if I recovered the wrong files? That would be a complete waste of time and effort. Unfortunately, the standard interfaces provided by most backup software don‚Äôt let you preview files before recovery. This is where Veeam‚Äôs File-Level Recovery (FLR) has an incredibly useful feature. Check out this button: This seemingly simple button unlocks a powerful capability. When you click it, something remarkable happens: Suddenly, those PDF files I couldn‚Äôt examine before are now accessible on my local machine. I can open them, review their contents, and make an informed decision about whether they‚Äôre worth restoring. Pretty impressive, right? Here‚Äôs another common scenario: what if you have a ZIP archive and only need specific files from within it? That same powerful button comes to the rescue: This button opens up endless possibilities for recovery operations. For any file type that requires specialized applications to open‚Äîwhether it‚Äôs complex databases, proprietary formats, or archive files‚Äîas long as you have the appropriate application installed on your system, this button enables you to extract and recover the specific content you need. At the end of the day, data content is what truly matters in our IT environments. Any recovery process that doesn‚Äôt consider the actual content you‚Äôre restoring is fundamentally incomplete. So before you initiate your next file-level recovery, remember to use this powerful feature‚Äîit could save you from restoring the wrong data and ensure you recover exactly what you need. ","date":"2017-04-20","objectID":"/en/2017/04/secret-in-file-level-recovery/:0:0","tags":["Recovery"],"title":"The Secret of File-Level Recovery","uri":"/en/2017/04/secret-in-file-level-recovery/"}]